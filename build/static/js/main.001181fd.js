/*! For license information please see main.001181fd.js.LICENSE.txt */
!function(){var e={383:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},358:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},586:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},329:function(e,t,n){!function(){var t=n(358),r=n(383).utf8,i=n(586),a=n(383).bin,o=function e(n,o){n.constructor==String?n=o&&"binary"===o.encoding?a.stringToBytes(n):r.stringToBytes(n):i(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var s=t.bytesToWords(n),u=8*n.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=e._ff,v=e._gg,m=e._hh,y=e._ii;for(d=0;d<s.length;d+=16){var g=c,k=l,b=f,w=h;c=p(c,l,f,h,s[d+0],7,-680876936),h=p(h,c,l,f,s[d+1],12,-389564586),f=p(f,h,c,l,s[d+2],17,606105819),l=p(l,f,h,c,s[d+3],22,-1044525330),c=p(c,l,f,h,s[d+4],7,-176418897),h=p(h,c,l,f,s[d+5],12,1200080426),f=p(f,h,c,l,s[d+6],17,-1473231341),l=p(l,f,h,c,s[d+7],22,-45705983),c=p(c,l,f,h,s[d+8],7,1770035416),h=p(h,c,l,f,s[d+9],12,-1958414417),f=p(f,h,c,l,s[d+10],17,-42063),l=p(l,f,h,c,s[d+11],22,-1990404162),c=p(c,l,f,h,s[d+12],7,1804603682),h=p(h,c,l,f,s[d+13],12,-40341101),f=p(f,h,c,l,s[d+14],17,-1502002290),c=v(c,l=p(l,f,h,c,s[d+15],22,1236535329),f,h,s[d+1],5,-165796510),h=v(h,c,l,f,s[d+6],9,-1069501632),f=v(f,h,c,l,s[d+11],14,643717713),l=v(l,f,h,c,s[d+0],20,-373897302),c=v(c,l,f,h,s[d+5],5,-701558691),h=v(h,c,l,f,s[d+10],9,38016083),f=v(f,h,c,l,s[d+15],14,-660478335),l=v(l,f,h,c,s[d+4],20,-405537848),c=v(c,l,f,h,s[d+9],5,568446438),h=v(h,c,l,f,s[d+14],9,-1019803690),f=v(f,h,c,l,s[d+3],14,-187363961),l=v(l,f,h,c,s[d+8],20,1163531501),c=v(c,l,f,h,s[d+13],5,-1444681467),h=v(h,c,l,f,s[d+2],9,-51403784),f=v(f,h,c,l,s[d+7],14,1735328473),c=m(c,l=v(l,f,h,c,s[d+12],20,-1926607734),f,h,s[d+5],4,-378558),h=m(h,c,l,f,s[d+8],11,-2022574463),f=m(f,h,c,l,s[d+11],16,1839030562),l=m(l,f,h,c,s[d+14],23,-35309556),c=m(c,l,f,h,s[d+1],4,-1530992060),h=m(h,c,l,f,s[d+4],11,1272893353),f=m(f,h,c,l,s[d+7],16,-155497632),l=m(l,f,h,c,s[d+10],23,-1094730640),c=m(c,l,f,h,s[d+13],4,681279174),h=m(h,c,l,f,s[d+0],11,-358537222),f=m(f,h,c,l,s[d+3],16,-722521979),l=m(l,f,h,c,s[d+6],23,76029189),c=m(c,l,f,h,s[d+9],4,-640364487),h=m(h,c,l,f,s[d+12],11,-421815835),f=m(f,h,c,l,s[d+15],16,530742520),c=y(c,l=m(l,f,h,c,s[d+2],23,-995338651),f,h,s[d+0],6,-198630844),h=y(h,c,l,f,s[d+7],10,1126891415),f=y(f,h,c,l,s[d+14],15,-1416354905),l=y(l,f,h,c,s[d+5],21,-57434055),c=y(c,l,f,h,s[d+12],6,1700485571),h=y(h,c,l,f,s[d+3],10,-1894986606),f=y(f,h,c,l,s[d+10],15,-1051523),l=y(l,f,h,c,s[d+1],21,-2054922799),c=y(c,l,f,h,s[d+8],6,1873313359),h=y(h,c,l,f,s[d+15],10,-30611744),f=y(f,h,c,l,s[d+6],15,-1560198380),l=y(l,f,h,c,s[d+13],21,1309151649),c=y(c,l,f,h,s[d+4],6,-145523070),h=y(h,c,l,f,s[d+11],10,-1120210379),f=y(f,h,c,l,s[d+2],15,718787259),l=y(l,f,h,c,s[d+9],21,-343485551),c=c+g>>>0,l=l+k>>>0,f=f+b>>>0,h=h+w>>>0}return t.endian([c,l,f,h])};o._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):t.bytesToHex(r)}}()},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Te=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Te)&&(Ae(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,Tt,St,_t=!1,It=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){_t=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Tn}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(_n),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){jr(e,0)}function Yn(e){if(W(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Tr={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Er[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Sr("animationend"),Ir=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case _r:case Ir:case Cr:u=yn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Gn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Ti(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function _i(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ii={},Ci=Ti(Ii),Ai=Ti(!1),Ni=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));_i(Ci,t),_i(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ci.current,_i(Ci,e),_i(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),_i(Ci,e)):Si(Ai),_i(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We($e,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Gi=0,Hi=null,Ki=0,Wi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Gi++]=Ki,qi[Gi++]=Hi,Hi=e,Ki=t}function $i(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Gi],qi[Gi]=null,Ki=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ti(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var _a=null;function Ia(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Ti(Za),eo=Ti(Za),to=Ti(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),_i($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(_i(eo,e),_i($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=Ti(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Io().memoizedState}function Bo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=To(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Pi(t,a),Ta(t,i),n=To(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Gs(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ga(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Pi(t,u=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ga(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ws(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Ds(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,_i(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,$s=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){$s=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,$s=u):Eu(i);for(;null!==a;)$s=a,bu(a,t,n),a=a.sibling;$s=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Eu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Tu,Su=Math.ceil,_u=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Au=0,Nu=null,Pu=null,Ru=0,Du=0,Ou=Ti(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,Bu=null,zu=0,qu=1/0,Gu=null,Hu=!1,Ku=null,Wu=null,Qu=!1,Yu=null,Xu=0,Ju=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Au)?Je():-1!==$u?$u:$u=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(a(185));yt(e,n,r),0!==(2&Au)&&e===Nu||(e===Nu&&(0===(2&Au)&&(ju|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=Je()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Au)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Nu===e&&Ru===t||(Gu=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),_u.current=o,Au=i,null!==Pu?t=0:(Nu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,Gu),t);break}xc(e,Bu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,Gu),r);break}xc(e,Bu,Gu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,Gu),ic(e,Je()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=Je()+500,Ui&&zi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&Ec();var t=Au;Au|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Au=t))&&zi()}}function hc(){Du=Ou.current,Si(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Oc(e.current,null),Ru=Du=t,Lu=0,Mu=null,Uu=ju=Fu=0,Bu=Vu=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Wu||!Wu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=_u.current;return _u.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Nu,Ru)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Nu===e&&Ru===t||(Gu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Au=n,_u.current=r,null!==Pu)throw Error(a(261));return Nu=null,Ru=0,Lu}function gc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=Tu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Du)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Pu=Nu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Au=u,kt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Xu)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,zi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function Ec(){if(null!==Yu){var e=bt(Xu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var k=e.current;for($s=k;null!==$s;){var b=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,$s=b;else e:for(s=k;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Au=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function Tc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Je()-zu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case T:s=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(_i(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);_i(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ta(t,n),i=To(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_i(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ta(t,n),qa(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&Au)&&(qu=Je()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},Tt=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,_e,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!T.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,_=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(T=!1,S=null)}}else T=!1}if("function"===typeof k)E=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,E=function(){R.postMessage(null)}}else E=function(){y(N,0)};function D(e){S=e,T||(T=!0,E())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Yn},SDK_VERSION:function(){return si},_DEFAULT_ENTRY_NAME:function(){return Qr},_addComponent:function(){return Zr},_addOrOverwriteComponent:function(){return $r},_apps:function(){return Xr},_clearComponents:function(){return ri},_components:function(){return Jr},_getProvider:function(){return ti},_registerComponent:function(){return ei},_removeServiceInstance:function(){return ni},deleteApp:function(){return fi},getApp:function(){return ci},getApps:function(){return li},initializeApp:function(){return ui},onLog:function(){return pi},registerVersion:function(){return di},setLogLevel:function(){return vi}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof k?t:k,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:C(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function k(){}function b(){}function w(){}var x={};f(x,u,(function(){return this}));var E=Object.getPrototypeOf,T=E&&E(E(D([])));T&&T!==n&&r.call(T,u)&&(x=T);var S=w.prototype=k.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function C(t,n,r){var i=p;return function(a,o){if(i===m)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?y:v,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(I.prototype),f(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new I(h(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(S),f(S,l,"Generator"),f(S,u,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function c(e){if(Array.isArray(e))return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||f(e,t)||h()}function p(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var m=n(694),y=n.n(m),g=!("undefined"===typeof window||!window.document||!window.document.createElement),k=!1,b=!1;try{var w={get passive(){return k=!0},get once(){return b=k=!0}};g&&(window.addEventListener("test",w,w),window.removeEventListener("test",w,!0))}catch(tz){}var x=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!b){var i=r.once,a=r.capture,o=n;!b&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,k?r:a)}e.addEventListener(t,n,r)};function E(e){return e&&e.ownerDocument||document}var T,S=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function _(e){if((!T&&0!==T||e)&&g){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),T=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return T}var I=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function C(e){var n=I(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function A(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function N(e,t){return function(e){var t=E(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var P=/([A-Z])/g;var R=/^ms-/;function D(e){return function(e){return e.replace(P,"-$1").toLowerCase()}(e).replace(R,"-ms-")}var O=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var L=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(D(t))||N(e).getPropertyValue(D(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!O.test(e))}(i)?n+=D(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(D(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var M=function(e,t,n,r){return x(e,t,n,r),function(){S(e,t,n,r)}};function F(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=M(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function j(e,t,n,r){null==n&&(n=function(e){var t=L(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=F(e,n,r),a=M(e,"transitionend",t);return function(){i(),a()}}function U(e){void 0===e&&(e=E());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(tz){return e.body}}function V(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var B=n(7),z=n.n(B),q=n(164);function G(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function H(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function K(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=H(e.className,t):e.setAttribute("class",H(e.className&&e.className.baseVal||"",t))}function W(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function Q(e){var t;return W(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=W(e)?E():E(e),n=W(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var Y=["template","script","style"],X=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===Y.indexOf(n.toLowerCase())}(e)&&n(e)}))};function J(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var Z,$=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,a=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=_()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(L(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),L(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;X(e,[n,r],(function(e){return J(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),r;var a={modals:[e],classes:n?n.split(/\s+/):[],overflowing:Q(t)};return this.handleContainerOverflow&&this.setContainerStyle(a,t),a.classes.forEach(G.bind(null,t)),this.containers.push(t),this.data.push(a),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(K.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;X(e,[n,r],(function(e){return J(!1,e)}))}(i,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var a=r.modals[r.modals.length-1],o=a.backdrop;J(!1,a.dialog),J(!1,o)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),ee=$,te=function(e){var t;return"undefined"===typeof document?null:null==e?E().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function ne(e){var n=e||(Z||(Z=new ee),Z),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,t){return n.add(r.current,e,t)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){r.current.backdrop=e}),[])})}var re=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,d=void 0===h||h,m=e.onBackdropClick,y=e.onEscapeKeyDown,k=e.transition,b=e.backdropTransition,w=e.autoFocus,x=void 0===w||w,E=e.enforceFocus,T=void 0===E||E,S=e.restoreFocus,_=void 0===S||S,I=e.restoreFocusOptions,N=e.renderDialog,P=e.renderBackdrop,R=void 0===P?function(e){return t.createElement("div",e)}:P,D=e.manager,O=e.container,L=e.containerClassName,F=e.onShow,j=e.onHide,B=void 0===j?function(){}:j,z=e.onExit,G=e.onExited,H=e.onExiting,K=e.onEnter,W=e.onEntering,Q=e.onEntered,Y=p(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),X=function(e,n){var r=(0,t.useState)((function(){return te(e)})),i=r[0],a=r[1];if(!i){var o=te(e);o&&a(o)}return(0,t.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,t.useEffect)((function(){var t=te(e);t!==i&&a(t)}),[e,i]),i}(O),J=ne(D),Z=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),$=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),ee=(0,t.useState)(!i),re=ee[0],ie=ee[1],ae=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return J}),[J]),g&&!$&&i&&(ae.current=U()),k||i||re?i&&re&&ie(!1):ie(!0);var oe=C((function(){if(J.add(X,L),he.current=M(document,"keydown",le),fe.current=M(document,"focus",(function(){return setTimeout(ue)}),!0),F&&F(),x){var e=U(document);J.dialog&&e&&!V(J.dialog,e)&&(ae.current=e,J.dialog.focus())}})),se=C((function(){var e;(J.remove(),null==he.current||he.current(),null==fe.current||fe.current(),_)&&(null==(e=ae.current)||null==e.focus||e.focus(I),ae.current=null)}));(0,t.useEffect)((function(){i&&X&&oe()}),[i,X,oe]),(0,t.useEffect)((function(){re&&se()}),[re,se]),A((function(){se()}));var ue=C((function(){if(T&&Z()&&J.isTopModal()){var e=U();J.dialog&&e&&!V(J.dialog,e)&&J.dialog.focus()}})),ce=C((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===f&&B())})),le=C((function(e){d&&27===e.keyCode&&J.isTopModal()&&(null==y||y(e),e.defaultPrevented||B())})),fe=(0,t.useRef)(),he=(0,t.useRef)(),de=k;if(!X||!(i||de&&!re))return null;var pe=v({role:o,ref:J.setDialogRef,"aria-modal":"dialog"===o||void 0},Y,{style:u,className:s,tabIndex:-1}),ve=N?N(pe):t.createElement("div",pe,t.cloneElement(c,{role:"document"}));de&&(ve=t.createElement(de,{appear:!0,unmountOnExit:!0,in:!!i,onExit:z,onExiting:H,onExited:function(){ie(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==G||G.apply(void 0,t)},onEnter:K,onEntering:W,onEntered:Q},ve));var me=null;if(f){var ye=b;me=R({ref:J.setBackdropRef,onClick:ce}),ye&&(me=t.createElement(ye,{appear:!0,in:!!i},me))}return t.createElement(t.Fragment,null,q.createPortal(t.createElement(t.Fragment,null,me,ve),X))})),ie={show:z().bool,container:z().any,onShow:z().func,onHide:z().func,backdrop:z().oneOfType([z().bool,z().oneOf(["static"])]),renderDialog:z().func,renderBackdrop:z().func,onEscapeKeyDown:z().func,onBackdropClick:z().func,containerClassName:z().string,keyboard:z().bool,transition:z().elementType,backdropTransition:z().elementType,autoFocus:z().bool,enforceFocus:z().bool,restoreFocus:z().bool,restoreFocusOptions:z().shape({preventScroll:z().bool}),onEnter:z().func,onEntering:z().func,onEntered:z().func,onExit:z().func,onExiting:z().func,onExited:z().func,manager:z().instanceOf(ee)};re.displayName="Modal",re.propTypes=ie;var ae=Object.assign(re,{Manager:ee});n(391);function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}var ue=Function.prototype.bind.call(Function.prototype.call,[].slice);function ce(e,t){return ue(e.querySelectorAll(t))}var le=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fe=".sticky-top",he=".navbar-toggler",de=function(e){function t(){return e.apply(this,arguments)||this}se(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,i=t.style[e];t.dataset[e]=i,L(t,((r={})[e]=parseFloat(L(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],L(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var i=_();ce(n,le).forEach((function(e){return r.adjustAndStore("paddingRight",e,i)})),ce(n,fe).forEach((function(e){return r.adjustAndStore("marginRight",e,-i)})),ce(n,he).forEach((function(e){return r.adjustAndStore("marginRight",e,i)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),ce(n,le).forEach((function(e){return r.restore("paddingRight",e)})),ce(n,fe).forEach((function(e){return r.restore("marginRight",e)})),ce(n,he).forEach((function(e){return r.restore("marginRight",e)}))},t}(ee),pe=!1,ve=t.createContext(null),me="unmounted",ye="exited",ge="entering",ke="entered",be="exiting",we=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=ye,r.appearStatus=ge):i=ke:i=t.unmountOnExit||t.mountOnEnter?me:ye,r.state={status:i},r.nextCallback=null,r}se(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===me?{status:ye}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ge&&n!==ke&&(t=ge):n!==ge&&n!==ke||(t=be)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ge){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:q.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ye&&this.setState({status:me})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[q.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||pe?this.safeSetState({status:ke},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:ge},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:ke},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:q.findDOMNode(this);t&&!pe?(this.props.onExit(r),this.safeSetState({status:be},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ye},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ye},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:q.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===me)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,p(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ve.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function xe(){}we.contextType=ve,we.propTypes={},we.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xe,onEntering:xe,onEntered:xe,onExit:xe,onExiting:xe,onExited:xe},we.UNMOUNTED=me,we.EXITED=ye,we.ENTERING=ge,we.ENTERED=ke,we.EXITING=be;var Ee=we;function Te(e,t){var n=L(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Se(e,t){var n=Te(e,"transitionDuration"),r=Te(e,"transitionDelay"),i=j(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var _e,Ie=["className","children"],Ce=((_e={})[ge]="show",_e[ke]="show",_e),Ae=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=p(e,Ie),o=(0,t.useCallback)((function(e){!function(e){e.offsetHeight}(e),a.onEnter&&a.onEnter(e)}),[a]);return t.createElement(Ee,v({ref:n,addEndListener:Se},a,{onEnter:o}),(function(e,n){return t.cloneElement(i,v({},n,{className:y()("fade",r,i.props.className,Ce[e])}))}))}));Ae.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ae.displayName="Fade";var Ne=Ae,Pe=/-(.)/g;var Re=t.createContext({});Re.Consumer,Re.Provider;function De(e,n){var r=(0,t.useContext)(Re);return e||r[n]||n}var Oe=["className","bsPrefix","as"],Le=function(e){return e[0].toUpperCase()+(t=e,t.replace(Pe,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Me(e,n){var r=void 0===n?{}:n,i=r.displayName,a=void 0===i?Le(e):i,o=r.Component,s=r.defaultProps,u=t.forwardRef((function(n,r){var i=n.className,a=n.bsPrefix,s=n.as,u=void 0===s?o||"div":s,c=p(n,Oe),l=De(a,e);return t.createElement(u,v({ref:r,className:y()(i,l)},c))}));return u.defaultProps=s,u.displayName=a,u}var Fe=Me("modal-body"),je=t.createContext({onHide:function(){}}),Ue=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],Ve=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.contentClassName,o=e.centered,s=e.size,u=e.children,c=e.scrollable,l=p(e,Ue),f=(r=De(r,"modal"))+"-dialog";return t.createElement("div",v({},l,{ref:n,className:y()(f,i,s&&r+"-"+s,o&&f+"-centered",c&&f+"-scrollable")}),t.createElement("div",{className:y()(r+"-content",a)},u))}));Ve.displayName="ModalDialog";var Be=Ve,ze=Me("modal-footer"),qe=["label","onClick","className"],Ge={label:z().string.isRequired,onClick:z().func},He=t.forwardRef((function(e,n){var r=e.label,i=e.onClick,a=e.className,o=p(e,qe);return t.createElement("button",v({ref:n,type:"button",className:y()("close",a),onClick:i},o),t.createElement("span",{"aria-hidden":"true"},"\xd7"),t.createElement("span",{className:"sr-only"},r))}));He.displayName="CloseButton",He.propTypes=Ge,He.defaultProps={label:"Close"};var Ke=He,We=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Qe=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.closeLabel,a=e.closeButton,o=e.onHide,s=e.className,u=e.children,c=p(e,We);r=De(r,"modal-header");var l=(0,t.useContext)(je),f=C((function(){l&&l.onHide(),o&&o()}));return t.createElement("div",v({ref:n},c,{className:y()(s,r)}),u,a&&t.createElement(Ke,{label:i,onClick:f}))}));Qe.displayName="ModalHeader",Qe.defaultProps={closeLabel:"Close",closeButton:!1};var Ye,Xe=Qe,Je=function(e){return t.forwardRef((function(n,r){return t.createElement("div",v({},n,{ref:r,className:y()(n.className,e)}))}))},Ze=Me("modal-title",{Component:Je("h4")}),$e=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],et={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Be};function tt(e){return t.createElement(Ne,v({},e,{timeout:null}))}function nt(e){return t.createElement(Ne,v({},e,{timeout:null}))}var rt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,s=e.contentClassName,u=e.children,c=e.dialogAs,l=e["aria-labelledby"],f=e["aria-describedby"],h=e["aria-label"],d=e.show,m=e.animation,k=e.backdrop,b=e.keyboard,w=e.onEscapeKeyDown,T=e.onShow,I=e.onHide,N=e.container,P=e.autoFocus,R=e.enforceFocus,D=e.restoreFocus,O=e.restoreFocusOptions,L=e.onEntered,M=e.onExit,F=e.onExiting,U=e.onEnter,V=e.onEntering,B=e.onExited,z=e.backdropClassName,q=e.manager,G=p(e,$e),H=(0,t.useState)({}),K=H[0],W=H[1],Q=(0,t.useState)(!1),Y=Q[0],X=Q[1],J=(0,t.useRef)(!1),Z=(0,t.useRef)(!1),$=(0,t.useRef)(null),ee=(0,t.useState)(null),te=ee[0],ne=ee[1],re=C(I);r=De(r,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return te}}}),[te]);var ie=(0,t.useMemo)((function(){return{onHide:re}}),[re]);function oe(){return q||(Ye||(Ye=new de),Ye)}function se(e){if(g){var t=oe().isContainerOverflowing(te),n=e.scrollHeight>E(e).documentElement.clientHeight;W({paddingRight:t&&!n?_():void 0,paddingLeft:!t&&n?_():void 0})}}var ue=C((function(){te&&se(te.dialog)}));A((function(){S(window,"resize",ue),$.current&&$.current()}));var ce=function(){J.current=!0},le=function(e){J.current&&te&&e.target===te.dialog&&(Z.current=!0),J.current=!1},fe=function(){X(!0),$.current=j(te.dialog,(function(){X(!1)}))},he=function(e){"static"!==k?Z.current||e.target!==e.currentTarget?Z.current=!1:null==I||I():function(e){e.target===e.currentTarget&&fe()}(e)},pe=(0,t.useCallback)((function(e){return t.createElement("div",v({},e,{className:y()(r+"-backdrop",z,!m&&"show")}))}),[m,z,r]),ve=v({},a,K);m||(ve.display="block");return t.createElement(je.Provider,{value:ie},t.createElement(ae,{show:d,ref:ne,backdrop:k,container:N,keyboard:!0,autoFocus:P,enforceFocus:R,restoreFocus:D,restoreFocusOptions:O,onEscapeKeyDown:function(e){b||"static"!==k?b&&w&&w(e):(e.preventDefault(),fe())},onShow:T,onHide:I,onEnter:function(e,t){e&&(e.style.display="block",se(e)),null==U||U(e,t)},onEntering:function(e,t){null==V||V(e,t),x(window,"resize",ue)},onEntered:L,onExit:function(e){null==$.current||$.current(),null==M||M(e)},onExiting:F,onExited:function(e){e&&(e.style.display=""),null==B||B(e),S(window,"resize",ue)},manager:oe(),containerClassName:r+"-open",transition:m?tt:void 0,backdropTransition:m?nt:void 0,renderBackdrop:pe,renderDialog:function(e){return t.createElement("div",v({role:"dialog"},e,{style:ve,className:y()(i,r,Y&&r+"-static"),onClick:k?he:void 0,onMouseUp:le,"aria-label":h,"aria-labelledby":l,"aria-describedby":f}),t.createElement(c,v({},G,{onMouseDown:ce,className:o,contentClassName:s}),u))}}))}));rt.displayName="Modal",rt.defaultProps=et,rt.Body=Fe,rt.Header=Xe,rt.Title=Ze,rt.Footer=ze,rt.Dialog=Be,rt.TRANSITION_DURATION=300,rt.BACKDROP_TRANSITION_DURATION=150;var it=rt;n(176);function at(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ot(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function st(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[at(i)],u=o[i],c=p(o,[at(i),i].map(ot)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[l]),h=f[0],d=f[1];return v({},c,((a={})[i]=h,a[l]=d,a))}),e)}function ut(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ct(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function lt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ut.__suppressDeprecationWarning=!0,ct.__suppressDeprecationWarning=!0,lt.__suppressDeprecationWarning=!0;var ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},ht=["as","disabled","onKeyDown"];function dt(e){return!e||"#"===e.trim()}var pt=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"a":r,a=e.disabled,o=e.onKeyDown,s=p(e,ht),u=function(e){var t=s.href,n=s.onClick;(a||dt(t))&&e.preventDefault(),a?e.stopPropagation():n&&n(e)};return dt(s.href)&&(s.role=s.role||"button",s.href=s.href||"#"),a&&(s.tabIndex=-1,s["aria-disabled"]=!0),t.createElement(i,v({ref:n},s,{onClick:u,onKeyDown:ft((function(e){" "===e.key&&(e.preventDefault(),u(e))}),o)}))}));pt.displayName="SafeAnchor";var vt=pt,mt=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],yt=Je("h4");yt.displayName="DivStyledAsH4";var gt=Me("alert-heading",{Component:yt}),kt=Me("alert-link",{Component:vt}),bt={show:!0,transition:Ne,closeLabel:"Close alert"},wt=t.forwardRef((function(e,n){var r=st(e,{show:"onClose"}),i=r.bsPrefix,a=r.show,o=r.closeLabel,s=r.className,u=r.children,c=r.variant,l=r.onClose,f=r.dismissible,h=r.transition,d=p(r,mt),m=De(i,"alert"),g=C((function(e){l&&l(!1,e)})),k=!0===h?Ne:h,b=t.createElement("div",v({role:"alert"},k?void 0:d,{ref:n,className:y()(s,m,c&&m+"-"+c,f&&m+"-dismissible")}),f&&t.createElement(Ke,{onClick:g,label:o}),u);return k?t.createElement(k,v({unmountOnExit:!0},d,{ref:void 0,in:a}),b):a?b:null}));wt.displayName="Alert",wt.defaultProps=bt,wt.Link=kt,wt.Heading=gt;var xt=wt,Et=(n(573),["as","className","type","tooltip"]),Tt={type:z().string,tooltip:z().bool,as:z().elementType},St=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,a=e.className,o=e.type,s=void 0===o?"valid":o,u=e.tooltip,c=void 0!==u&&u,l=p(e,Et);return t.createElement(i,v({},l,{ref:n,className:y()(a,s+"-"+(c?"tooltip":"feedback"))}))}));St.displayName="Feedback",St.propTypes=Tt;var _t=St,It=t.createContext({controlId:void 0}),Ct=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],At=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsCustomPrefix,o=e.className,s=e.type,u=void 0===s?"checkbox":s,c=e.isValid,l=void 0!==c&&c,f=e.isInvalid,h=void 0!==f&&f,d=e.isStatic,m=e.as,g=void 0===m?"input":m,k=p(e,Ct),b=(0,t.useContext)(It),w=b.controlId,x=b.custom?[a,"custom-control-input"]:[i,"form-check-input"];return i=De(x[0],x[1]),t.createElement(g,v({},k,{ref:n,type:u,id:r||w,className:y()(o,i,l&&"is-valid",h&&"is-invalid",d&&"position-static")}))}));At.displayName="FormCheckInput";var Nt=At,Pt=["bsPrefix","bsCustomPrefix","className","htmlFor"],Rt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,o=e.htmlFor,s=p(e,Pt),u=(0,t.useContext)(It),c=u.controlId,l=u.custom?[i,"custom-control-label"]:[r,"form-check-label"];return r=De(l[0],l[1]),t.createElement("label",v({},s,{ref:n,htmlFor:o||c,className:y()(a,r)}))}));Rt.displayName="FormCheckLabel";var Dt=Rt,Ot=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],Lt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsCustomPrefix,o=e.inline,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,m=e.feedbackTooltip,g=void 0!==m&&m,k=e.feedback,b=e.className,w=e.style,x=e.title,E=void 0===x?"":x,T=e.type,S=void 0===T?"checkbox":T,_=e.label,I=e.children,C=e.custom,A=e.as,N=void 0===A?"input":A,P=p(e,Ot),R="switch"===S||C,D=R?[a,"custom-control"]:[i,"form-check"];i=De(D[0],D[1]);var O=(0,t.useContext)(It).controlId,L=(0,t.useMemo)((function(){return{controlId:r||O,custom:R}}),[O,R,r]),M=R||null!=_&&!1!==_&&!I,F=t.createElement(Nt,v({},P,{type:"switch"===S?"checkbox":S,ref:n,isValid:f,isInvalid:d,isStatic:!M,disabled:c,as:N}));return t.createElement(It.Provider,{value:L},t.createElement("div",{style:w,className:y()(b,i,R&&"custom-"+S,s&&i+"-inline")},I||t.createElement(t.Fragment,null,F,M&&t.createElement(Dt,{title:E},_),(f||d)&&t.createElement(_t,{type:f?"valid":"invalid",tooltip:g},k))))}));Lt.displayName="FormCheck",Lt.Input=Nt,Lt.Label=Dt;var Mt=Lt,Ft=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],jt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsCustomPrefix,o=e.className,s=e.isValid,u=e.isInvalid,c=e.lang,l=e.as,f=void 0===l?"input":l,h=p(e,Ft),d=(0,t.useContext)(It),m=d.controlId,g=d.custom?[a,"custom-file-input"]:[i,"form-control-file"];return i=De(g[0],g[1]),t.createElement(f,v({},h,{ref:n,id:r||m,type:"file",lang:c,className:y()(o,i,s&&"is-valid",u&&"is-invalid")}))}));jt.displayName="FormFileInput";var Ut=jt,Vt=["bsPrefix","bsCustomPrefix","className","htmlFor"],Bt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,o=e.htmlFor,s=p(e,Vt),u=(0,t.useContext)(It),c=u.controlId,l=u.custom?[i,"custom-file-label"]:[r,"form-file-label"];return r=De(l[0],l[1]),t.createElement("label",v({},s,{ref:n,htmlFor:o||c,className:y()(a,r),"data-browse":s["data-browse"]}))}));Bt.displayName="FormFileLabel";var zt=Bt,qt=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],Gt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsCustomPrefix,o=e.disabled,s=void 0!==o&&o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.feedbackTooltip,d=void 0!==h&&h,m=e.feedback,g=e.className,k=e.style,b=e.label,w=e.children,x=e.custom,E=e.lang,T=e["data-browse"],S=e.as,_=void 0===S?"div":S,I=e.inputAs,C=void 0===I?"input":I,A=p(e,qt),N=x?[a,"custom"]:[i,"form-file"];i=De(N[0],N[1]);var P=(0,t.useContext)(It).controlId,R=(0,t.useMemo)((function(){return{controlId:r||P,custom:x}}),[P,x,r]),D=null!=b&&!1!==b&&!w,O=t.createElement(Ut,v({},A,{ref:n,isValid:c,isInvalid:f,disabled:s,as:C,lang:E}));return t.createElement(It.Provider,{value:R},t.createElement(_,{style:k,className:y()(g,i,x&&"custom-file")},w||t.createElement(t.Fragment,null,x?t.createElement(t.Fragment,null,O,D&&t.createElement(zt,{"data-browse":T},b)):t.createElement(t.Fragment,null,D&&t.createElement(zt,null,b),O),(c||f)&&t.createElement(_t,{type:c?"valid":"invalid",tooltip:d},m))))}));Gt.displayName="FormFile",Gt.Input=Ut,Gt.Label=zt;var Ht=Gt,Kt=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],Wt=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.bsCustomPrefix,s=e.type,u=e.size,c=e.htmlSize,l=e.id,f=e.className,h=e.isValid,d=void 0!==h&&h,m=e.isInvalid,g=void 0!==m&&m,k=e.plaintext,b=e.readOnly,w=e.custom,x=e.as,E=void 0===x?"input":x,T=p(e,Kt),S=(0,t.useContext)(It).controlId,_=w?[o,"custom"]:[a,"form-control"];if(a=De(_[0],_[1]),k)(i={})[a+"-plaintext"]=!0,r=i;else if("file"===s){var I;(I={})[a+"-file"]=!0,r=I}else if("range"===s){var C;(C={})[a+"-range"]=!0,r=C}else if("select"===E&&w){var A;(A={})[a+"-select"]=!0,A[a+"-select-"+u]=u,r=A}else{var N;(N={})[a]=!0,N[a+"-"+u]=u,r=N}return t.createElement(E,v({},T,{type:s,size:c,ref:n,readOnly:b,id:l||S,className:y()(f,r,d&&"is-valid",g&&"is-invalid")}))}));Wt.displayName="FormControl";var Qt=Object.assign(Wt,{Feedback:_t}),Yt=["bsPrefix","className","children","controlId","as"],Xt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.controlId,s=e.as,u=void 0===s?"div":s,c=p(e,Yt);r=De(r,"form-group");var l=(0,t.useMemo)((function(){return{controlId:o}}),[o]);return t.createElement(It.Provider,{value:l},t.createElement(u,v({},c,{ref:n,className:y()(i,r)}),a))}));Xt.displayName="FormGroup";var Jt=Xt,Zt=["bsPrefix","className","as"],$t=["xl","lg","md","sm","xs"],en=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=p(e,Zt),u=De(r,"col"),c=[],l=[];return $t.forEach((function(e){var t,n,r,i=s[e];if(delete s[e],"object"===typeof i&&null!=i){var a=i.span;t=void 0===a||a,n=i.offset,r=i.order}else t=i;var o="xs"!==e?"-"+e:"";t&&c.push(!0===t?""+u+o:""+u+o+"-"+t),null!=r&&l.push("order"+o+"-"+r),null!=n&&l.push("offset"+o+"-"+n)})),c.length||c.push(u),t.createElement(o,v({},s,{ref:n,className:y().apply(void 0,[i].concat(c,l))}))}));en.displayName="Col";var tn=en,nn=["as","bsPrefix","column","srOnly","className","htmlFor"],rn=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=e.srOnly,u=e.className,c=e.htmlFor,l=p(e,nn),f=(0,t.useContext)(It).controlId;a=De(a,"form-label");var h="col-form-label";"string"===typeof o&&(h=h+" "+h+"-"+o);var d=y()(u,a,s&&"sr-only",o&&h);return c=c||f,o?t.createElement(tn,v({ref:n,as:"label",className:d,htmlFor:c},l)):t.createElement(i,v({ref:n,className:d,htmlFor:c},l))}));rn.displayName="FormLabel",rn.defaultProps={column:!1,srOnly:!1};var an=rn,on=["bsPrefix","className","as","muted"],sn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"small":a,s=e.muted,u=p(e,on);return r=De(r,"form-text"),t.createElement(o,v({},u,{ref:n,className:y()(i,r,s&&"text-muted")}))}));sn.displayName="FormText";var un=sn,cn=t.forwardRef((function(e,n){return t.createElement(Mt,v({},e,{ref:n,type:"switch"}))}));cn.displayName="Switch",cn.Input=Mt.Input,cn.Label=Mt.Label;var ln=cn,fn=["bsPrefix","inline","className","validated","as"],hn=Me("form-row"),dn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.inline,a=e.className,o=e.validated,s=e.as,u=void 0===s?"form":s,c=p(e,fn);return r=De(r,"form"),t.createElement(u,v({},c,{ref:n,className:y()(a,o&&"was-validated",i&&r+"-inline")}))}));dn.displayName="Form",dn.defaultProps={inline:!1},dn.Row=hn,dn.Group=Jt,dn.Control=Qt,dn.Check=Mt,dn.File=Ht,dn.Switch=ln,dn.Label=an,dn.Text=un;var pn=dn,vn=["bsPrefix","variant","size","active","className","block","type","as"],mn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=e.block,c=e.type,l=e.as,f=p(e,vn),h=De(r,"btn"),d=y()(s,h,o&&"active",i&&h+"-"+i,u&&h+"-block",a&&h+"-"+a);if(f.href)return t.createElement(vt,v({},f,{as:l,ref:n,className:y()(d,f.disabled&&"disabled")}));n&&(f.ref=n),c?f.type=c:l||(f.type="button");var m=l||"button";return t.createElement(m,v({},f,{className:d}))}));mn.displayName="Button",mn.defaultProps={variant:"primary",active:!1,disabled:!1};var yn=mn;function gn(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function kn(e,t,n){return(t=gn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gn(r.key),r)}}function xn(e,t,n){return t&&wn(e.prototype,t),n&&wn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function En(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(tz){return!1}}function Cn(e){var t=In();return function(){var n,r=_n(e);if(t){var i=_n(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}(this,n)}}function An(e,t,n){return An=In()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&oe(i,n.prototype),i},An.apply(null,arguments)}function Nn(e){var t="function"===typeof Map?new Map:void 0;return Nn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return An(e,arguments,_n(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),oe(n,e)},Nn(e)}var Pn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Dn;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Dn=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return xn(n)}(Nn(Error)),On=function(e){return function(e){var t=Pn(e);return Rn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ln=function(e){try{return Rn.decodeString(e,!0)}catch(tz){console.error("base64Decode failed: ",tz)}return null};function Mn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Fn(n)&&(e[n]=Mn(e[n],t[n]));return e}function Fn(e){return"__proto__"!==e}var jn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Un=function(){try{return jn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(tz){return}var t=e&&Ln(e[1]);return t&&JSON.parse(t)}}()}catch(tz){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(tz))}},Vn=function(){var e;return null===(e=Un())||void 0===e?void 0:e.config},Bn=function(){function e(){var t=this;bn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return xn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function zn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[On(JSON.stringify({alg:"none",type:"JWT"})),On(JSON.stringify(a)),""].join(".")}function qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gn(){var e,t=null===(e=Un())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(tz){return!1}}function Hn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Kn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Wn(){var e=qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qn(){try{return"object"===typeof indexedDB}catch(tz){return!1}}var Yn=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Tn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Tn(a),Xn.prototype.create),a}return xn(n)}(Nn(Error)),Xn=function(){function e(t,n,r){bn(this,e),this.service=t,this.serviceName=n,this.errors=r}return xn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Jn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Yn(n,a,t)}}]),e}();var Jn=/\{\$([^}]+)}/g;function Zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $n(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function er(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(tr(s)&&tr(u)){if(!er(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function tr(e){return null!==e&&"object"===typeof e}function nr(e){for(var t=[],n=function(){var e=d(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function rr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=d(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ir(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ar(e,t){var n=new or(e,t);return n.subscribe.bind(n)}var or=function(){function e(t,n){var r=this;bn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return xn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=En(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=sr),void 0===r.error&&(r.error=sr),void 0===r.complete&&(r.complete=sr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(tz){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(tz){"undefined"!==typeof console&&console.error&&console.error(tz)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function sr(){}function ur(e){return e&&e._delegate?e._delegate:e}function cr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function lr(e){return function(e){if(Array.isArray(e))return l(e)}(e)||cr(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fr=function(){function e(t,n,r){bn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return xn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),hr="[DEFAULT]",dr=function(){function e(t,n){bn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return xn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Bn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(tz){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(tz){if(r)return null;throw tz}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch(tz){}var t,n=En(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(tz){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(lr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),lr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=En(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=d(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(H_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===hr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(H_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.component?this.component.multipleInstances?e:hr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pr,vr,mr=function(){function e(t){bn(this,e),this.name=t,this.providers=new Map}return xn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new dr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vr||(vr={}));var gr={debug:vr.DEBUG,verbose:vr.VERBOSE,info:vr.INFO,warn:vr.WARN,error:vr.ERROR,silent:vr.SILENT},kr=vr.INFO,br=(kn(pr={},vr.DEBUG,"log"),kn(pr,vr.VERBOSE,"log"),kn(pr,vr.INFO,"info"),kn(pr,vr.WARN,"warn"),kn(pr,vr.ERROR,"error"),pr),wr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=br[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xr=function(){function e(t){bn(this,e),this.name=t,this._logLevel=kr,this._logHandler=wr,this._userLogHandler=null,yr.push(this)}return xn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?gr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.DEBUG].concat(t)),this._logHandler.apply(this,[this,vr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.INFO].concat(t)),this._logHandler.apply(this,[this,vr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.WARN].concat(t)),this._logHandler.apply(this,[this,vr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.ERROR].concat(t)),this._logHandler.apply(this,[this,vr.ERROR].concat(t))}}]),e}();function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sr,_r,Ir=function(e,t){return t.some((function(t){return e instanceof t}))};var Cr=new WeakMap,Ar=new WeakMap,Nr=new WeakMap,Pr=new WeakMap,Rr=new WeakMap;var Dr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ar.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Or(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_r||(_r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Fr(this),n),Mr(Cr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mr(e.apply(Fr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Fr(this),t].concat(r));return Nr.set(a,t.sort?t.sort():[t]),Mr(a)}}function Lr(e){return"function"===typeof e?Or(e):(e instanceof IDBTransaction&&function(e){if(!Ar.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ar.set(e,t)}}(e),Ir(e,Sr||(Sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Dr):e)}function Mr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Mr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Cr.set(t,e)})).catch((function(){})),Rr.set(t,e),t}(e);if(Pr.has(e))return Pr.get(e);var t=Lr(e);return t!==e&&(Pr.set(e,t),Rr.set(t,e)),t}var Fr=function(e){return Rr.get(e)};var jr,Ur,Vr=["get","getKey","getAll","getAllKeys","count"],Br=["put","add","delete","clear"],zr=new Map;function qr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(zr.get(t))return zr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Br.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Vr.includes(n))){var a=function(){var e=u(o().mark((function e(t){var a,s,u,c,l,f,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return zr.set(t,a),a}}}Dr=function(e){return Tr(Tr({},e),{},{get:function(t,n,r){return qr(t,n)||e.get(t,n,r)},has:function(t,n){return!!qr(t,n)||e.has(t,n)}})}(Dr);var Gr=function(){function e(t){bn(this,e),this.container=t}return xn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Hr="@firebase/app",Kr="0.9.13",Wr=new xr("@firebase/app"),Qr="[DEFAULT]",Yr=(kn(jr={},Hr,"fire-core"),kn(jr,"@firebase/app-compat","fire-core-compat"),kn(jr,"@firebase/analytics","fire-analytics"),kn(jr,"@firebase/analytics-compat","fire-analytics-compat"),kn(jr,"@firebase/app-check","fire-app-check"),kn(jr,"@firebase/app-check-compat","fire-app-check-compat"),kn(jr,"@firebase/auth","fire-auth"),kn(jr,"@firebase/auth-compat","fire-auth-compat"),kn(jr,"@firebase/database","fire-rtdb"),kn(jr,"@firebase/database-compat","fire-rtdb-compat"),kn(jr,"@firebase/functions","fire-fn"),kn(jr,"@firebase/functions-compat","fire-fn-compat"),kn(jr,"@firebase/installations","fire-iid"),kn(jr,"@firebase/installations-compat","fire-iid-compat"),kn(jr,"@firebase/messaging","fire-fcm"),kn(jr,"@firebase/messaging-compat","fire-fcm-compat"),kn(jr,"@firebase/performance","fire-perf"),kn(jr,"@firebase/performance-compat","fire-perf-compat"),kn(jr,"@firebase/remote-config","fire-rc"),kn(jr,"@firebase/remote-config-compat","fire-rc-compat"),kn(jr,"@firebase/storage","fire-gcs"),kn(jr,"@firebase/storage-compat","fire-gcs-compat"),kn(jr,"@firebase/firestore","fire-fst"),kn(jr,"@firebase/firestore-compat","fire-fst-compat"),kn(jr,"fire-js","fire-js"),kn(jr,"firebase","fire-js-all"),jr),Xr=new Map,Jr=new Map;function Zr(e,t){try{e.container.addComponent(t)}catch(tz){Wr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),tz)}}function $r(e,t){e.container.addOrOverwriteComponent(t)}function ei(e){var t=e.name;if(Jr.has(t))return Wr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jr.set(t,e);var n,r=En(Xr.values());try{for(r.s();!(n=r.n()).done;){Zr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ti(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qr;ti(e,t).clearInstance(n)}function ri(){Jr.clear()}var ii=(kn(Ur={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),kn(Ur,"bad-app-name","Illegal App name: '{$appName}"),kn(Ur,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),kn(Ur,"app-deleted","Firebase App named '{$appName}' already deleted"),kn(Ur,"no-options","Need to provide options, when not being deployed to hosting via source."),kn(Ur,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),kn(Ur,"invalid-log-argument","First argument to `onLog` must be null or a function."),kn(Ur,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),kn(Ur,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),kn(Ur,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),kn(Ur,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ur),ai=new Xn("app","Firebase",ii),oi=function(){function e(t,n,r){var i=this;bn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",(function(){return i}),"PUBLIC"))}return xn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}]),e}(),si="9.23.0";function ui(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=Vn()),!n)throw ai.create("no-options");var a=Xr.get(i);if(a){if(er(n,a.options)&&er(r,a.config))return a;throw ai.create("duplicate-app",{appName:i})}var o,s=new mr(i),u=En(Jr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new oi(n,r,s);return Xr.set(i,l),l}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=Xr.get(e);if(!t&&e===Qr&&Vn())return ui();if(!t)throw ai.create("no-app",{appName:e});return t}function li(){return Array.from(Xr.values())}function fi(e){return hi.apply(this,arguments)}function hi(){return hi=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Xr.has(n)){e.next=6;break}return Xr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function di(e,t,n){var r,i=null!==(r=Yr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wr.warn(s.join(" "))}ei(new fr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function pi(e,t){if(null!==e&&"function"!==typeof e)throw ai.create("invalid-log-argument");!function(e,t){var n,r=En(yr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=gr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vr[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function vi(e){var t;t=e,yr.forEach((function(e){e.setLogLevel(t)}))}var mi="firebase-heartbeat-database",yi=1,gi="firebase-heartbeat-store",ki=null;function bi(){return ki||(ki=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Mr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Mr(s.result),e.oldVersion,e.newVersion,Mr(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(mi,yi,{upgrade:function(e,t){if(0===t)e.createObjectStore(gi)}}).catch((function(e){throw ai.create("idb-open",{originalErrorMessage:e.message})}))),ki}function wi(e){return xi.apply(this,arguments)}function xi(){return xi=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bi();case 3:return n=e.sent,e.next=6,n.transaction(gi).objectStore(gi).get(Si(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Yn?Wr.warn(e.t0.message):(i=ai.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Wr.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),xi.apply(this,arguments)}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bi();case 3:return r=e.sent,i=r.transaction(gi,"readwrite"),a=i.objectStore(gi),e.next=8,a.put(n,Si(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Yn?Wr.warn(e.t0.message):(s=ai.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Wr.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ti.apply(this,arguments)}function Si(e){return"".concat(e.name,"!").concat(e.options.appId)}var _i=function(){function e(t){var n=this;bn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Pi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return xn(e,[{key:"triggerHeartbeat",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ii(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ii(),n=Ci(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=On(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ii(){return(new Date).toISOString().substring(0,10)}function Ci(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=En(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ri(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Ri(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ai,Ni,Pi=function(){function e(t){bn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return xn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,wi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ei(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ei(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(lr(r.heartbeats),lr(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ri(e){return On(JSON.stringify({version:2,heartbeats:e})).length}Ai="",ei(new fr("platform-logger",(function(e){return new Gr(e)}),"PRIVATE")),ei(new fr("heartbeat",(function(e){return new _i(e)}),"PRIVATE")),di(Hr,Kr,Ai),di(Hr,Kr,"esm2017"),di("fire-js","");var Di=function(){function e(t,n){var r=this;bn(this,e),this._delegate=t,this.firebase=n,Zr(t,new fr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return xn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),fi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Zr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$r(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Oi=(kn(Ni={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),kn(Ni,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ni),Li=new Xn("app-compat","Firebase",Oi);var Mi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ui(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:di,setLogLevel:vi,onLog:pi,apps:null,SDK_VERSION:si,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ei(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Li.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Mn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zn(n,e=e||Qr))throw Li.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Di);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Mn(n,e)},createSubscribe:ar,ErrorFactory:Xn,deepExtend:Mn}),n}(),Fi=new xr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Fi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ji=self.firebase.SDK_VERSION;ji&&ji.indexOf("LITE")>=0&&Fi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ui=Mi;!function(e){di("@firebase/app-compat","0.2.13",e)}();function Vi(e){return c(e)||cr(e)||f(e)||h()}function Bi(){return Bi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_n(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Bi.apply(this,arguments)}Ui.registerVersion("firebase","9.23.0","app-compat");function zi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var qi,Gi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Hi="EMAIL_SIGNIN",Ki="PASSWORD_RESET",Wi="RECOVER_EMAIL",Qi="REVERT_SECOND_FACTOR_ADDITION",Yi="VERIFY_AND_CHANGE_EMAIL",Xi="VERIFY_EMAIL";function Ji(){return kn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Zi=function(){var e;return kn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),kn(e,"argument-error",""),kn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),kn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),kn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),kn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),kn(e,"cordova-not-ready","Cordova framework is not ready."),kn(e,"cors-unsupported","This browser is not supported."),kn(e,"credential-already-in-use","This credential is already associated with a different user account."),kn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),kn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),kn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),kn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),kn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),kn(e,"email-already-in-use","The email address is already in use by another account."),kn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),kn(e,"expired-action-code","The action code has expired."),kn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),kn(e,"internal-error","An internal AuthError has occurred."),kn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),kn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),kn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),kn(e,"invalid-auth-event","An internal AuthError has occurred."),kn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),kn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),kn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),kn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),kn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),kn(e,"invalid-email","The email address is badly formatted."),kn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),kn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),kn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),kn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),kn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),kn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),kn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),kn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),kn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),kn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),kn(e,"wrong-password","The password is invalid or the user does not have a password."),kn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),kn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),kn(e,"invalid-provider-id","The specified provider ID is invalid."),kn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),kn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),kn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),kn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),kn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),kn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),kn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),kn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),kn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),kn(e,"missing-continue-uri","A continue URL must be provided in the request."),kn(e,"missing-iframe-start","An internal AuthError has occurred."),kn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),kn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),kn(e,"missing-password","A non-empty password must be provided"),kn(e,"missing-multi-factor-info","No second factor identifier is provided."),kn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),kn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),kn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),kn(e,"app-deleted","This instance of FirebaseApp has been deleted."),kn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),kn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),kn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),kn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),kn(e,"no-auth-event","An internal AuthError has occurred."),kn(e,"no-such-provider","User was not linked to an account with the given provider."),kn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),kn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),kn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),kn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),kn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),kn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),kn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),kn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),kn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),kn(e,"rejected-credential","The request contains malformed or mismatching credentials."),kn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),kn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),kn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),kn(e,"timeout","The operation has timed out."),kn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),kn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),kn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),kn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),kn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),kn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),kn(e,"unverified-email","The operation requires a verified email."),kn(e,"user-cancelled","The user did not grant your application the permissions it requested."),kn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),kn(e,"user-disabled","The user account has been disabled by an administrator."),kn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),kn(e,"user-signed-out",""),kn(e,"weak-password","The password must be 6 characters long or more."),kn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),kn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),kn(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),kn(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),kn(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),kn(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),kn(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),kn(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),kn(e,"invalid-req-type","Invalid request parameters."),kn(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},$i=Ji,ea=new Xn("auth","Firebase",Ji()),ta=new xr("@firebase/auth");function na(e){if(ta.logLevel<=vr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ta.warn.apply(ta,["Auth (".concat(si,"): ").concat(e)].concat(n))}}function ra(e){if(ta.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ta.error.apply(ta,["Auth (".concat(si,"): ").concat(e)].concat(n))}}function ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ua.apply(void 0,[e].concat(n))}function aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ua.apply(void 0,[e].concat(n))}function oa(e,t,n){var r=Object.assign(Object.assign({},$i()),kn({},t,n));return new Xn("auth","Firebase",r).create(t,{appName:e.name})}function sa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ia(e,"argument-error"),oa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=lr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(lr(o)))}return ea.create.apply(ea,[e].concat(n))}function ca(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ua.apply(void 0,[t].concat(r))}}function la(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ra(t),new Error(t)}function fa(e,t){e||la(t)}function ha(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function da(){return"http:"===pa()||"https:"===pa()}function pa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var va=function(){function e(t,n){bn(this,e),this.shortDelay=t,this.longDelay=n,fa(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())||Kn()}return xn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(da()||Hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ma(e,t){fa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ya=function(){function e(){bn(this,e)}return xn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ga=(kn(qi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),kn(qi,"MISSING_CUSTOM_TOKEN","internal-error"),kn(qi,"INVALID_IDENTIFIER","invalid-email"),kn(qi,"MISSING_CONTINUE_URI","internal-error"),kn(qi,"INVALID_PASSWORD","wrong-password"),kn(qi,"MISSING_PASSWORD","missing-password"),kn(qi,"EMAIL_EXISTS","email-already-in-use"),kn(qi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),kn(qi,"INVALID_IDP_RESPONSE","invalid-credential"),kn(qi,"INVALID_PENDING_TOKEN","invalid-credential"),kn(qi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),kn(qi,"MISSING_REQ_TYPE","internal-error"),kn(qi,"EMAIL_NOT_FOUND","user-not-found"),kn(qi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),kn(qi,"EXPIRED_OOB_CODE","expired-action-code"),kn(qi,"INVALID_OOB_CODE","invalid-action-code"),kn(qi,"MISSING_OOB_CODE","internal-error"),kn(qi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),kn(qi,"INVALID_ID_TOKEN","invalid-user-token"),kn(qi,"TOKEN_EXPIRED","user-token-expired"),kn(qi,"USER_NOT_FOUND","user-token-expired"),kn(qi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),kn(qi,"INVALID_CODE","invalid-verification-code"),kn(qi,"INVALID_SESSION_INFO","invalid-verification-id"),kn(qi,"INVALID_TEMPORARY_PROOF","invalid-credential"),kn(qi,"MISSING_SESSION_INFO","missing-verification-id"),kn(qi,"SESSION_EXPIRED","code-expired"),kn(qi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),kn(qi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),kn(qi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),kn(qi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),kn(qi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),kn(qi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),kn(qi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),kn(qi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),kn(qi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),kn(qi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),kn(qi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),kn(qi,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),kn(qi,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),kn(qi,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),kn(qi,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),kn(qi,"MISSING_CLIENT_TYPE","missing-client-type"),kn(qi,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),kn(qi,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),kn(qi,"INVALID_REQ_TYPE","invalid-req-type"),qi),ka=new va(3e4,6e4);function ba(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wa(e,t,n,r){return xa.apply(this,arguments)}function xa(){return xa=u(o().mark((function e(t,n,r,i){var a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",Ea(t,a,u(o().mark((function e(){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},i&&("GET"===n?s=i:a={body:JSON.stringify(i)}),u=nr(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ya.fetch()(Ia(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Ea(e,t,n){return Ta.apply(this,arguments)}function Ta(){return Ta=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ga),n),e.prev=2,a=new Ca(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Aa(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=d(l,2),h=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Aa(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Aa(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Aa(t,"user-disabled",u);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw oa(t,v,p);case 34:ia(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Yn)){e.next=41;break}throw e.t0;case 41:ia(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ta.apply(this,arguments)}function Sa(e,t,n,r){return _a.apply(this,arguments)}function _a(){return _a=u(o().mark((function e(t,n,r,i){var a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&ia(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Ia(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ma(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ca=function(){function e(t){var n=this;bn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(aa(n.auth,"network-request-failed"))}),ka.get())}))}return xn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Aa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=aa(e,t,r);return i.customData._tokenResponse=n,i}function Na(e,t){return Pa.apply(this,arguments)}function Pa(){return(Pa=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return Da.apply(this,arguments)}function Da(){return(Da=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e,t){return La.apply(this,arguments)}function La(){return(La=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(tz){}}function Fa(){return Fa=u(o().mark((function e(t){var n,r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=ur(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ca((a=Ua(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),s="object"===typeof a.firebase?a.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ma(ja(a.auth_time)),issuedAtTime:Ma(ja(a.iat)),expirationTime:Ma(ja(a.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function ja(e){return 1e3*Number(e)}function Ua(e){var t=d(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ra("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ln(r);return a?JSON.parse(a):(ra("Failed to decode base64 JWT payload"),null)}catch(tz){return ra("Caught error parsing JWT payload as JSON",null===tz||void 0===tz?void 0:tz.toString()),null}}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=u(o().mark((function e(t,n){var r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Yn&&za(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ba.apply(this,arguments)}function za(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var qa=function(){function e(t){bn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return xn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ga=function(){function e(t,n){bn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return xn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ha(e){return Ka.apply(this,arguments)}function Ka(){return Ka=u(o().mark((function e(t){var n,r,i,a,s,u,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Va(t,Oa(r,{idToken:i}));case 6:ca(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),s=a.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?s.providerUserInfo.map((function(e){var t=e.providerId,n=zi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=Qa(t.providerData,u),l=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ga(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Wa(){return(Wa=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ur(t),e.next=3,Ha(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(lr(n),lr(t))}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(t,{},u(o().mark((function e(){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,s=i.apiKey,u=Ia(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ya.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ja=function(){function e(){bn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return xn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ca(e.idToken,"internal-error"),ca("undefined"!==typeof e.idToken,"internal-error"),ca("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ua(e);return ca(t,"internal-error"),ca("undefined"!==typeof t.exp,"internal-error"),ca("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ca(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return la("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ca("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ca("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ca("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Za(e,t){ca("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var $a=function(){function e(t){bn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=zi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?lr(a.providerData):[],this.metadata=new Ga(a.createdAt||void 0,a.lastLoginAt||void 0)}return xn(e,[{key:"getIdToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ca(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Wa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ca(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ca(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=u(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ha(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Va(this,Na(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ca(k&&E,t,"internal-error");var T=Ja.fromJSON(this.name,E);ca("string"===typeof k,t,"internal-error"),Za(f,t.name),Za(h,t.name),ca("boolean"===typeof b,t,"internal-error"),ca("boolean"===typeof w,t,"internal-error"),Za(d,t.name),Za(p,t.name),Za(v,t.name),Za(m,t.name),Za(y,t.name),Za(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ja).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ha(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),eo=new Map;function to(e){fa(e instanceof Function,"Expected a class definition");var t=eo.get(e);return t?(fa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eo.set(e,t),t)}var no=function(){function e(){bn(this,e),this.type="NONE",this.storage={}}return xn(e,[{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();no.type="NONE";var ro=no;function io(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ao=function(){function e(t,n,r){bn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=io(this.userKey,a.apiKey,o),this.fullPersistenceKey=io("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return xn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?$a._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,c,l,f,h,d,p,v,m,y=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(to(ro),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||to(ro),c=io(i,n.config.apiKey,n.name),l=null,f=En(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=$a._fromJSON(n,p),d!==s&&(l=v),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(s,n,i));case 40:if(s=m[0],!l){t.next=44;break}return t.next=44,s._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function oo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(so(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ho(t))return"Blackberry";if(po(t))return"Webos";if(uo(t))return"Safari";if((t.includes("chrome/")||co(t))&&!t.includes("edge/"))return"Chrome";if(fo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/firefox\//i.test(e)}function uo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/crios\//i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iemobile/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/android/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/blackberry/i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/webos/i.test(e)}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return vo(e)||fo(e)||po(e)||ho(e)||/windows phone/i.test(e)||lo(e)}function yo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oo(qn());break;case"Worker":t="".concat(oo(qn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(si,"/").concat(r)}function go(e){return ko.apply(this,arguments)}function ko(){return(ko=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"GET","/v2/recaptchaConfig",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e){return void 0!==e&&void 0!==e.getResponse}function Eo(e){return void 0!==e&&void 0!==e.enterprise}var To=xn((function e(t){if(bn(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function So(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=aa("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function _o(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Io=function(){function e(t){bn(this,e),this.type="recaptcha-enterprise",this.auth=Ro(t)}return xn(e,[{key:"verify",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Eo(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=u(o().mark((function e(n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bo(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new To(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=c.length>0&&void 0!==c[0]?c[0]:"verify",n=c.length>1&&void 0!==c[1]&&c[1],e.abrupt("return",new Promise((function(e,t){r(s.auth).then((function(r){if(!n&&Eo(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));So("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Co(e,t,n){return Ao.apply(this,arguments)}function Ao(){return Ao=u(o().mark((function e(t,n,r){var i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],a=new Io(t),e.prev=2,e.next=5,a.verify(r);case 5:s=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:s=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Ao.apply(this,arguments)}var No=function(){function e(t){bn(this,e),this.auth=t,this.queue=[]}return xn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(tz){r(tz)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=En(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),s=En(n);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(o){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Po=function(){function e(t,n,r,i){bn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Do(this),this.idTokenSubscription=new Do(this),this.beforeStateQueue=new No(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ea,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return xn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(u(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ao.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ca(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ur(t):null)&&ca(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ca(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(to(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new To(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Io(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Xn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ca(n=t&&to(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ao.create(this,[to(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ca(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ca(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=u(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&na("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ro(e){return ur(e)}var Do=function(){function e(t){var n=this;bn(this,e),this.auth=t,this.observer=null,this.addObserver=ar((function(e){return n.observer=e}))}return xn(e,[{key:"next",get:function(){return ca(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Oo(e,t,n){var r=Ro(e);ca(r._canInitEmulator,r,"emulator-config-failed"),ca(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Lo(t),o=function(e){var t=Lo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Mo(r.substr(a.length+1))}}var o=d(r.split(":"),2);return{host:o[0],port:Mo(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Lo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Fo=function(){function e(t,n){bn(this,e),this.providerId=t,this.signInMethod=n}return xn(e,[{key:"toJSON",value:function(){return la("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return la("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return la("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return la("not implemented")}}]),e}();function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return(Uo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:resetPassword",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return(qo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPassword",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){return Wo.apply(this,arguments)}function Wo(){return(Wo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:sendOobCode",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t){return $o.apply(this,arguments)}function $o(){return($o=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return(ts=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return(as=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithEmailLink",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var os=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return bn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return xn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Co(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Go(t,i));case 11:return e.abrupt("return",Go(t,r).catch(function(){var e=u(o().mark((function e(n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Co(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Go(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",ns(t,{email:this._email,oobCode:this._password}));case 13:ia(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",is(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ia(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Fo);function ss(e,t){return us.apply(this,arguments)}function us(){return(us=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithIdp",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cs=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return xn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ss(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ss(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ss(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ia("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=zi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Fo);function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:sendVerificationCode",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(){return(hs=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(){return(ds=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Aa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ps=kn({},"USER_NOT_FOUND","user-not-found");function vs(){return(vs=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,r),ps));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ms=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return xn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return hs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ds.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Fo);var ys=function(){function e(t){var n,r,i,a,o,s;bn(this,e);var u=rr(ir(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ca(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return xn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=rr(ir(e)).link,n=t?rr(ir(t)).deep_link_id:null,r=rr(ir(e)).deep_link_id;return(r?rr(ir(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(H_){return null}}}]),e}();var gs=function(){function e(){bn(this,e),this.providerId=e.PROVIDER_ID}return xn(e,null,[{key:"credential",value:function(e,t){return os._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ys.parseLink(t);return ca(n,"argument-error"),os._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();gs.PROVIDER_ID="password",gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ks=function(){function e(t){bn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return xn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),bs=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return xn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return lr(this.scopes)}}]),n}(ks),ws=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ca(e.idToken||e.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ca("providerId"in t&&"signInMethod"in t,"argument-error"),cs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(tz){return null}}}]),n}(bs),xs=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.call(this,"facebook.com")}return xn(n,null,[{key:"credential",value:function(e){return cs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(H_){return null}}}]),n}(bs);xs.FACEBOOK_SIGN_IN_METHOD="facebook.com",xs.PROVIDER_ID="facebook.com";var Es=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return xn(n,null,[{key:"credential",value:function(e,t){return cs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(H_){return null}}}]),n}(bs);Es.GOOGLE_SIGN_IN_METHOD="google.com",Es.PROVIDER_ID="google.com";var Ts=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.call(this,"github.com")}return xn(n,null,[{key:"credential",value:function(e){return cs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(H_){return null}}}]),n}(bs);Ts.GITHUB_SIGN_IN_METHOD="github.com",Ts.PROVIDER_ID="github.com";var Ss=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return xn(n,[{key:"_getIdTokenResponse",value:function(e){return ss(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ss(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ss(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Fo),_s=function(e){Sn(n,e);var t=Cn(n);function n(e){return bn(this,n),ca(e.startsWith("saml."),"argument-error"),t.call(this,e)}return xn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ss.fromJSON(e);return ca(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ss._create(r,n)}catch(tz){return null}}}]),n}(ks),Is=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.call(this,"twitter.com")}return xn(n,null,[{key:"credential",value:function(e,t){return cs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(H_){return null}}}]),n}(bs);function Cs(e,t){return As.apply(this,arguments)}function As(){return(As=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signUp",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Is.TWITTER_SIGN_IN_METHOD="twitter.com",Is.PROVIDER_ID="twitter.com";var Ns=function(){function e(t){bn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return xn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r,i){var a,s,u,c,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,$a._fromIdTokenResponse(n,i,a);case 3:return s=t.sent,u=Ps(i),c=new e({user:s,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=u(o().mark((function t(n,r,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ps(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ps(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Rs(){return Rs=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ro(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ns({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Cs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ns._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}var Ds=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a){var o,s;return bn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Tn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return xn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Yn);function Os(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ds._fromErrorAndOperation(e,n,t,r);throw n}))}function Ls(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ms(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ur(t),e.next=3,Vs(!0,r,n);case 3:return e.t0=Ra,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,s=Ls(a||[]),r.providerData=r.providerData.filter((function(e){return s.has(e.providerId)})),s.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function js(e,t){return Us.apply(this,arguments)}function Us(){return Us=u(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Va,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ns._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Vs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(n);case 2:i=Ls(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ca(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return qs=u(o().mark((function e(t,n){var r,i,a,s,u,c,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Va(t,Os(i,a,n,t),r);case 6:return ca((s=e.sent).idToken,i,"internal-error"),ca(u=Ua(s.idToken),i,"internal-error"),c=u.sub,ca(t.uid===c,i,"user-mismatch"),e.abrupt("return",Ns._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ia(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),qs.apply(this,arguments)}function Gs(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=u(o().mark((function e(t,n){var r,i,a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Os(t,i,n);case 4:return a=e.sent,e.next=7,Ns._fromIdTokenResponse(t,i,a);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Ks(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gs(Ro(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return(Ys=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ur(t),e.next=3,Vs(!1,r,n.providerId);case 3:return e.abrupt("return",js(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(e,t){return Js.apply(this,arguments)}function Js(){return(Js=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(ur(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(e,t){return $s.apply(this,arguments)}function $s(){return($s=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(t,"POST","/v1/accounts:signInWithCustomToken",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(){return(eu=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ro(t),e.next=3,Zs(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ns._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tu=function(){function e(t,n){bn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return xn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?nu._fromServerResponse(e,t):"totpInfo"in t?ru._fromServerResponse(e,t):ia(e,"internal-error")}}]),e}(),nu=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return xn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(tu),ru=function(e){Sn(n,e);var t=Cn(n);function n(e){return bn(this,n),t.call(this,"totp",e)}return xn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(tu);function iu(e,t,n){var r;ca((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ca("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ca(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ca(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function au(){return au=u(o().mark((function e(t,n,r){var i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ro(t),s={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Co(a,s,"getOobCode",!0);case 5:return c=e.sent,r&&iu(a,c,r),e.next=9,Xo(a,c);case 9:e.next=14;break;case 11:return r&&iu(a,s,r),e.next=14,Xo(a,s).catch(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Co(a,s,"getOobCode",!0);case 4:return n=e.sent,r&&iu(a,n,r),e.next=8,Xo(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return(ou=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(ur(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(){return(su=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ur(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t){return cu.apply(this,arguments)}function cu(){return(cu=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ur(t),e.next=3,jo(r,{oobCode:n});case 3:i=e.sent,ca(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ca(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ca(i.mfaInfo,r,"internal-error");case 13:ca(i.email,r,"internal-error");case 14:return s=null,i.mfaInfo&&(s=tu._fromServerResponse(Ro(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(){return(lu=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(ur(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t,n){return hu.apply(this,arguments)}function hu(){return hu=u(o().mark((function e(t,n,r){var i,a,s,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ro(t),s={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Co(a,s,"signUpPassword");case 5:l=e.sent,c=Cs(a,l),e.next=10;break;case 9:c=Cs(a,s).catch(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Co(a,s,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Cs(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,c.catch((function(e){return Promise.reject(e)}));case 12:return f=e.sent,e.next=15,Ns._fromIdTokenResponse(a,"signIn",f);case 15:return h=e.sent,e.next=18,a._updateCurrentUser(h.user);case 18:return e.abrupt("return",h);case 19:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=u(o().mark((function e(t,n,r){var i,a,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(e,t){ca(t.handleCodeInApp,a,"argument-error"),t&&iu(a,e,t)},a=Ro(t),s={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Co(a,s,"getOobCode",!0);case 6:return l=e.sent,c(l,r),e.next=10,Zo(a,l);case 10:e.next=15;break;case 12:return c(s,r),e.next=15,Zo(a,s).catch(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Co(a,s,"getOobCode",!0);case 4:return n=e.sent,c(n,r),e.next=8,Zo(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(){return(pu=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ur(t),ca((a=gs.credentialWithLink(n,r||ha()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ks(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:createAuthUri",ba(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(){return(yu=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=da()?ha():"http://localhost",i={identifier:n,continueUri:r},e.next=4,vu(ur(t),i);case 4:return a=e.sent,s=a.signinMethods,e.abrupt("return",s||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ur(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&iu(r.auth,a,n),e.next=8,Qo(r.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(){return(ku=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ur(t),e.next=3,t.getIdToken();case 3:return a=e.sent,s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&iu(i.auth,s,r),e.next=8,es(i.auth,s);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){return wu.apply(this,arguments)}function wu(){return(wu=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(){return(xu=u(o().mark((function e(t,n){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ur(t),e.next=6,a.getIdToken();case 6:return s=e.sent,u={idToken:s,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Va(a,bu(a.auth,u));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){return Tu.apply(this,arguments)}function Tu(){return(Tu=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,s={idToken:a,returnSecureToken:!0},n&&(s.email=n),r&&(s.password=r),e.next=9,Va(t,Vo(i,s));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Su=xn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};bn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),_u=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a){var o;return bn(this,n),(o=t.call(this,e,r,i)).username=a,o}return xn(n)}(Su),Iu=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"facebook.com",r)}return xn(n)}(Su),Cu=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return xn(n)}(_u),Au=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"google.com",r)}return xn(n)}(Su),Nu=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){return bn(this,n),t.call(this,e,"twitter.com",r,i)}return xn(n)}(_u);function Pu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ua(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Su(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Iu(a,i);case"github.com":return new Cu(a,i);case"google.com":return new Au(a,i);case"twitter.com":return new Nu(a,i,e.screenName||null);case"custom":case"anonymous":return new Su(a,null);default:return new Su(a,r,i)}}(n)}var Ru=function(){function e(t,n,r){bn(this,e),this.type=t,this.credential=n,this.auth=r}return xn(e,[{key:"toJSON",value:function(){return{multiFactorSession:kn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Du=function(){function e(t,n,r){bn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return xn(e,[{key:"resolveSignIn",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ro(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return tu._fromServerResponse(r,e)}));ca(i.mfaPendingCredential,r,"internal-error");var s=Ru._fromMfaPendingCredential(i.mfaPendingCredential);return new e(s,a,function(){var e=u(o().mark((function e(t){var a,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,s);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ns._fromIdTokenResponse(r,n.operationType,u);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return ca(n.user,r,"internal-error"),e.abrupt("return",Ns._forOperation(n.user,n.operationType,u));case 17:ia(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ou(e,t){return wa(e,"POST","/v2/accounts/mfaEnrollment:start",ba(e,t))}function Lu(e,t){return wa(e,"POST","/v2/accounts/mfaEnrollment:finalize",ba(e,t))}var Mu=function(){function e(t){var n=this;bn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return tu._fromServerResponse(t.auth,e)})))}))}return xn(e,[{key:"getSession",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ru,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Va(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Va(this.user,wa(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ba(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Fu=new WeakMap;var ju="__sak",Uu=function(){function e(t,n){bn(this,e),this.storageRetriever=t,this.type=n}return xn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch(H_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vu=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qn();return uo(e)||vo(e)}()&&function(){try{return!(!window||window===window.top)}catch(tz){return!1}}(),e.fallbackToPolling=mo(),e._shouldAllowMigration=!0,e}return xn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_n(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_n(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_n(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uu);Vu.type="LOCAL";var Bu=Vu,zu=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return xn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uu);zu.type="SESSION";var qu=zu;function Gu(e){return Promise.all(e.map(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hu=function(){function e(t){bn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return xn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,s=r.data,null===(c=this.handlersMap[a])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(c).map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Gu(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ku(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hu.receivers=[];var Wu=function(){function e(t){bn(this,e),this.target=t,this.handlers=new Set}return xn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,o){var c=Ku("",20);i.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);s={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),o(new Error("invalid_response"))}}},u.handlers.add(s),i.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Qu(){return window}function Yu(e){Qu().location.href=e}function Xu(){return"undefined"!==typeof Qu().WorkerGlobalScope&&"function"===typeof Qu().importScripts}function Ju(){return Zu.apply(this,arguments)}function Zu(){return(Zu=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $u(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ec="firebaseLocalStorageDb",tc="firebaseLocalStorage",nc="fbase_key",rc=function(){function e(t){bn(this,e),this.request=t}return xn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ic(e,t){return e.transaction([tc],t?"readwrite":"readonly").objectStore(tc)}function ac(){var e=indexedDB.deleteDatabase(ec);return new rc(e).toPromise()}function oc(){var e=indexedDB.open(ec,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(tc,{keyPath:nc})}catch(tz){n(tz)}})),e.addEventListener("success",u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(tc)){n.next=12;break}return r.close(),n.next=5,ac();case 5:return n.t0=t,n.next=8,oc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function sc(e,t,n){return uc.apply(this,arguments)}function uc(){return uc=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ic(t,!0).put((kn(i={},nc,n),kn(i,"value",r),i)),e.abrupt("return",new rc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ic(t,!1).get(n),e.next=3,new rc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){var n=ic(e,!0).delete(t);return new rc(n).toPromise()}var hc=function(){function e(){bn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return xn(e,[{key:"_openDb",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,oc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hu._getInstance(Xu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=u(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Wu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$u()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,oc();case 5:return t=e.sent,e.next=8,sc(t,ju,"1");case 8:return e.next=10,fc(t,ju);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return sc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return cc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return fc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s,u,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ic(e,!1).getAll();return new rc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=En(t);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.fbase_key,c=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(o){i.e(o)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hc.type="LOCAL";var dc=hc;function pc(e,t){return wa(e,"POST","/v2/accounts/mfaSignIn:start",ba(e,t))}function vc(e,t){return wa(e,"POST","/v2/accounts/mfaSignIn:finalize",ba(e,t))}var mc=1e12,yc=function(){function e(t){bn(this,e),this.auth=t,this.counter=mc,this._widgets=new Map}return xn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||mc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||mc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||mc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gc=function(){function e(t,n,r){var i=this;bn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ca(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return xn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(tz){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(tz){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var kc=_o("rcb"),bc=new va(3e4,6e4),wc=function(){function e(){var t;bn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Qu().grecaptcha)||void 0===t?void 0:t.render)}return xn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ca(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xo(Qu().grecaptcha)?Promise.resolve(Qu().grecaptcha):new Promise((function(r,i){var a=Qu().setTimeout((function(){i(aa(e,"network-request-failed"))}),bc.get());Qu()[kc]=function(){Qu().clearTimeout(a),delete Qu()[kc];var o=Qu().grecaptcha;if(o&&xo(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(aa(e,"internal-error"))},So("".concat("https://www.google.com/recaptcha/api.js?","?").concat(nr({onload:kc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(aa(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Qu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var xc=function(){function e(){bn(this,e)}return xn(e,[{key:"load",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new yc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ec="recaptcha",Tc={theme:"light",type:"image"},Sc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Tc),r=arguments.length>2?arguments[2]:void 0;bn(this,e),this.parameters=n,this.type=Ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ro(r),this.isInvisible="invisible"===this.parameters.size,ca("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ca(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new wc,this.validateStartingState()}return xn(e,[{key:"verify",value:function(){var e=u(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(tz){return Promise.reject(tz)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ca(!this.parameters.sitekey,this.auth,"argument-error"),ca(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ca("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Qu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ca(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca(da()&&!Xu(),this.auth,"internal-error"),e.next=3,_c();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,go(this.auth);case 8:ca(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ca(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _c(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ic=function(){function e(t,n){bn(this,e),this.verificationId=t,this.onConfirmation=n}return xn(e,[{key:"confirm",value:function(e){var t=ms._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Cc(){return(Cc=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ro(t),e.next=3,Rc(i,n,ur(r));case 3:return a=e.sent,e.abrupt("return",new Ic(a,(function(e){return Ks(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t,n){return Nc.apply(this,arguments)}function Nc(){return(Nc=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ur(t),e.next=3,Vs(!1,i,"phone");case 3:return e.next=5,Rc(i.auth,n,ur(r));case 5:return a=e.sent,e.abrupt("return",new Ic(a,(function(e){return Qs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(){return(Pc=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ur(t),e.next=3,Rc(i.auth,n,ur(r));case 3:return a=e.sent,e.abrupt("return",new Ic(a,(function(e){return Xs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return Dc=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ca("string"===typeof a,t,"argument-error"),ca(r.type===Ec,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return ca("enroll"===u.type,t,"internal-error"),e.next=13,Ou(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return ca("signin"===u.type,t,"internal-error"),ca(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,pc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ls(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Dc.apply(this,arguments)}function Oc(){return(Oc=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(ur(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lc=function(){function e(t){bn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ro(t)}return xn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Rc(this.auth,e,ur(t))}}],[{key:"credential",value:function(e,t){return ms._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ms._fromTokenResponse(n,r):null}}]),e}();function Mc(e,t){return t?to(t):(ca(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lc.PROVIDER_ID="phone",Lc.PHONE_SIGN_IN_METHOD="phone";var Fc=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return xn(n,[{key:"_getIdTokenResponse",value:function(e){return ss(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ss(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ss(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Fo);function jc(e){return Gs(e.auth,new Fc(e),e.bypassAuthState)}function Uc(e){var t=e.auth,n=e.user;return ca(n,t,"internal-error"),zs(n,new Fc(e),e.bypassAuthState)}function Vc(e){return Bc.apply(this,arguments)}function Bc(){return(Bc=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ca(r=t.user,n,"internal-error"),e.abrupt("return",js(r,new Fc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];bn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return xn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=u(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jc;case"linkViaPopup":case"linkViaRedirect":return Vc;case"reauthViaPopup":case"reauthViaRedirect":return Uc;default:ia(this.auth,"internal-error")}}},{key:"resolve",value:function(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),qc=new va(2e3,1e4);function Gc(e,t,n){return Hc.apply(this,arguments)}function Hc(){return(Hc=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ro(t),sa(t,n,ks),a=Mc(i,r),s=new Yc(i,"signInViaPopup",n,a),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(){return(Kc=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa((i=ur(t)).auth,n,ks),a=Mc(i.auth,r),s=new Yc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return(Qc=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa((i=ur(t)).auth,n,ks),a=Mc(i.auth,r),s=new Yc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yc=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a,o){var s;return bn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Tn(s),s}return xn(n,[{key:"executeNotNull",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ca(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa(1===this.filter.length,"Popup operations only handle one event"),t=Ku(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(aa(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(aa(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(aa(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,qc.get())}()}}]),n}(zc);Yc.currentPopupAction=null;var Xc="pendingRedirect",Jc=new Map,Zc=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return bn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return xn(n,[{key:"execute",value:function(){var e=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Jc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$c(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Bi(_n(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Jc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Jc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Bi(_n(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Bi(_n(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zc);function $c(e,t){return el.apply(this,arguments)}function el(){return el=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=al(n),i=il(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(t)._set(al(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t){Jc.set(e._key(),t)}function il(e){return to(e._redirectPersistence)}function al(e){return io(Xc,e.config.apiKey,e.name)}function ol(e,t,n){return function(e,t,n){return sl.apply(this,arguments)}(e,t,n)}function sl(){return(sl=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ro(t),sa(t,n,ks),e.next=4,i._initializationPromise;case 4:return a=Mc(i,r),e.next=7,tl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(e,t,n){return function(e,t,n){return cl.apply(this,arguments)}(e,t,n)}function cl(){return(cl=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa((i=ur(t)).auth,n,ks),e.next=4,i.auth._initializationPromise;case 4:return a=Mc(i.auth,r),e.next=7,tl(a,i.auth);case 7:return e.next=9,ml(i);case 9:return s=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t,n){return function(e,t,n){return fl.apply(this,arguments)}(e,t,n)}function fl(){return(fl=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa((i=ur(t)).auth,n,ks),e.next=4,i.auth._initializationPromise;case 4:return a=Mc(i.auth,r),e.next=7,Vs(!1,i,n.providerId);case 7:return e.next=9,tl(a,i.auth);case 9:return e.next=11,ml(i);case 11:return s=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",s));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return(dl=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(t)._initializationPromise;case 2:return e.abrupt("return",pl(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return vl=u(o().mark((function e(t,n){var r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Ro(t),a=Mc(i,n),s=new Zc(i,a,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function ml(e){return yl.apply(this,arguments)}function yl(){return(yl=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ku("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gl=function(){function e(t){bn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return xn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(aa(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wl(e){return xl.apply(this,arguments)}function xl(){return xl=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}var El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tl=/^https?/;function Sl(){return(Sl=u(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wl(t);case 4:n=e.sent,r=n.authorizedDomains,i=En(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!_l(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ia(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function _l(e){var t=ha(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Tl.test(r))return!1;if(El.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Il=new va(3e4,6e4);function Cl(){var e=Qu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=lr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Al=null;function Nl(e){return Al=Al||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cl(),n(aa(e,"network-request-failed"))},timeout:Il.get()})}if(null===(i=null===(r=Qu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Qu().gapi)||void 0===a?void 0:a.load)){var s=_o("iframefcb");return Qu()[s]=function(){gapi.load?o():n(aa(e,"network-request-failed"))},So("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Al=null,e}))}(e),Al}var Pl=new va(5e3,15e3),Rl="__/auth/iframe",Dl="emulator/auth/iframe",Ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ml(e){var t=e.config;ca(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ma(t,Dl):"https://".concat(e.config.authDomain,"/").concat(Rl),r={apiKey:t.apiKey,appName:e.name,v:si},i=Ll.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(nr(r).slice(1))}function Fl(e){return jl.apply(this,arguments)}function jl(){return jl=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t);case 2:return n=e.sent,ca(r=Qu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ml(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ol,dontclear:!0},(function(e){return new Promise(function(){var n=u(o().mark((function n(r,i){var a,s,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Qu().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=aa(t,"network-request-failed"),s=Qu().setTimeout((function(){i(a)}),Pl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}var Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vl=function(){function e(t){bn(this,e),this.window=t,this.associatedEvent=null}return xn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(tz){}}}]),e}();function Bl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ul),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qn().toLowerCase();n&&(s=co(c)?"_blank":n),so(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=d(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return vo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Vl(null);var f=window.open(t||"",s,l);ca(f,e,"popup-blocked");try{f.focus()}catch(tz){}return new Vl(f)}var zl="__/auth/handler",ql="emulator/auth/handler",Gl=encodeURIComponent("fac");function Hl(e,t,n,r,i,a){return Kl.apply(this,arguments)}function Kl(){return Kl=u(o().mark((function e(t,n,r,i,a,s){var u,c,l,f,h,p,v,m,y,g,k,b,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ca(t.config.authDomain,t,"auth-domain-config-required"),ca(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:si,eventId:a},n instanceof ks)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",$n(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=d(l[c],2),h=f[0],p=f[1],u[h]=p;for(n instanceof bs&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=v.join(",")),t.tenantId&&(u.tid=t.tenantId),m=u,y=0,g=Object.keys(m);y<g.length;y++)k=g[y],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(Gl,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Wl(t),"?").concat(nr(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(e){var t=e.config;return t.emulator?ma(t,ql):"https://".concat(t.authDomain,"/").concat(zl)}var Ql="webStorageSupport",Yl=function(){function e(){bn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qu,this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return xn(e,[{key:"_openPopup",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Hl(t,n,r,ha(),i);case 3:return s=e.sent,e.abrupt("return",Bl(t,s,Ku()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Hl(t,n,r,ha(),i);case 4:return Yu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(fa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fl(t);case 2:return n=e.sent,r=new gl(t),n.register("authEvent",(function(e){return ca(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ql,{type:Ql},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ql];void 0!==i&&t(!!i),ia(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mo()||uo()||vo()}}]),e}(),Xl=Yl,Jl=function(){function e(t){bn(this,e),this.factorId=t}return xn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return la("unexpected MultiFactorSessionType")}}}]),e}(),Zl=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,"phone")).credential=e,r}return xn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wa(e,"POST","/v2/accounts/mfaEnrollment:finalize",ba(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wa(e,"POST","/v2/accounts/mfaSignIn:finalize",ba(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Jl),$l=function(){function e(){bn(this,e)}return xn(e,null,[{key:"assertion",value:function(e){return Zl._fromCredential(e)}}]),e}();$l.FACTOR_ID="phone";var ef=function(){function e(){bn(this,e)}return xn(e,null,[{key:"assertionForEnrollment",value:function(e,t){return tf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return tf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},wa(i,"POST","/v2/accounts/mfaEnrollment:start",ba(i,a));case 4:return r=e.sent,e.abrupt("return",nf._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ef.FACTOR_ID="totp";var tf=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return xn(n,[{key:"_finalizeEnroll",value:function(){var e=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Lu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ca(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",vc(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Jl),nf=function(){function e(t,n,r,i,a,o,s){bn(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return xn(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(rf(e)||rf(t))&&(r=!0),r&&(rf(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),rf(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function rf(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var af="@firebase/auth",of="0.23.2",sf=function(){function e(t){bn(this,e),this.auth=t,this.internalListeners=new Map}return xn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ca(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var uf;!function(e){var t;null===(t=Un())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function cf(){return window}uf="Browser",ei(new fr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ca(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:uf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yo(uf)},l=new Po(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(to);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ei(new fr("auth-internal",(function(e){return function(e){return new sf(e)}(Ro(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),di(af,of,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uf)),di(af,of,"esm2017");var lf=2e3;function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cf(),s=a.BuildInfo,fa(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,gf(n.sessionId);case 4:return u=e.sent,c={},vo()?c.ibi=s.packageName:fo()?c.apn=s.packageName:ia(t,"operation-not-supported-in-this-environment"),s.displayName&&(c.appDisplayName=s.displayName),c.sessionId=u,e.abrupt("return",Hl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(){return(df=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cf(),r=n.BuildInfo,i={},vo()?i.iosBundleId=r.packageName:fo()?i.androidPackageName=r.packageName:ia(t,"operation-not-supported-in-this-environment"),e.next=5,wl(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e){var t=cf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cf(),a=i.cordova,s=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(aa(t,"redirect-cancelled-by-user"))}),lf))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),fo()&&document.addEventListener("visibilitychange",l,!1),s=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,s(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mf.apply(this,arguments)}function yf(e){var t,n,r,i,a,o,s,u,c,l,f=cf();ca("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ca("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ca("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ca("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ca("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function gf(e){return kf.apply(this,arguments)}function kf(){return(kf=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e){if(fa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var wf=20,xf=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return xn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Bi(_n(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gl);function Ef(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Cf(),postBody:null,tenantId:e.tenantId,error:aa(e,"no-auth-event")}}function Tf(e,t){return Af()._set(Nf(e),t)}function Sf(e){return _f.apply(this,arguments)}function _f(){return(_f=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af()._get(Nf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Af()._remove(Nf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e,t){var n,r,i=function(e){var t=Pf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Pf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Pf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Pf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(tz){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?aa(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Cf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<wf;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Af(){return to(Bu)}function Nf(e){return io("authEvent",e.config.apiKey,e.name)}function Pf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Vi(e.split("?"));t[0];return rr(t.slice(1).join("?"))}var Rf=function(){function e(){bn(this,e),this._redirectPersistence=qu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return xn(e,[{key:"_initialize",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ia(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Jc.clear(),e.next=10,this._originValidation(t);case 10:return s=Ef(t,r,i),e.next=13,Tf(t,s);case 13:return e.next=15,ff(t,s,n);case 15:return u=e.sent,e.next=18,pf(u);case 18:return c=e.sent,e.abrupt("return",vf(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return df.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=cf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,s=setTimeout(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sf(e);case 2:t.onEvent(Of());case 3:case"end":return n.stop()}}),n)}))),500),c=function(){var n=u(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(s),n.next=3,Sf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=If(i,r.url)),t.onEvent(a||Of());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,c);var l=i,f="".concat(a.packageName.toLowerCase(),"://");cf().handleOpenURL=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(tz){console.error(tz)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Df=Rf;function Of(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:aa("no-auth-event")}}var Lf=1e3;function Mf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return!("file:"!==Mf()&&"ionic:"!==Mf()&&"capacitor:"!==Mf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Wn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/Edge\/\d+/.test(e)}(e)}function Uf(){try{var e=self.localStorage,t=Ku();if(e)return e.setItem(t,"1"),e.removeItem(t),!jf()||Qn()}catch(tz){return Vf()&&Qn()}return!1}function Vf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Bf(){return("http:"===Mf()||"https:"===Mf()||Hn()||Ff())&&!(Kn()||Gn())&&Uf()&&!Vf()}function zf(){return Ff()&&"undefined"!==typeof document}function qf(){return Gf.apply(this,arguments)}function Gf(){return(Gf=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Lf);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hf={LOCAL:"local",NONE:"none",SESSION:"session"},Kf=ca,Wf="persistence";function Qf(e,t){Kf(Object.values(Hf).includes(t),e,"invalid-persistence-type"),Kn()?Kf(t!==Hf.SESSION,e,"unsupported-persistence-type"):Gn()?Kf(t===Hf.NONE,e,"unsupported-persistence-type"):Vf()?Kf(t===Hf.NONE||t===Hf.LOCAL&&Qn(),e,"unsupported-persistence-type"):Kf(t===Hf.NONE||Uf(),e,"unsupported-persistence-type")}function Yf(e){return Xf.apply(this,arguments)}function Xf(){return Xf=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Jf(),r=io(Wf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(tz){return null}}var Zf=ca,$f=function(){function e(){bn(this,e),this.browserResolver=to(Xl),this.cordovaResolver=to(Df),this.underlyingResolver=null,this._redirectPersistence=qu,this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return xn(e,[{key:"_initialize",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return zf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eh(e){return e.unwrap()}function th(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new oh(e,function(e,t){var n,r=ur(e),i=t;return ca(t.customData.operationType,r,"argument-error"),ca(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Du._fromError(r,i)}(e,t));else if(r){var i=nh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function nh(e){var t=(e instanceof Yn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Yn)&&"temporaryProof"in t&&"phoneNumber"in t)return Lc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Gi.PASSWORD)return null;switch(r){case Gi.GOOGLE:n=Es;break;case Gi.FACEBOOK:n=xs;break;case Gi.GITHUB:n=Ts;break;case Gi.TWITTER:n=Is;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ss._create(r,s):cs._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ws(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Yn?n.credentialFromError(e):n.credentialFromResult(e)}function rh(e,t){return t.catch((function(t){throw t instanceof Yn&&th(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,nh(t)),additionalUserInfo:Pu(e),user:sh.getOrCreate(r)}}))}function ih(e,t){return ah.apply(this,arguments)}function ah(){return(ah=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return rh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oh=function(){function e(t,n){bn(this,e),this.resolver=n,this.auth=t.wrapped()}return xn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return rh(eh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sh=function(){function e(t){bn(this,e),this._delegate=t,this.multiFactor=function(e){var t=ur(e);return Fu.has(t)||Fu.set(t,Mu._fromUser(t)),Fu.get(t)}(t)}return xn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Qs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ih(this.auth,Ac(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Wc(this._delegate,t,$f)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(Ro(this.auth));case 2:return e.abrupt("return",ll(this._delegate,t,$f));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Xs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ih(this.auth,function(e,t,n){return Pc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return rh(this.auth,function(e,t,n){return Kc.apply(this,arguments)}(this._delegate,e,$f))}},{key:"reauthenticateWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(Ro(this.auth));case 2:return e.abrupt("return",ul(this._delegate,t,$f));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return gu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Eu(ur(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Eu(ur(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ku.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sh.USER_MAP=new WeakMap;var uh=ca,ch=function(){function e(t,n){if(bn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;uh(r,"invalid-api-key",{appName:t.name}),uh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?$f:void 0;this._delegate=n.initialize({options:{persistence:fh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Zi),this.linkUnderlyingAuth()}return xn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Oo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return su.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return uu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ou.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this._delegate,fu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ys.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(Bf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hl(this._delegate,$f);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",rh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ro(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=lh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=lh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return au.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qf(this._delegate,t),e.t0=t,e.next=e.t0===Hf.SESSION?4:e.t0===Hf.LOCAL?6:e.t0===Hf.NONE?11:13;break;case 4:return n=qu,e.abrupt("break",14);case 6:return e.next=8,to(dc)._isAvailable();case 8:return r=e.sent,n=r?dc:Bu,e.abrupt("break",14);case 11:return n=ro,e.abrupt("break",14);case 13:return e.abrupt("return",ia("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return rh(this._delegate,function(e){return Rs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return rh(this._delegate,Ks(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return rh(this._delegate,function(e,t){return eu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return rh(this._delegate,function(e,t,n){return Ks(ur(e),gs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return rh(this._delegate,function(e,t,n){return pu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ih(this._delegate,function(e,t,n){return Cc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(Bf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",rh(this._delegate,Gc(this._delegate,t,$f)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(Bf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Yf(this._delegate);case 3:return e.abrupt("return",ol(this._delegate,t,$f));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return lu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function lh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sh.getOrCreate(e))},error:t,complete:n}}function fh(e,t){var n=function(e,t){var n=Jf();if(!n)return[];var r=io(Wf,e,t);switch(n.getItem(r)){case Hf.NONE:return[ro];case Hf.LOCAL:return[dc,qu];case Hf.SESSION:return[qu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(dc)||n.push(dc),"undefined"!==typeof window)for(var r=0,i=[Bu,qu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ro)||n.push(ro),n}ch.Persistence=Hf;var hh=function(){function e(){bn(this,e),this.providerId="phone",this._delegate=new Lc(eh(Ui.auth()))}return xn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Lc.credential(e,t)}}]),e}();hh.PHONE_SIGN_IN_METHOD=Lc.PHONE_SIGN_IN_METHOD,hh.PROVIDER_ID=Lc.PROVIDER_ID;var dh,ph=ca,vh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ui.app();bn(this,e),ph(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Sc(t,n,i.auth()),this.type=this._delegate.type}return xn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(dh=Ui).INTERNAL.registerComponent(new fr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ch(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hi,PASSWORD_RESET:Ki,RECOVER_EMAIL:Wi,REVERT_SECOND_FACTOR_ADDITION:Qi,VERIFY_AND_CHANGE_EMAIL:Yi,VERIFY_EMAIL:Xi}},EmailAuthProvider:gs,FacebookAuthProvider:xs,GithubAuthProvider:Ts,GoogleAuthProvider:Es,OAuthProvider:ws,SAMLAuthProvider:_s,PhoneAuthProvider:hh,PhoneMultiFactorGenerator:$l,RecaptchaVerifier:vh,TwitterAuthProvider:Is,Auth:ch,AuthCredential:Fo,Error:Yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),dh.registerVersion("@firebase/auth-compat","0.4.2");var mh,yh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gh={},kh=kh||{},bh=yh||self;function wh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Eh="closure_uid_"+(1e9*Math.random()>>>0),Th=0;function Sh(e,t,n){return e.call.apply(e.bind,arguments)}function _h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ih(e,t,n){return(Ih=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sh:_h).apply(null,arguments)}function Ch(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ah(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Nh(){this.s=this.s,this.o=this.o}Nh.prototype.s=!1,Nh.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Eh)&&e[Eh]||(e[Eh]=++Th))},Nh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ph=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(wh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Oh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Oh.prototype.h=function(){this.defaultPrevented=!0};var Lh=function(){if(!bh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bh.addEventListener("test",(function(){}),t),bh.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Mh(e){return/^[\s\xa0]*$/.test(e)}function Fh(){var e=bh.navigator;return e&&(e=e.userAgent)?e:""}function jh(e){return-1!=Fh().indexOf(e)}function Uh(e){return Uh[" "](e),e}Uh[" "]=function(){};var Vh,Bh,zh=jh("Opera"),qh=jh("Trident")||jh("MSIE"),Gh=jh("Edge"),Hh=Gh||qh,Kh=jh("Gecko")&&!(-1!=Fh().toLowerCase().indexOf("webkit")&&!jh("Edge"))&&!(jh("Trident")||jh("MSIE"))&&!jh("Edge"),Wh=-1!=Fh().toLowerCase().indexOf("webkit")&&!jh("Edge");function Qh(){var e=bh.document;return e?e.documentMode:void 0}e:{var Yh="",Xh=function(){var e=Fh();return Kh?/rv:([^\);]+)(\)|;)/.exec(e):Gh?/Edge\/([\d\.]+)/.exec(e):qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Wh?/WebKit\/(\S+)/.exec(e):zh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xh&&(Yh=Xh?Xh[1]:""),qh){var Jh=Qh();if(null!=Jh&&Jh>parseFloat(Yh)){Vh=String(Jh);break e}}Vh=Yh}if(bh.document&&qh){var Zh=Qh();Bh=Zh||(parseInt(Vh,10)||void 0)}else Bh=void 0;var $h=Bh;function ed(e,t){if(Oh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Kh){e:{try{Uh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:td[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ed.$.h.call(this)}}Ah(ed,Oh);var td={2:"touch",3:"pen",4:"mouse"};ed.prototype.h=function(){ed.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nd="closure_listenable_"+(1e6*Math.random()|0),rd=0;function id(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++rd,this.fa=this.ia=!1}function ad(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function od(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function sd(e){var t={};for(var n in e)t[n]=e[n];return t}var ud="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ud.length;a++)n=ud[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ld(e){this.src=e,this.g={},this.h=0}function fd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ph(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ad(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ld.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new id(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var dd="closure_lm_"+(1e6*Math.random()|0),pd={};function vd(e,t,n,r,i){if(r&&r.once)return yd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)vd(e,t[a],n,r,i);return null}return n=Td(n),e&&e[nd]?e.O(t,n,xh(r)?!!r.capture:!!r,i):md(e,t,n,!1,r,i)}function md(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xh(i)?!!i.capture:!!i,s=xd(e);if(s||(e[dd]=s=new ld(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)yd(e,t[a],n,r,i);return null}return n=Td(n),e&&e[nd]?e.P(t,n,xh(r)?!!r.capture:!!r,i):md(e,t,n,!0,r,i)}function gd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)gd(e,t[a],n,r,i);else r=xh(r)?!!r.capture:!!r,n=Td(n),e&&e[nd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hd(a=e.g[t],n,r,i))&&(ad(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hd(t,n,r,i)),(n=-1<e?t[e]:null)&&kd(n))}function kd(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[nd])fd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xd(t))?(fd(n,e),0==n.h&&(n.src=null,t[dd]=null)):ad(e)}}}function bd(e){return e in pd?pd[e]:pd[e]="on"+e}function wd(e,t){if(e.fa)e=!0;else{t=new ed(t,this);var n=e.listener,r=e.la||e.src;e.ia&&kd(e),e=n.call(r,t)}return e}function xd(e){return(e=e[dd])instanceof ld?e:null}var Ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function Td(e){return"function"===typeof e?e:(e[Ed]||(e[Ed]=function(t){return e.handleEvent(t)}),e[Ed])}function Sd(){Nh.call(this),this.i=new ld(this),this.S=this,this.J=null}function _d(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Oh(t,e);else if(t instanceof Oh)t.target=t.target||e;else{var i=t;cd(t=new Oh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Id(o,r,!0,t)&&i}if(i=Id(o=t.g=e,r,!0,t)&&i,i=Id(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Id(o=t.g=n[a],r,!1,t)&&i}function Id(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&fd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ah(Sd,Nh),Sd.prototype[nd]=!0,Sd.prototype.removeEventListener=function(e,t,n,r){gd(this,e,t,n,r)},Sd.prototype.N=function(){if(Sd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ad(n[r]);delete t.g[e],t.h--}}this.J=null},Sd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cd=bh.JSON.stringify,Ad=function(){function e(t,n){bn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return xn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Nd(){var e=jd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pd=function(){function e(){bn(this,e),this.h=this.g=null}return xn(e,[{key:"add",value:function(e,t){var n=Rd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Rd=new Ad((function(){return new Dd}),(function(e){return e.reset()})),Dd=function(){function e(){bn(this,e),this.next=this.g=this.h=null}return xn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Od(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ld(e){bh.setTimeout((function(){throw e}),0)}var Md,Fd=!1,jd=new Pd,Ud=function(){var e=bh.Promise.resolve(void 0);Md=function(){e.then(Vd)}},Vd=function(){for(var e;e=Nd();){try{e.h.call(e.g)}catch(n){Ld(n)}var t=Rd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fd=!1};function Bd(e,t){Sd.call(this),this.h=e||1,this.g=t||bh,this.j=Ih(this.qb,this),this.l=Date.now()}function zd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function qd(e,t,n){if("function"===typeof e)n&&(e=Ih(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ih(e.handleEvent,e)}return 2147483647<Number(t)?-1:bh.setTimeout(e,t||0)}function Gd(e){e.g=qd((function(){e.g=null,e.i&&(e.i=!1,Gd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ah(Bd,Sd),(mh=Bd.prototype).ga=!1,mh.T=null,mh.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_d(this,"tick"),this.ga&&(zd(this),this.start()))}},mh.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mh.N=function(){Bd.$.N.call(this),zd(this),delete this.g};var Hd=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return xn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Gd(this)}},{key:"N",value:function(){Bi(_n(n.prototype),"N",this).call(this),this.g&&(bh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Nh);function Kd(e){Nh.call(this),this.h=e,this.g={}}Ah(Kd,Nh);var Wd=[];function Qd(e,t,n,r){Array.isArray(n)||(n&&(Wd[0]=n.toString()),n=Wd);for(var i=0;i<n.length;i++){var a=vd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yd(e){od(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kd(e)}),e),e.g={}}function Xd(){this.g=!0}function Jd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Kd.prototype.N=function(){Kd.$.N.call(this),Yd(this)},Kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xd.prototype.Ea=function(){this.g=!1},Xd.prototype.info=function(){};var Zd={},$d=null;function ep(){return $d=$d||new Sd}function tp(e){Oh.call(this,Zd.Ta,e)}function np(e){var t=ep();_d(t,new tp(t))}function rp(e,t){Oh.call(this,Zd.STAT_EVENT,e),this.stat=t}function ip(e){var t=ep();_d(t,new rp(t,e))}function ap(e,t){Oh.call(this,Zd.Ua,e),this.size=t}function op(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bh.setTimeout((function(){e()}),t)}Zd.Ta="serverreachability",Ah(tp,Oh),Zd.STAT_EVENT="statevent",Ah(rp,Oh),Zd.Ua="timingevent",Ah(ap,Oh);var sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},up={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cp(){}function lp(e){return e.h||(e.h=e.i())}function fp(){}cp.prototype.h=null;var hp,dp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pp(){Oh.call(this,"d")}function vp(){Oh.call(this,"c")}function mp(){}function yp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Kd(this),this.P=kp,e=Hh?125:void 0,this.V=new Bd(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gp}function gp(){this.i=null,this.g="",this.h=!1}Ah(pp,Oh),Ah(vp,Oh),Ah(mp,cp),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},hp=new mp;var kp=45e3,bp={},wp={};function xp(e,t,n){e.L=1,e.v=Bp(Mp(t)),e.s=n,e.S=!0,Ep(e,null)}function Ep(e,t){e.G=Date.now(),Ip(e),e.A=Mp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ev(n.i,"t",r),e.C=0,n=e.l.J,e.h=new gp,e.g=tm(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Hd(Ih(e.Pa,e,e.g),e.O)),Qd(e.U,e.g,"readystatechange",e.nb),t=e.I?sd(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),np(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Tp(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Sp(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=_p(e,n))==wp){4==t&&(e.o=4,ip(14),i=!1),Jd(e.j,e.m,null,"[Incomplete Response]");break}if(r==bp){e.o=4,ip(15),Jd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jd(e.j,e.m,r,null),Rp(e,r)}Tp(e)&&r!=wp&&r!=bp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ip(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wv(t),t.M=!0,ip(11))):(Jd(e.j,e.m,n,"[Invalid Chunked Response]"),Pp(e),Np(e))}function _p(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wp:(n=Number(t.substring(n,r)),isNaN(n)?bp:(r+=1)+n>t.length?wp:(t=t.slice(r,r+n),e.C=r+n,t))}function Ip(e){e.Y=Date.now()+e.P,Cp(e,e.P)}function Cp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=op(Ih(e.lb,e),t)}function Ap(e){e.B&&(bh.clearTimeout(e.B),e.B=null)}function Np(e){0==e.l.H||e.J||Xv(e.l,e)}function Pp(e){Ap(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zd(e.V),Yd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Rp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||sv(n.i,e)))if(!e.K&&sv(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Yv(n),Uv(n)}Kv(n),ip(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=op(Ih(n.ib,n),6e3));if(1>=ov(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Zv(n,11)}else if((e.K||n.g==e)&&Yv(n),!Mh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(uv(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Vp(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=em(r,r.J?r.pa:null,r.Y),d.K){cv(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Ap(p),Ip(p)),r.g=d}else Hv(r);0<n.j.length&&Bv(n)}else"stop"!=a[0]&&"close"!=a[0]||Zv(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zv(n,7):jv(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}np()}catch(a){}}function Dp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(wh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(wh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(mh=yp.prototype).setTimeout=function(e){this.P=e},mh.nb=function(e){e=e.target;var t=this.M;t&&3==Rv(e)?t.l():this.Pa(e)},mh.Pa=function(e){try{if(e==this.g)e:{var t=Rv(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Hh||this.g&&(this.h.h||this.g.ja()||Dv(this.g)))){this.J||4!=t||7==n||np(),Ap(this);var r=this.g.da();this.ca=r;t:if(Tp(this)){var i=Dv(this.g);e="";var a=i.length,o=4==Rv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pp(this),Np(this);var s="";break t}this.h.i=new bh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ip(12),Pp(this),Np(this);break e}Jd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,r)}this.S?(Sp(this,t,s),Hh&&this.i&&3==t&&(Qd(this.U,this.V,"tick",this.mb),this.V.start())):(Jd(this.j,this.m,s,null),Rp(this,s)),4==t&&Pp(this),this.i&&!this.J&&(4==t?Xv(this.l,this):(this.i=!1,Ip(this)))}else(function(e){var t={};e=(e.g&&2<=Rv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Mh(e[n])){var r=Od(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ip(12)):(this.o=0,ip(13)),Pp(this),Np(this)}}}catch(t){}},mh.mb=function(){if(this.g){var e=Rv(this.g),t=this.g.ja();this.C<t.length&&(Ap(this),Sp(this,e,t),this.i&&4!=e&&Ip(this))}},mh.cancel=function(){this.J=!0,Pp(this)},mh.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(np(),ip(17)),Pp(this),this.o=2,Np(this)):Cp(this,this.Y-e)};var Op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lp){this.h=e.h,Fp(this,e.j),this.s=e.s,this.g=e.g,jp(this,e.m),this.l=e.l;var t=e.i,n=new Xp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Up(this,n),this.o=e.o}else e&&(t=String(e).match(Op))?(this.h=!1,Fp(this,t[1]||"",!0),this.s=zp(t[2]||""),this.g=zp(t[3]||"",!0),jp(this,t[4]),this.l=zp(t[5]||"",!0),Up(this,t[6]||"",!0),this.o=zp(t[7]||"")):(this.h=!1,this.i=new Xp(null,this.h))}function Mp(e){return new Lp(e)}function Fp(e,t,n){e.j=n?zp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Up(e,t,n){t instanceof Xp?(e.i=t,function(e,t){t&&!e.j&&(Jp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zp(this,t),ev(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=qp(t,Qp)),e.i=new Xp(t,e.h))}function Vp(e,t,n){e.i.set(t,n)}function Bp(e){return Vp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qp(t,Hp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qp(t,Hp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(qp(n,"/"==n.charAt(0)?Wp:Kp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qp(n,Yp)),e.join("")};var Hp=/[#\/\?@]/g,Kp=/[#\?:]/g,Wp=/[#\?]/g,Qp=/[#\?@]/g,Yp=/#/g;function Xp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zp(e,t){Jp(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $p(e,t){return Jp(e),t=tv(e,t),e.g.has(t)}function ev(e,t,n){Zp(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),Rh(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(mh=Xp.prototype).add=function(e,t){Jp(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},mh.forEach=function(e,t){Jp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},mh.ta=function(){Jp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},mh.Z=function(e){Jp(this);var t=[];if("string"===typeof e)$p(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},mh.set=function(e,t){return Jp(this),this.i=null,$p(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},mh.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},mh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nv=xn((function e(t,n){bn(this,e),this.g=t,this.map=n}));function rv(e){this.l=e||iv,bh.PerformanceNavigationTiming?e=0<(e=bh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bh.g&&bh.g.Ka&&bh.g.Ka()&&bh.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iv=10;function av(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ov(e){return e.h?1:e.g?e.g.size:0}function sv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uv(e,t){e.g?e.g.add(t):e.h=t}function cv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=En(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Rh(e.i)}rv.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=En(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var fv,hv=function(){function e(){bn(this,e)}return xn(e,[{key:"stringify",value:function(e){return bh.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return bh.JSON.parse(e,void 0)}}]),e}();function dv(){this.g=new hv}function pv(e,t,n){var r=n||"";try{Dp(e,(function(e,n){var i=e;xh(e)&&(i=Cd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(tz){throw t.push(r+"type="+encodeURIComponent("_badmap")),tz}}function vv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mv(e){this.l=e.fc||null,this.j=e.ob||!1}function yv(e,t){Sd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ah(mv,cp),mv.prototype.g=function(){return new yv(this.l,this.j)},mv.prototype.i=(fv={},function(){return fv}),Ah(yv,Sd);var gv=0;function kv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function bv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wv(e)}function wv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(mh=yv.prototype).open=function(e,t){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wv(this)},mh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||bh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},mh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bv(this)),this.readyState=gv},mh.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wv(this)),this.g&&(this.readyState=3,wv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof bh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},mh.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bv(this):wv(this),3==this.readyState&&kv(this)}},mh.Za=function(e){this.g&&(this.response=this.responseText=e,bv(this))},mh.Ya=function(e){this.g&&(this.response=e,bv(this))},mh.ka=function(){this.g&&bv(this)},mh.setRequestHeader=function(e,t){this.v.append(e,t)},mh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},mh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xv=bh.JSON.parse;function Ev(e){Sd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tv,this.L=this.M=!1}Ah(Ev,Sd);var Tv="",Sv=/^https?$/i,_v=["POST","PUT"];function Iv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cv(e),Nv(e)}function Cv(e){e.F||(e.F=!0,_d(e,"complete"),_d(e,"error"))}function Av(e){if(e.h&&"undefined"!=typeof kh&&(!e.C[1]||4!=Rv(e)||2!=e.da()))if(e.v&&4==Rv(e))qd(e.La,0,e);else if(_d(e,"readystatechange"),4==Rv(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Op)[1]||null;!a&&bh.self&&bh.self.location&&(a=bh.self.location.protocol.slice(0,-1)),i=!Sv.test(a?a.toLowerCase():"")}t=i}if(t)_d(e,"complete"),_d(e,"success");else{e.m=6;try{var o=2<Rv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Cv(e)}}finally{Nv(e)}}}function Nv(e,t){if(e.g){Pv(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||_d(e,"ready");try{n.onreadystatechange=r}catch(tz){}}}function Pv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(bh.clearTimeout(e.A),e.A=null)}function Rv(e){return e.g?e.g.readyState:0}function Dv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Tv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jm){return null}}function Ov(e){var t="";return od(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ov(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vp(e,t,n))}function Mv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fv(e){this.Ga=0,this.j=[],this.l=new Xd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mv("baseRetryDelayMs",5e3,e),this.hb=Mv("retryDelaySeedMs",1e4,e),this.eb=Mv("forwardChannelMaxRetries",2,e),this.xa=Mv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new rv(e&&e.concurrentRequestLimit),this.Ja=new dv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jv(e){if(Vv(e),3==e.H){var t=e.W++,n=Mp(e.I);if(Vp(n,"SID",e.K),Vp(n,"RID",t),Vp(n,"TYPE","terminate"),qv(e,n),(t=new yp(e,e.l,t)).L=2,t.v=Bp(Mp(n)),n=!1,bh.navigator&&bh.navigator.sendBeacon)try{n=bh.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&bh.Image&&((new Image).src=t.v,n=!0),n||(t.g=tm(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ip(t)}$v(e)}function Uv(e){e.g&&(Wv(e),e.g.cancel(),e.g=null)}function Vv(e){Uv(e),e.u&&(bh.clearTimeout(e.u),e.u=null),Yv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&bh.clearTimeout(e.m),e.m=null)}function Bv(e){if(!av(e.i)&&!e.m){e.m=!0;var t=e.Na;Md||Ud(),Fd||(Md(),Fd=!0),jd.add(t,e),e.C=0}}function zv(e,t){var n;n=t?t.m:e.W++;var r=Mp(e.I);Vp(r,"SID",e.K),Vp(r,"RID",n),Vp(r,"AID",e.V),qv(e,r),e.o&&e.s&&Lv(r,e.o,e.s),n=new yp(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Gv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),uv(e.i,n),xp(n,r,t)}function qv(e,t){e.na&&od(e.na,(function(e,n){Vp(t,n,e)})),e.h&&Dp({},(function(e,n){Vp(t,n,e)}))}function Gv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ih(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{pv(l,o,"req"+c+"_")}catch(Ym){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Hv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Md||Ud(),Fd||(Md(),Fd=!0),jd.add(t,e),e.A=0}}function Kv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=op(Ih(e.Ma,e),Jv(e,e.A)),e.A++,!0)}function Wv(e){null!=e.B&&(bh.clearTimeout(e.B),e.B=null)}function Qv(e){e.g=new yp(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Mp(e.wa);Vp(t,"RID","rpc"),Vp(t,"SID",e.K),Vp(t,"AID",e.V),Vp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Vp(t,"TO",e.qa),Vp(t,"TYPE","xmlhttp"),qv(e,t),e.o&&e.s&&Lv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Bp(Mp(t)),n.s=null,n.S=!0,Ep(n,e)}function Yv(e){null!=e.v&&(bh.clearTimeout(e.v),e.v=null)}function Xv(e,t){var n=null;if(e.g==t){Yv(e),Wv(e),e.g=null;var r=2}else{if(!sv(e.i,t))return;n=t.F,cv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;_d(r=ep(),new ap(r,n)),Bv(e)}else Hv(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ov(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=op(Ih(e.Na,e,t),Jv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zv(e,5);break;case 4:Zv(e,10);break;case 3:Zv(e,6);break;default:Zv(e,2)}}function Jv(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Zv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ih(e.pb,e);n||(n=new Lp("//www.google.com/images/cleardot.gif"),bh.location&&"http"==bh.location.protocol||Fp(n,"https"),Bp(n)),function(e,t){var n=new Xd;if(bh.Image){var r=new Image;r.onload=Ch(vv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ch(vv,n,r,"TestLoadImage: error",!1,t),r.onabort=Ch(vv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ch(vv,n,r,"TestLoadImage: timeout",!1,t),bh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ip(2);e.H=0,e.h&&e.h.za(t),$v(e),Vv(e)}function $v(e){if(e.H=0,e.ma=[],e.h){var t=lv(e.i);0==t.length&&0==e.j.length||(Dh(e.ma,t),Dh(e.ma,e.j),e.i.i.length=0,Rh(e.j),e.j.length=0),e.h.ya()}}function em(e,t,n){var r=n instanceof Lp?Mp(n):new Lp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),jp(r,r.m);else{var i=bh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Lp(null);r&&Fp(a,r),t&&(a.g=t),i&&jp(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Vp(r,n,t),Vp(r,"VER",e.ra),qv(e,r),r}function tm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ev(new mv({ob:!0})):new Ev(e.va)).Oa(e.J),t}function nm(){}function rm(){if(qh&&!(10<=Number($h)))throw Error("Environmental error: no available transport.")}function im(e,t){Sd.call(this),this.g=new Fv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Mh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sm(this)}function am(e){pp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function om(){vp.call(this),this.status=1}function sm(e){this.g=e}function um(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function lm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(mh=Ev.prototype).Oa=function(e){this.M=e},mh.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=this.u?lp(this.u):lp(hp),this.g.onreadystatechange=Ih(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Iv(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=En(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=bh.FormData&&e instanceof bh.FormData,!(0<=Ph(_v,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=En(n);try{for(c.s();!(u=c.n()).done;){var l=d(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pv(this),0<this.B&&((this.L=function(e){return qh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ih(this.ua,this)):this.A=qd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Iv(this,s)}},mh.ua=function(){"undefined"!=typeof kh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_d(this,"timeout"),this.abort(8))},mh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_d(this,"complete"),_d(this,"abort"),Nv(this))},mh.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nv(this,!0)),Ev.$.N.call(this)},mh.La=function(){this.s||(this.G||this.v||this.l?Av(this):this.kb())},mh.kb=function(){Av(this)},mh.isActive=function(){return!!this.g},mh.da=function(){try{return 2<Rv(this)?this.g.status:-1}catch(fv){return-1}},mh.ja=function(){try{return this.g?this.g.responseText:""}catch(fv){return""}},mh.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xv(t)}},mh.Ia=function(){return this.m},mh.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(mh=Fv.prototype).ra=8,mh.H=1,mh.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new yp(this,this.l,e),n=this.s;if(this.U&&(n?cd(n=sd(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Gv(this,t,r),Vp(i=Mp(this.I),"RID",e),Vp(i,"CVER",22),this.F&&Vp(i,"X-HTTP-Session-Id",this.F),qv(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ov(n)))+"&"+r:this.o&&Lv(i,this.o,n)),uv(this.i,t),this.bb&&Vp(i,"TYPE","init"),this.P?(Vp(i,"$req",r),Vp(i,"SID","null"),t.aa=!0,xp(t,i,null)):xp(t,i,r),this.H=2}}else 3==this.H&&(e?zv(this,e):0==this.j.length||av(this.i)||zv(this))},mh.Ma=function(){if(this.u=null,Qv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=op(Ih(this.jb,this),e)}},mh.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ip(10),Uv(this),Qv(this))},mh.ib=function(){null!=this.v&&(this.v=null,Uv(this),Kv(this),ip(19))},mh.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ip(2)):(this.l.info("Failed to ping google.com"),ip(1))},mh.isActive=function(){return!!this.h&&this.h.isActive(this)},(mh=nm.prototype).Ba=function(){},mh.Aa=function(){},mh.za=function(){},mh.ya=function(){},mh.isActive=function(){return!0},mh.Va=function(){},rm.prototype.g=function(e,t){return new im(e,t)},Ah(im,Sd),im.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ip(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=em(e,null,e.Y),Bv(e)},im.prototype.close=function(){jv(this.g)},im.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Cd(e),e=n);t.j.push(new nv(t.fb++,e)),3==t.H&&Bv(t)},im.prototype.N=function(){this.g.h=null,delete this.j,jv(this.g),delete this.g,im.$.N.call(this)},Ah(am,pp),Ah(om,vp),Ah(sm,nm),sm.prototype.Ba=function(){_d(this.g,"a")},sm.prototype.Aa=function(e){_d(this.g,new am(e))},sm.prototype.za=function(e){_d(this.g,new om)},sm.prototype.ya=function(){_d(this.g,"b")},Ah(um,(function(){this.blockSize=-1})),um.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},um.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)cm(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){cm(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){cm(this,r),i=0;break}}this.h=i,this.i+=t},um.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var fm={};function hm(e){return-128<=e&&128>e?function(e,t){var n=fm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new lm([0|e],0>e?-1:0)})):new lm([0|e],0>e?-1:0)}function dm(e){if(isNaN(e)||!isFinite(e))return vm;if(0>e)return bm(dm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=pm;return new lm(t,0)}var pm=4294967296,vm=hm(0),mm=hm(1),ym=hm(16777216);function gm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function km(e){return-1==e.h}function bm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new lm(n,~e.h).add(mm)}function wm(e,t){return e.add(bm(t))}function xm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Em(e,t){this.g=e,this.h=t}function Tm(e,t){if(gm(t))throw Error("division by zero");if(gm(e))return new Em(vm,vm);if(km(e))return t=Tm(bm(e),t),new Em(bm(t.g),bm(t.h));if(km(t))return t=Tm(e,bm(t)),new Em(bm(t.g),t.h);if(30<e.g.length){if(km(e)||km(t))throw Error("slowDivide_ only works with positive integers.");for(var n=mm,r=t;0>=r.X(e);)n=Sm(n),r=Sm(r);var i=_m(n,1),a=_m(r,1);for(r=_m(r,2),n=_m(n,2);!gm(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=_m(r,1),n=_m(n,1)}return t=wm(e,i.R(t)),new Em(i,t)}for(i=vm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=dm(n)).R(t);km(o)||0<o.X(e);)o=(a=dm(n-=r)).R(t);gm(a)&&(a=mm),i=i.add(a),e=wm(e,o)}return new Em(i,e)}function Sm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new lm(n,e.h)}function _m(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new lm(i,e.h)}(mh=lm.prototype).ea=function(){if(km(this))return-bm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:pm+r)*t,t*=pm}return e},mh.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(gm(this))return"0";if(km(this))return"-"+bm(this).toString(e);for(var t=dm(Math.pow(e,6)),n=this,r="";;){var i=Tm(n,t).g,a=((0<(n=wm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(gm(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},mh.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},mh.X=function(e){return km(e=wm(this,e))?-1:gm(e)?0:1},mh.abs=function(){return km(this)?bm(this):this},mh.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new lm(n,-2147483648&n[n.length-1]?-1:0)},mh.R=function(e){if(gm(this)||gm(e))return vm;if(km(this))return km(e)?bm(this).R(bm(e)):bm(bm(this).R(e));if(km(e))return bm(this.R(bm(e)));if(0>this.X(ym)&&0>e.X(ym))return dm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,xm(n,2*r+2*i),n[2*r+2*i+1]+=a*u,xm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,xm(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,xm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new lm(n,0)},mh.gb=function(e){return Tm(this,e).h},mh.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new lm(n,this.h&e.h)},mh.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new lm(n,this.h|e.h)},mh.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new lm(n,this.h^e.h)},rm.prototype.createWebChannel=rm.prototype.g,im.prototype.send=im.prototype.u,im.prototype.open=im.prototype.m,im.prototype.close=im.prototype.close,sp.NO_ERROR=0,sp.TIMEOUT=8,sp.HTTP_ERROR=6,up.COMPLETE="complete",fp.EventType=dp,dp.OPEN="a",dp.CLOSE="b",dp.ERROR="c",dp.MESSAGE="d",Sd.prototype.listen=Sd.prototype.O,Ev.prototype.listenOnce=Ev.prototype.P,Ev.prototype.getLastError=Ev.prototype.Sa,Ev.prototype.getLastErrorCode=Ev.prototype.Ia,Ev.prototype.getStatus=Ev.prototype.da,Ev.prototype.getResponseJson=Ev.prototype.Wa,Ev.prototype.getResponseText=Ev.prototype.ja,Ev.prototype.send=Ev.prototype.ha,Ev.prototype.setWithCredentials=Ev.prototype.Oa,um.prototype.digest=um.prototype.l,um.prototype.reset=um.prototype.reset,um.prototype.update=um.prototype.j,lm.prototype.add=lm.prototype.add,lm.prototype.multiply=lm.prototype.R,lm.prototype.modulo=lm.prototype.gb,lm.prototype.compare=lm.prototype.X,lm.prototype.toNumber=lm.prototype.ea,lm.prototype.toString=lm.prototype.toString,lm.prototype.getBits=lm.prototype.D,lm.fromNumber=dm,lm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return bm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=dm(Math.pow(n,8)),i=vm,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=dm(Math.pow(n,o)),i=i.R(o).add(dm(s))):i=(i=i.R(r)).add(dm(s))}return i};var Im=gh.createWebChannelTransport=function(){return new rm},Cm=gh.getStatEventTarget=function(){return ep()},Am=gh.ErrorCode=sp,Nm=gh.EventType=up,Pm=gh.Event=Zd,Rm=gh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dm=gh.FetchXmlHttpFactory=mv,Om=gh.WebChannel=fp,Lm=gh.XhrIo=Ev,Mm=gh.Md5=um,Fm=gh.Integer=lm,jm="@firebase/firestore",Um=function(){function e(t){bn(this,e),this.uid=t}return xn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Um.UNAUTHENTICATED=new Um(null),Um.GOOGLE_CREDENTIALS=new Um("google-credentials-uid"),Um.FIRST_PARTY=new Um("first-party-uid"),Um.MOCK_USER=new Um("mock-user");var Vm="9.23.0",Bm=new xr("@firebase/firestore");function zm(){return Bm.logLevel}function qm(e){if(Bm.logLevel<=vr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Km);Bm.debug.apply(Bm,["Firestore (".concat(Vm,"): ").concat(e)].concat(lr(i)))}}function Gm(e){if(Bm.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Km);Bm.error.apply(Bm,["Firestore (".concat(Vm,"): ").concat(e)].concat(lr(i)))}}function Hm(e){if(Bm.logLevel<=vr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Km);Bm.warn.apply(Bm,["Firestore (".concat(Vm,"): ").concat(e)].concat(lr(i)))}}function Km(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Vm,") INTERNAL ASSERTION FAILED: ")+e;throw Gm(t),new Error(t)}function Qm(e,t){e||Wm()}function Ym(e,t){return e}var Xm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jm=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return xn(n)}(Yn),Zm=xn((function e(){var t=this;bn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$m=xn((function e(t,n){bn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ey=function(){function e(){bn(this,e)}return xn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Um.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ty=function(){function e(t){bn(this,e),this.token=t,this.changeListener=null}return xn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ny=function(){function e(t){bn(this,e),this.t=t,this.currentUser=Um.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return xn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Zm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Zm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=a;e.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){qm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(qm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zm)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(qm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Qm("string"==typeof n.accessToken),new $m(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Qm(null===e||"string"==typeof e),new Um(e)}}]),e}(),ry=function(){function e(t,n,r){bn(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Um.FIRST_PARTY,this.g=new Map}return xn(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),iy=function(){function e(t,n,r){bn(this,e),this.h=t,this.l=n,this.m=r}return xn(e,[{key:"getToken",value:function(){return Promise.resolve(new ry(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Um.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ay=xn((function e(t){bn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),oy=function(){function e(t){bn(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return xn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&qm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,qm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){qm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):qm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Qm("string"==typeof t.token),e.T=t.token,new ay(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function sy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var uy=function(){function e(){bn(this,e)}return xn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=sy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function cy(e,t){return e<t?-1:e>t?1:0}function ly(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function fy(e){return e+"\0"}var hy=function(){function e(t,n){if(bn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return xn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?cy(this.nanoseconds,e.nanoseconds):cy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),dy=function(){function e(t){bn(this,e),this.timestamp=t}return xn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new hy(0,0))}},{key:"max",value:function(){return new e(new hy(253402300799,999999999))}}]),e}(),py=function(){function e(t,n,r){bn(this,e),void 0===n?n=0:n>t.length&&Wm(),void 0===r?r=t.length-n:r>t.length-n&&Wm(),this.segments=t,this.offset=n,this.len=r}return xn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),vy=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,lr(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(py),my=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yy=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return my.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Jm(Xm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jm(Xm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Jm(Xm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(py),gy=function(){function e(t){bn(this,e),this.path=t}return xn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===vy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(vy.fromString(t))}},{key:"fromName",value:function(t){return new e(vy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(vy.emptyPath())}},{key:"comparator",value:function(e,t){return vy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new vy(t.slice()))}}]),e}(),ky=xn((function e(t,n,r,i){bn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function by(e){return e.fields.find((function(e){return 2===e.kind}))}function wy(e){return e.fields.filter((function(e){return 2!==e.kind}))}ky.UNKNOWN_ID=-1;var xy=xn((function e(t,n){bn(this,e),this.fieldPath=t,this.kind=n}));var Ey=function(){function e(t,n){bn(this,e),this.sequenceNumber=t,this.offset=n}return xn(e,null,[{key:"empty",value:function(){return new e(0,_y.min())}}]),e}();function Ty(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dy.fromTimestamp(1e9===r?new hy(n+1,0):new hy(n,r));return new _y(i,gy.empty(),t)}function Sy(e){return new _y(e.readTime,e.key,-1)}var _y=function(){function e(t,n,r){bn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return xn(e,null,[{key:"min",value:function(){return new e(dy.min(),gy.empty(),-1)}},{key:"max",value:function(){return new e(dy.max(),gy.empty(),-1)}}]),e}();function Iy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=gy.comparator(e.documentKey,t.documentKey))?n:cy(e.largestBatchId,t.largestBatchId)}var Cy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ay=function(){function e(){bn(this,e),this.onCommittedListeners=[]}return xn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ny(e){return Py.apply(this,arguments)}function Py(){return(Py=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Xm.FAILED_PRECONDITION&&t.message===Cy){e.next=2;break}throw t;case 2:qm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ry=function(){function e(t){var n=this;bn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return xn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Wm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=En(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Dy=function(){function e(t,n){var r=this;bn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Zm,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new My(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=By(e.target.error);r.v.reject(new My(t,n))}}return xn(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(qm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new My(n,t)}}}]),e}(),Oy=function(){function e(t,n,r){bn(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(qn())&&Gm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return xn(e,[{key:"$",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return qm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new My(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Jm(Xm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Jm(Xm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new My(t,n))},i.onupgradeneeded=function(e){qm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){qm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u,c,l=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,s=0,u=o().mark((function e(){var n,u,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++s,e.prev=1,e.next=4,l.$(t);case 4:return l.db=e.sent,n=Dy.open(l.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Ry.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&s<3,qm("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return qm("SimpleDb","Removing database:",e),Uy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Qn())return!1;if(e.C())return!0;var t=qn(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ly=function(){function e(t){bn(this,e),this.L=t,this.q=!1,this.U=null}return xn(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Uy(this.L.delete())}}]),e}(),My=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,Xm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return xn(n)}(Jm);function Fy(e){return"IndexedDbTransactionError"===e.name}var jy=function(){function e(t){bn(this,e),this.store=t}return xn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(qm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(qm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Uy(n)}},{key:"add",value:function(e){return qm("SimpleDb","ADD",this.store.name,e,e),Uy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Uy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),qm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return qm("SimpleDb","DELETE",this.store.name,e),Uy(this.store.delete(e))}},{key:"count",value:function(){return qm("SimpleDb","COUNT",this.store.name),Uy(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ry((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ry((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){qm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Ry((function(n,r){t.onerror=function(e){var t=By(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Ry((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ly(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ry){var s=o.catch((function(e){return a.done(),Ry.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Ry.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Uy(e){return new Ry((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=By(e.target.error);n(t)}}))}var Vy=!1;function By(e){var t=Oy.S(qn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Jm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vy||(Vy=!0,setTimeout((function(){throw r}),0)),r}}return e}var zy=function(){function e(t,n){bn(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return xn(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;qm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=qm,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Fy(e.t4)){e.next=17;break}qm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ny(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),qy=function(){function e(t,n){bn(this,e),this.localStore=t,this.persistence=n}return xn(e,[{key:"nt",value:function(){var e=u(o().mark((function e(){var t,n=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ry.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return qm("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return qm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Sy(t);Iy(r,n)>0&&(n=r)})),new _y(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Gy=function(){function e(t,n){var r=this;bn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return xn(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Hy(e){return null==e}function Ky(e){return 0===e&&1/e==-1/0}function Wy(e){return"number"==typeof e&&Number.isInteger(e)&&!Ky(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Qy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Xy(t)),t=Yy(e.get(n),t);return Xy(t)}function Yy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Xy(e){return e+"\x01\x01"}function Jy(e){var t=e.length;if(Qm(t>=2),2===t)return Qm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),vy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Wm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Wm()}a=o+2}return new vy(r)}Gy.ct=-1;var Zy=["userId","batchId"];function $y(e,t){return[e,Qy(t)]}function eg(e,t,n){return[e,Qy(t),n]}var tg={},ng=["prefixPath","collectionGroup","readTime","documentId"],rg=["prefixPath","collectionGroup","documentId"],ig=["collectionGroup","readTime","prefixPath","documentId"],ag=["canonicalId","targetId"],og=["targetId","path"],sg=["path","targetId"],ug=["collectionId","parent"],cg=["indexId","uid"],lg=["uid","sequenceNumber"],fg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hg=["indexId","uid","orderedDocumentKey"],dg=["userId","collectionPath","documentId"],pg=["userId","collectionPath","largestBatchId"],vg=["userId","collectionGroup","largestBatchId"],mg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yg=[].concat(lr(mg),["documentOverlays"]),gg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kg=gg,bg=[].concat(kg,["indexConfiguration","indexState","indexEntries"]),wg=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return xn(n)}(Ay);function xg(e,t){var n=Ym(e);return Oy.M(n.ht,t)}function Eg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var _g=function(){function e(t,n){bn(this,e),this.comparator=t,this.root=n||Cg.EMPTY}return xn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ig(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ig(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ig(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ig(this.root,e,this.comparator,!0)}}]),e}(),Ig=function(){function e(t,n,r,i){bn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return xn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Cg=function(){function e(t,n,r,i,a){bn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return xn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Wm();if(this.right.isRed())throw Wm();var e=this.left.check();if(e!==this.right.check())throw Wm();return e+(this.isRed()?0:1)}}]),e}();Cg.EMPTY=null,Cg.RED=!0,Cg.BLACK=!1,Cg.EMPTY=new(function(){function e(){bn(this,e),this.size=0}return xn(e,[{key:"key",get:function(){throw Wm()}},{key:"value",get:function(){throw Wm()}},{key:"color",get:function(){throw Wm()}},{key:"left",get:function(){throw Wm()}},{key:"right",get:function(){throw Wm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ag=function(){function e(t){bn(this,e),this.comparator=t,this.data=new _g(this.comparator)}return xn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ng(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ng(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ng=function(){function e(t){bn(this,e),this.iter=t}return xn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Pg(e){return e.hasNext()?e.getNext():void 0}var Rg=function(){function e(t){bn(this,e),this.fields=t,t.sort(yy.comparator)}return xn(e,[{key:"unionWith",value:function(t){var n,r=new Ag(yy.comparator),i=En(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=En(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=En(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ly(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Dg=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return xn(n)}(Nn(Error));var Og=function(e){function t(e){bn(this,t),this.binaryString=e}return xn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return cy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Dg("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Og.EMPTY_BYTE_STRING=new Og("");var Lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(e){if(Qm(!!e),"string"==typeof e){var t=0,n=Lg.exec(e);if(Qm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fg(e.seconds),nanos:Fg(e.nanos)}}function Fg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jg(e){return"string"==typeof e?Og.fromBase64String(e):Og.fromUint8Array(e)}function Ug(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vg(e){var t=e.mapValue.fields.__previous_value__;return Ug(t)?Vg(t):t}function Bg(e){var t=Mg(e.mapValue.fields.__local_write_time__.timestampValue);return new hy(t.seconds,t.nanos)}var zg=xn((function e(t,n,r,i,a,o,s,u,c){bn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),qg=function(){function e(t,n){bn(this,e),this.projectId=t,this.database=n||"(default)"}return xn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Gg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hg={nullValue:"NULL_VALUE"};function Kg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ug(e)?4:ok(e)?9007199254740991:10:Wm()}function Wg(e,t){if(e===t)return!0;var n=Kg(e);if(n!==Kg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bg(e).isEqual(Bg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mg(e.timestampValue),r=Mg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jg(e.bytesValue).isEqual(jg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fg(e.geoPointValue.latitude)===Fg(t.geoPointValue.latitude)&&Fg(e.geoPointValue.longitude)===Fg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fg(e.integerValue)===Fg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Fg(e.doubleValue),r=Fg(t.doubleValue);return n===r?Ky(n)===Ky(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ly(e.arrayValue.values||[],t.arrayValue.values||[],Wg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eg(n)!==Eg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wg(n[i],r[i])))return!1;return!0}(e,t);default:return Wm()}}function Qg(e,t){return void 0!==(e.values||[]).find((function(e){return Wg(e,t)}))}function Yg(e,t){if(e===t)return 0;var n=Kg(e),r=Kg(t);if(n!==r)return cy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Fg(e.integerValue||e.doubleValue),r=Fg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xg(e.timestampValue,t.timestampValue);case 4:return Xg(Bg(e),Bg(t));case 5:return cy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jg(e),r=jg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=cy(n[i],r[i]);if(0!==a)return a}return cy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=cy(Fg(e.latitude),Fg(t.latitude));return 0!==n?n:cy(Fg(e.longitude),Fg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yg(n[i],r[i]);if(a)return a}return cy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gg.mapValue&&t===Gg.mapValue)return 0;if(e===Gg.mapValue)return 1;if(t===Gg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=cy(r[o],a[o]);if(0!==s)return s;var u=Yg(n[r[o]],i[a[o]]);if(0!==u)return u}return cy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wm()}}function Xg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return cy(e,t);var n=Mg(e),r=Mg(t),i=cy(n.seconds,r.seconds);return 0!==i?i:cy(n.nanos,r.nanos)}function Jg(e){return Zg(e)}function Zg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Mg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,gy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=En(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=En(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Wm();var t,n}function $g(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ek(e){return!!e&&"integerValue"in e}function tk(e){return!!e&&"arrayValue"in e}function nk(e){return!!e&&"nullValue"in e}function rk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ik(e){return!!e&&"mapValue"in e}function ak(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ak(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ak(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ok(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sk(e){return"nullValue"in e?Hg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$g(qg.empty(),gy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Wm()}function uk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$g(qg.empty(),gy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gg:Wm()}function ck(e,t){var n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lk(e,t){var n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var fk=function(){function e(t){bn(this,e),this.value=t}return xn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ik(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ak(t)}},{key:"setAll",value:function(e){var t=this,n=yy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ak(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ik(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ik(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tg(t,(function(t,n){return e[t]=n}));var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ak(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function hk(e){var t=[];return Tg(e.fields,(function(e,n){var r=new yy([e]);if(ik(n)){var i=hk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=En(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Rg(t)}var dk=function(){function e(t,n,r,i,a,o,s){bn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return xn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(dy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=fk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=fk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=dy.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,dy.min(),dy.min(),dy.min(),fk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,dy.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,dy.min(),dy.min(),fk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,dy.min(),dy.min(),fk.empty(),2)}}]),e}(),pk=xn((function e(t,n){bn(this,e),this.position=t,this.inclusive=n}));function vk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?gy.comparator(gy.fromName(o.referenceValue),n.key):Yg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function mk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wg(e.position[n],t.position[n]))return!1;return!0}var yk=xn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";bn(this,e),this.field=t,this.dir=n}));function gk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var kk=xn((function e(){bn(this,e)})),bk=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return xn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yg(t,this.value)):null!==t&&Kg(this.value)===Kg(t)&&this.matchesComparison(Yg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Nk(e,t,r):"array-contains"===t?new Ok(e,r):"in"===t?new Lk(e,r):"not-in"===t?new Mk(e,r):"array-contains-any"===t?new Fk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Pk(e,n):new Rk(e,n)}}]),n}(kk),wk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return xn(n,[{key:"matches",value:function(e){return xk(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=En(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(kk);function xk(e){return"and"===e.op}function Ek(e){return"or"===e.op}function Tk(e){return Sk(e)&&xk(e)}function Sk(e){var t,n=En(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof wk)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function _k(e){if(e instanceof bk)return e.field.canonicalString()+e.op.toString()+Jg(e.value);if(Tk(e))return e.filters.map((function(e){return _k(e)})).join(",");var t=e.filters.map((function(e){return _k(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ik(e,t){return e instanceof bk?function(e,t){return t instanceof bk&&e.op===t.op&&e.field.isEqual(t.field)&&Wg(e.value,t.value)}(e,t):e instanceof wk?function(e,t){return t instanceof wk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ik(n,t.filters[r])}),!0)}(e,t):void Wm()}function Ck(e,t){var n=e.filters.concat(t);return wk.create(n,e.op)}function Ak(e){return e instanceof bk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jg(e.value))}(e):e instanceof wk?function(e){return e.op.toString()+" {"+e.getFilters().map(Ak).join(" ,")+"}"}(e):"Filter"}var Nk=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,e,r,i)).key=gy.fromName(i.referenceValue),a}return xn(n,[{key:"matches",value:function(e){var t=gy.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(bk),Pk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,"in",r)).keys=Dk("in",r),i}return xn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bk),Rk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,"not-in",r)).keys=Dk("not-in",r),i}return xn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bk);function Dk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return gy.fromName(e.referenceValue)}))}var Ok=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"array-contains",r)}return xn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tk(t)&&Qg(t.arrayValue,this.value)}}]),n}(bk),Lk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"in",r)}return xn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qg(this.value.arrayValue,t)}}]),n}(bk),Mk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"not-in",r)}return xn(n,[{key:"matches",value:function(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qg(this.value.arrayValue,t)}}]),n}(bk),Fk=function(e){Sn(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"array-contains-any",r)}return xn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qg(t.value.arrayValue,e)}))}}]),n}(bk),jk=xn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;bn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function Uk(e){return new jk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vk(e){var t=Ym(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return _k(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Hy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jg(e)})).join(",")),t.dt=n}return t.dt}function Bk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ik(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mk(e.startAt,t.startAt)&&mk(e.endAt,t.endAt)}function zk(e){return gy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qk(e,t){return e.filters.filter((function(e){return e instanceof bk&&e.field.isEqual(t)}))}function Gk(e,t,n){var r,i=Hg,a=!0,o=En(qk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Hg,c=!0;switch(s.op){case"<":case"<=":u=sk(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Hg}ck({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ck({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Hk(e,t,n){var r,i=Gg,a=!0,o=En(qk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Gg,c=!0;switch(s.op){case">=":case">":u=uk(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Gg}lk({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];lk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Kk=xn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;bn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function Wk(e,t,n,r,i,a,o,s){return new Kk(e,t,n,r,i,a,o,s)}function Qk(e){return new Kk(e)}function Yk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jk(e){var t,n=En(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Zk(e){return null!==e.collectionGroup}function $k(e){var t=Ym(e);if(null===t.wt){t.wt=[];var n=Jk(t),r=Xk(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new yk(n)),t.wt.push(new yk(yy.keyField(),"asc"));else{var i,a=!1,o=En(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new yk(yy.keyField(),u))}}}return t.wt}function eb(e){var t=Ym(e);if(!t._t)if("F"===t.limitType)t._t=Uk(t.path,t.collectionGroup,$k(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=En($k(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new pk(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new pk(t.startAt.position,t.startAt.inclusive):null;t._t=Uk(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function tb(e,t){t.getFirstInequalityField(),Jk(e);var n=e.filters.concat([t]);return new Kk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nb(e,t,n){return new Kk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rb(e,t){return Bk(eb(e),eb(t))&&e.limitType===t.limitType}function ib(e){return"".concat(Vk(eb(e)),"|lt:").concat(e.limitType)}function ab(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ak(e)})).join(", "),"]")),Hy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jg(e)})).join(",")),"Target(".concat(t,")")}(eb(e)),"; limitType=").concat(e.limitType,")")}function ob(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=En($k(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=En(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$k(e),t))&&!(e.endAt&&!function(e,t,n){var r=vk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$k(e),t))}(e,t)}function sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ub(e){return function(t,n){var r,i=!1,a=En($k(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=cb(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function cb(e,t,n){var r=e.field.isKeyField()?gy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yg(r,i):Wm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wm()}}var lb=function(){function e(t,n){bn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return xn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Tg(this.inner,(function(t,n){var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fb=new _g(gy.comparator);function hb(){return fb}var db=new _g(gy.comparator);function pb(){for(var e=db,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function vb(e){var t=db;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function mb(){return gb()}function yb(){return gb()}function gb(){return new lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kb=new _g(gy.comparator),bb=new Ag(gy.comparator);function wb(){for(var e=bb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xb=new Ag(cy);function Eb(){return xb}function Tb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(t)?"-0":t}}function Sb(e){return{integerValue:""+e}}function _b(e,t){return Wy(t)?Sb(t):Tb(e,t)}var Ib=xn((function e(){bn(this,e),this._=void 0}));function Cb(e,t,n){return e instanceof Pb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ug(t)&&(t=Vg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rb?Db(e,t):e instanceof Ob?Lb(e,t):function(e,t){var n=Nb(e,t),r=Fb(n)+Fb(e.gt);return ek(n)&&ek(e.gt)?Sb(r):Tb(e.serializer,r)}(e,t)}function Ab(e,t,n){return e instanceof Rb?Db(e,t):e instanceof Ob?Lb(e,t):n}function Nb(e,t){return e instanceof Mb?ek(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pb=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n)}(Ib),Rb=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).elements=e,r}return xn(n)}(Ib);function Db(e,t){var n,r=jb(t),i=En(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ob=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).elements=e,r}return xn(n)}(Ib);function Lb(e,t){var n,r=jb(t),i=En(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mb=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return xn(n)}(Ib);function Fb(e){return Fg(e.integerValue||e.doubleValue)}function jb(e){return tk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ub=xn((function e(t,n){bn(this,e),this.field=t,this.transform=n}));var Vb=xn((function e(t,n){bn(this,e),this.version=t,this.transformResults=n})),Bb=function(){function e(t,n){bn(this,e),this.updateTime=t,this.exists=n}return xn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qb=xn((function e(){bn(this,e)}));function Gb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nw(e.key,Bb.none()):new Yb(e.key,e.data,Bb.none());var n,r=e.data,i=fk.empty(),a=new Ag(yy.comparator),o=En(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Xb(e.key,i,new Rg(a.toArray()),Bb.none())}function Hb(e,t,n){e instanceof Yb?function(e,t,n){var r=e.value.clone(),i=Zb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xb?function(e,t,n){if(zb(e.precondition,t)){var r=Zb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kb(e,t,n,r){return e instanceof Yb?function(e,t,n,r){if(!zb(e.precondition,t))return n;var i=e.value.clone(),a=$b(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Xb?function(e,t,n,r){if(!zb(e.precondition,t))return n;var i=$b(e.fieldTransforms,r,t),a=t.data;return a.setAll(Jb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wb(e,t){var n,r=null,i=En(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Nb(a.transform,o||null);null!=s&&(null===r&&(r=fk.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Qb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ly(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rb&&t instanceof Rb||e instanceof Ob&&t instanceof Ob?ly(e.elements,t.elements,Wg):e instanceof Mb&&t instanceof Mb?Wg(e.gt,t.gt):e instanceof Pb&&t instanceof Pb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Yb=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return bn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return xn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qb),Xb=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return bn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return xn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qb);function Jb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zb(e,t,n){var r=new Map;Qm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ab(o,s,n[i]))}return r}function $b(e,t,n){var r,i=new Map,a=En(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Cb(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ew,tw,nw=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return xn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qb),rw=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return xn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qb),iw=function(){function e(t,n,r,i){bn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return xn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=En(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Kb(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=En(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Kb(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=yb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Gb(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(dy.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ly(this.mutations,e.mutations,(function(e,t){return Qb(e,t)}))&&ly(this.baseMutations,e.baseMutations,(function(e,t){return Qb(e,t)}))}}]),e}(),aw=function(){function e(t,n,r,i){bn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return xn(e,null,[{key:"from",value:function(t,n,r){Qm(t.mutations.length===r.length);for(var i=kb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ow=function(){function e(t,n){bn(this,e),this.largestBatchId=t,this.mutation=n}return xn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sw=xn((function e(t,n){bn(this,e),this.count=t,this.unchangedNames=n}));function uw(e){switch(e){default:return Wm();case Xm.CANCELLED:case Xm.UNKNOWN:case Xm.DEADLINE_EXCEEDED:case Xm.RESOURCE_EXHAUSTED:case Xm.INTERNAL:case Xm.UNAVAILABLE:case Xm.UNAUTHENTICATED:return!1;case Xm.INVALID_ARGUMENT:case Xm.NOT_FOUND:case Xm.ALREADY_EXISTS:case Xm.PERMISSION_DENIED:case Xm.FAILED_PRECONDITION:case Xm.ABORTED:case Xm.OUT_OF_RANGE:case Xm.UNIMPLEMENTED:case Xm.DATA_LOSS:return!0}}function cw(e){if(void 0===e)return Gm("GRPC error has no .code"),Xm.UNKNOWN;switch(e){case ew.OK:return Xm.OK;case ew.CANCELLED:return Xm.CANCELLED;case ew.UNKNOWN:return Xm.UNKNOWN;case ew.DEADLINE_EXCEEDED:return Xm.DEADLINE_EXCEEDED;case ew.RESOURCE_EXHAUSTED:return Xm.RESOURCE_EXHAUSTED;case ew.INTERNAL:return Xm.INTERNAL;case ew.UNAVAILABLE:return Xm.UNAVAILABLE;case ew.UNAUTHENTICATED:return Xm.UNAUTHENTICATED;case ew.INVALID_ARGUMENT:return Xm.INVALID_ARGUMENT;case ew.NOT_FOUND:return Xm.NOT_FOUND;case ew.ALREADY_EXISTS:return Xm.ALREADY_EXISTS;case ew.PERMISSION_DENIED:return Xm.PERMISSION_DENIED;case ew.FAILED_PRECONDITION:return Xm.FAILED_PRECONDITION;case ew.ABORTED:return Xm.ABORTED;case ew.OUT_OF_RANGE:return Xm.OUT_OF_RANGE;case ew.UNIMPLEMENTED:return Xm.UNIMPLEMENTED;case ew.DATA_LOSS:return Xm.DATA_LOSS;default:return Wm()}}(tw=ew||(ew={}))[tw.OK=0]="OK",tw[tw.CANCELLED=1]="CANCELLED",tw[tw.UNKNOWN=2]="UNKNOWN",tw[tw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tw[tw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tw[tw.NOT_FOUND=5]="NOT_FOUND",tw[tw.ALREADY_EXISTS=6]="ALREADY_EXISTS",tw[tw.PERMISSION_DENIED=7]="PERMISSION_DENIED",tw[tw.UNAUTHENTICATED=16]="UNAUTHENTICATED",tw[tw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tw[tw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tw[tw.ABORTED=10]="ABORTED",tw[tw.OUT_OF_RANGE=11]="OUT_OF_RANGE",tw[tw.UNIMPLEMENTED=12]="UNIMPLEMENTED",tw[tw.INTERNAL=13]="INTERNAL",tw[tw.UNAVAILABLE=14]="UNAVAILABLE",tw[tw.DATA_LOSS=15]="DATA_LOSS";var lw=function(){function e(){bn(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return xn(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return fw}},{key:"getOrCreateInstance",value:function(){return null===fw&&(fw=new e),fw}}]),e}(),fw=null;function hw(){return new TextEncoder}var dw=new Fm([4294967295,4294967295],0);function pw(e){var t=hw().encode(e),n=new Mm;return n.update(t),new Uint8Array(n.digest())}function vw(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Fm([n,r],0),new Fm([i,a],0)]}var mw=function(){function e(t,n,r){if(bn(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yw("Invalid padding: ".concat(n));if(r<0)throw new yw("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new yw("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new yw("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Fm.fromNumber(this.It)}return xn(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Fm.fromNumber(n)));return 1===r.compare(dw)&&(r=new Fm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=d(vw(pw(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=d(vw(pw(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),yw=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return xn(n)}(Nn(Error)),gw=function(){function e(t,n,r,i,a){bn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return xn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,kw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(dy.min(),i,new _g(cy),hb(),wb())}}]),e}(),kw=function(){function e(t,n,r,i,a){bn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return xn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,wb(),wb(),wb())}}]),e}(),bw=xn((function e(t,n,r,i){bn(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),ww=xn((function e(t,n){bn(this,e),this.targetId=t,this.Vt=n})),xw=xn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Og.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;bn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ew=function(){function e(){bn(this,e),this.St=0,this.Dt=_w(),this.Ct=Og.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return xn(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=wb(),t=wb(),n=wb();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wm()}})),new kw(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=_w()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Tw=function(){function e(t){bn(this,e),this.Gt=t,this.Qt=new Map,this.jt=hb(),this.zt=Sw(),this.Wt=new _g(cy)}return xn(e,[{key:"Ht",value:function(e){var t,n=En(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=En(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Wm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(zk(a))if(0===r){var o=new gy(a.path);this.Yt(n,o,dk.newNoDocument(o,dy.min()))}else Qm(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=lw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=jg(c).toUint8Array()}catch(e){if(e instanceof Dg)return Hm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new mw(a,f,d)}catch(e){return Hm(e instanceof yw?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&zk(a.target)){var o=new gy(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,dk.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=wb();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new gw(e,n,this.Wt,this.jt,r);return this.jt=hb(),this.zt=Sw(),this.Wt=new _g(cy),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Ew,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Ag(cy),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||qm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Ew),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sw(){return new _g(gy.comparator)}function _w(){return new _g(gy.comparator)}var Iw={asc:"ASCENDING",desc:"DESCENDING"},Cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aw={and:"AND",or:"OR"},Nw=xn((function e(t,n){bn(this,e),this.databaseId=t,this.useProto3Json=n}));function Pw(e,t){return e.useProto3Json||Hy(t)?t:{value:t}}function Rw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ow(e,t){return Rw(e,t.toTimestamp())}function Lw(e){return Qm(!!e),dy.fromTimestamp(function(e){var t=Mg(e);return new hy(t.seconds,t.nanos)}(e))}function Mw(e,t){return function(e){return new vy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fw(e){var t=vy.fromString(e);return Qm(ox(t)),t}function jw(e,t){return Mw(e.databaseId,t.path)}function Uw(e,t){var n=Fw(t);if(n.get(1)!==e.databaseId.projectId)throw new Jm(Xm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jm(Xm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gy(qw(n))}function Vw(e,t){return Mw(e.databaseId,t)}function Bw(e){var t=Fw(e);return 4===t.length?vy.emptyPath():qw(t)}function zw(e){return new vy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qw(e){return Qm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gw(e,t,n){return{name:jw(e,t),fields:n.value.mapValue.fields}}function Hw(e,t,n){var r=Uw(e,t.name),i=Lw(t.updateTime),a=t.createTime?Lw(t.createTime):dy.min(),o=new fk({mapValue:{fields:t.fields}}),s=dk.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Kw(e,t){return"found"in t?function(e,t){Qm(!!t.found),t.found.name,t.found.updateTime;var n=Uw(e,t.found.name),r=Lw(t.found.updateTime),i=t.found.createTime?Lw(t.found.createTime):dy.min(),a=new fk({mapValue:{fields:t.found.fields}});return dk.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Qm(!!t.missing),Qm(!!t.readTime);var n=Uw(e,t.missing),r=Lw(t.readTime);return dk.newNoDocument(n,r)}(e,t):Wm()}function Ww(e,t){var n;if(t instanceof Yb)n={update:Gw(e,t.key,t.value)};else if(t instanceof nw)n={delete:jw(e,t.key)};else if(t instanceof Xb)n={update:Gw(e,t.key,t.data),updateMask:ax(t.fieldMask)};else{if(!(t instanceof rw))return Wm();n={verify:jw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ob)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mb)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Wm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ow(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wm()}(e,t.precondition)),n}function Qw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bb.updateTime(Lw(e.updateTime)):void 0!==e.exists?Bb.exists(e.exists):Bb.none()}(t.currentDocument):Bb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Qm("REQUEST_TIME"===t.setToServerValue),n=new Pb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Rb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ob(i)}else"increment"in t?n=new Mb(e,t.increment):Wm();var a=yy.fromServerFormat(t.fieldPath);return new Ub(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Uw(e,t.update.name),a=new fk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Rg(t.map((function(e){return yy.fromServerFormat(e)})))}(t.updateMask);return new Xb(i,a,o,n,r)}return new Yb(i,a,n,r)}if(t.delete){var s=Uw(e,t.delete);return new nw(s,n)}if(t.verify){var u=Uw(e,t.verify);return new rw(u,n)}return Wm()}function Yw(e,t){return{documents:[Vw(e,t.path)]}}function Xw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ix(wk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nx(e.field),direction:$w(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Pw(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jw(e){var t=Bw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Zw(e);return t instanceof wk&&Tk(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new yk(rx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Hy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pk(n,t)}(n.endAt)),Wk(t,i,s,o,u,"F",c,l)}function Zw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rx(e.unaryFilter.field);return bk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rx(e.unaryFilter.field);return bk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rx(e.unaryFilter.field);return bk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rx(e.unaryFilter.field);return bk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wm()}}(e):void 0!==e.fieldFilter?function(e){return bk.create(rx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wk.create(e.compositeFilter.filters.map((function(e){return Zw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Wm()}}(e.compositeFilter.op))}(e):Wm()}function $w(e){return Iw[e]}function ex(e){return Cw[e]}function tx(e){return Aw[e]}function nx(e){return{fieldPath:e.canonicalString()}}function rx(e){return yy.fromServerFormat(e.fieldPath)}function ix(e){return e instanceof bk?function(e){if("=="===e.op){if(rk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NAN"}};if(nk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NOT_NAN"}};if(nk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nx(e.field),op:ex(e.op),value:e.value}}}(e):e instanceof wk?function(e){var t=e.getFilters().map((function(e){return ix(e)}));return 1===t.length?t[0]:{compositeFilter:{op:tx(e.op),filters:t}}}(e):Wm()}function ax(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ox(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var sx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Og.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;bn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return xn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ux=xn((function e(t){bn(this,e),this.fe=t}));function cx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rw(e,t.version.toTimestamp()),createTime:Rw(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fx(t.version)};else{if(!t.isUnknownDocument())return Wm();r.unknownDocument={path:n.path.toArray(),version:fx(t.version)}}return r}function lx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hx(e){var t=new hy(e.seconds,e.nanoseconds);return dy.fromTimestamp(t)}function dx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qw(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Qw(e.fe,t)})),s=hy.fromMillis(t.localWriteTimeMs);return new iw(t.batchId,s,n,o)}function px(e){var t,n,r=hx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hx(e.lastLimboFreeSnapshotVersion):dy.min();return void 0!==e.query.documents?(Qm(1===(n=e.query).documents.length),t=eb(Qk(Bw(n.documents[0])))):t=function(e){return eb(Jw(e))}(e.query),new sx(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Og.fromBase64String(e.resumeToken))}function vx(e,t){var n,r=fx(t.snapshotVersion),i=fx(t.lastLimboFreeSnapshotVersion);n=zk(t.target)?Yw(e.fe,t.target):Xw(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mx(e){var t=Jw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nb(t,t.limit,"L"):t}function yx(e,t){return new ow(t.largestBatchId,Qw(e.fe,t.overlayMutation))}function gx(e,t){var n=t.path.lastSegment();return[e,Qy(t.path.popLast()),n]}function kx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fx(r.readTime),documentKey:Qy(r.documentKey.path),largestBatchId:r.largestBatchId}}var bx=function(){function e(){bn(this,e)}return xn(e,[{key:"getBundleMetadata",value:function(e,t){return wx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wx(e).put({bundleId:(n=t).id,createTime:fx(Lw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mx(t.bundledQuery),readTime:hx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xx(e).put(function(e){return{name:e.name,readTime:fx(Lw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wx(e){return xg(e,"bundles")}function xx(e){return xg(e,"namedQueries")}var Ex=function(){function e(t,n){bn(this,e),this.serializer=t,this.userId=n}return xn(e,[{key:"getOverlay",value:function(e,t){var n=this;return Tx(e).get(gx(this.userId,t)).next((function(e){return e?yx(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=mb();return Ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ow(t,a);i.push(r.we(e,o))})),Ry.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Qy(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Tx(e).J("collectionPathOverlayIndex",i))})),Ry.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=mb(),a=Qy(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Tx(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=En(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yx(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=mb(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tx(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=yx(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Tx(e).put(function(e,t,n){var r=d(gx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ww(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Tx(e){return xg(e,"documentOverlays")}var Sx=function(){function e(){bn(this,e)}return xn(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Fg(e.integerValue));else if("doubleValue"in e){var n=Fg(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ky(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jg(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?ok(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Wm()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),gy.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function _x(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ix(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=_x(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Sx.Ve=new Sx;var Cx=function(){function e(){bn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return xn(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=En(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=En(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Ix(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Ix(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ax=function(){function e(t){bn(this,e),this.je=t}return xn(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),Nx=function(){function e(t){bn(this,e),this.je=t}return xn(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Px=function(){function e(){bn(this,e),this.je=new Cx,this.ze=new Ax(this.je),this.We=new Nx(this.je)}return xn(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Rx=function(){function e(t,n,r,i){bn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return xn(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Dx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ox(e.arrayValue,t.arrayValue))?n:0!==(n=Ox(e.directionalValue,t.directionalValue))?n:gy.comparator(e.documentKey,t.documentKey)}function Ox(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Lx=function(){function e(t){bn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=En(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return xn(e,[{key:"tn",value:function(e){Qm(e.collectionGroup===this.collectionId);var t=by(e);if(void 0!==t&&!this.en(t))return!1;for(var n=wy(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=En(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Mx(e){var t,n;if(Qm(e instanceof bk||e instanceof wk),e instanceof bk){if(e instanceof Lk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return bk.create(e.field,"==",t)})))||[];return wk.create(r,"or")}return e}var i=e.filters.map((function(e){return Mx(e)}));return wk.create(i,e.op)}function Fx(e){if(0===e.getFilters().length)return[];var t=Bx(Mx(e));return Qm(Vx(t)),jx(t)||Ux(t)?[t]:t.getFilters()}function jx(e){return e instanceof bk}function Ux(e){return e instanceof wk&&Tk(e)}function Vx(e){return jx(e)||Ux(e)||function(e){if(e instanceof wk&&Ek(e)){var t,n=En(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!jx(r)&&!Ux(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Bx(e){if(Qm(e instanceof bk||e instanceof wk),e instanceof bk)return e;if(1===e.filters.length)return Bx(e.filters[0]);var t=e.filters.map((function(e){return Bx(e)})),n=wk.create(t,e.op);return Vx(n=Gx(n))?n:(Qm(n instanceof wk),Qm(xk(n)),Qm(n.filters.length>1),n.filters.reduce((function(e,t){return zx(e,t)})))}function zx(e,t){var n;return Qm(e instanceof bk||e instanceof wk),Qm(t instanceof bk||t instanceof wk),n=e instanceof bk?t instanceof bk?function(e,t){return wk.create([e,t],"and")}(e,t):qx(e,t):t instanceof bk?qx(t,e):function(e,t){if(Qm(e.filters.length>0&&t.filters.length>0),xk(e)&&xk(t))return Ck(e,t.getFilters());var n=Ek(e)?e:t,r=Ek(e)?t:e,i=n.filters.map((function(e){return zx(e,r)}));return wk.create(i,"or")}(e,t),Gx(n)}function qx(e,t){if(xk(t))return Ck(t,e.getFilters());var n=t.filters.map((function(t){return zx(e,t)}));return wk.create(n,"or")}function Gx(e){if(Qm(e instanceof bk||e instanceof wk),e instanceof bk)return e;var t=e.getFilters();if(1===t.length)return Gx(t[0]);if(Sk(e))return e;var n=t.map((function(e){return Gx(e)})),r=[];return n.forEach((function(t){t instanceof bk?r.push(t):t instanceof wk&&(t.op===e.op?r.push.apply(r,lr(t.filters)):r.push(t))})),1===r.length?r[0]:wk.create(r,e.op)}var Hx=function(){function e(){bn(this,e),this.rn=new Kx}return xn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ry.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ry.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ry.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ry.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ry.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ry.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ry.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ry.resolve(_y.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ry.resolve(_y.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ry.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ry.resolve()}}]),e}(),Kx=function(){function e(){bn(this,e),this.index={}}return xn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ag(vy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ag(vy.comparator)).toArray()}}]),e}(),Wx=new Uint8Array(0),Qx=function(){function e(t,n){bn(this,e),this.user=t,this.databaseId=n,this.on=new Kx,this.un=new lb((function(e){return Vk(e)}),(function(e,t){return Bk(e,t)})),this.uid=t.uid||""}return xn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Qy(i)};return Yx(e).put(a)}return Ry.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[fy(t),""],!1,!0);return Yx(e).j(r).next((function(e){var r,i=En(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Jy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Jx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Zx(e);return a.next((function(e){o.put(kx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Jx(e),r=Zx(e),i=Xx(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Xx(e),i=!0,a=new Map;return Ry.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=wb(),o=[];return Ry.forEach(a,(function(i,a){var s;qm("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vk(t)));var u=function(e,t){var n=by(t);if(void 0===n)return null;var r,i=En(qk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=En(wy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=En(qk(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=En(wy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Gk(e,o.fieldPath,e.startAt):Hk(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new pk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=En(wy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Hk(e,o.fieldPath,e.endAt):Gk(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new pk(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Ry.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=gy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ry.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Fx(wk.create(e.filters,"and")).map((function(t){return Uk(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):Wx,f=s.wn(e,u,n[h%c],r),d=s._n(e,u,i[h%c],a),p=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,lr(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Rx(e,gy.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Rx(e,gy.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Lx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=En(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Ry.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ag(yy.comparator),r=!1,i=En(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=En(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=En(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Px,i=En(wy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);Sx.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Px;return Sx.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Px;return Sx.Ve._e($g(this.databaseId,t),n.He(function(e){var t=wy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Px);var i,a=0,o=En(wy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=En(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&tk(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);Sx.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=lr(e),a=[],o=En(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=En(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Px;f.seed(l.Qe()),Sx.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof bk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Jx(e),i=Zx(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Ry.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ey(t.sequenceNumber,new _y(hx(t.readTime),new gy(Jy(t.documentKey)),t.largestBatchId)):Ey.empty(),r=e.fields.map((function(e){var t=d(e,2),n=t[0],r=t[1];return new xy(yy.fromServerFormat(n),r)}));return new ky(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:cy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Jx(e),a=Zx(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ry.forEach(t,(function(t){return a.put(kx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ry.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ry.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ry.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Ry.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return Xx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return Xx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=Xx(e),i=new Ag(Dx);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Rx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Ag(Dx),r=this.mn(t,e);if(null==r)return n;var i=by(t);if(null!=i){var a=e.data.field(i.fieldPath);if(tk(a)){var o,s=En(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Rx(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Rx(t.indexId,e.key,Wx,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;qm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Pg(a),u=Pg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Pg(o)):l?(i(s),s=Pg(a)):(s=Pg(a),u=Pg(o))}}(r,i,Dx,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Ry.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return Zx(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Dx(e,t)})).filter((function(e,t,n){return!t||0!==Dx(e,n[t-1])}));var r=[];r.push(e);var i,a=En(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Dx(o,e),u=Dx(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Wx,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Wx,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Dx(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($x)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ry.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Wm()}))})).next($x)}}]),e}();function Yx(e){return xg(e,"collectionParents")}function Xx(e){return xg(e,"indexEntries")}function Jx(e){return xg(e,"indexConfiguration")}function Zx(e){return xg(e,"indexState")}function $x(e){Qm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Iy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _y(t.readTime,t.documentKey,n)}var eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=function(){function e(t,n,r){bn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return xn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Qm(1===s)})));var c,l=[],f=En(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=eg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ry.waitFor(a).next((function(){return l}))}function rE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wm();t=e.noDocument}return JSON.stringify(t).length}tE.DEFAULT_COLLECTION_PERCENTILE=10,tE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tE.DEFAULT=new tE(41943040,tE.DEFAULT_COLLECTION_PERCENTILE,tE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tE.DISABLED=new tE(-1,0,0);var iE=function(){function e(t,n,r,i){bn(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return xn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oE(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sE(e),o=oE(e);return o.add({}).next((function(s){Qm("number"==typeof s);var u,c=new iw(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ww(e.fe,t)})),i=n.mutations.map((function(t){return Ww(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Ag((function(e,t){return cy(e.canonicalString(),t.canonicalString())})),d=En(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=eg(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,tg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),Ry.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return oE(e).get(t).next((function(e){return e?(Qm(e.userId===n.userId),dx(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Ry.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return oE(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Qm(t.batchId>=r),a=dx(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oE(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oE(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return dx(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$y(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return sE(e).X({range:i},(function(r,i,o){var s=d(r,3),u=s[0],c=s[1],l=s[2],f=Jy(c);if(u===n.userId&&t.path.isEqual(f))return oE(e).get(l).next((function(e){if(!e)throw Wm();Qm(e.userId===n.userId),a.push(dx(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ag(cy),i=[];return t.forEach((function(t){var a=$y(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=sE(e).X({range:o},(function(e,i,a){var o=d(e,3),s=o[0],u=o[1],c=o[2],l=Jy(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Ry.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$y(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ag(cy);return sE(e).X({range:o},(function(e,t,a){var o=d(e,3),u=o[0],c=o[1],l=o[2],f=Jy(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(oE(e).get(t).next((function(e){if(null===e)throw Wm();Qm(e.userId===n.userId),r.push(dx(n.serializer,e))})))})),Ry.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nE(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Ry.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ry.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sE(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Jy(e[1]);i.push(a)}else r.done()})).next((function(){Qm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aE(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return uE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Qm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aE(e,t,n){var r=$y(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return sE(e).X({range:a,Y:!0},(function(e,n,r){var a=d(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function oE(e){return xg(e,"mutations")}function sE(e){return xg(e,"documentMutations")}function uE(e){return xg(e,"mutationQueues")}var cE=function(){function e(t){bn(this,e),this.Nn=t}return xn(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),lE=function(){function e(t,n){bn(this,e),this.referenceDelegate=t,this.serializer=n}return xn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new cE(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return dy.fromTimestamp(new hy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fE(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Qm(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fE(e).X((function(o,s){var u=px(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Ry.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fE(e).X((function(e,n){var r=px(n);t(r)}))}},{key:"$n",value:function(e){return hE(e).get("targetGlobalKey").next((function(e){return Qm(null!==e),e}))}},{key:"On",value:function(e,t){return hE(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return fE(e).put(vx(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fE(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=px(n);Bk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dE(e);return t.forEach((function(t){var o=Qy(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dE(e);return Ry.forEach(t,(function(t){var a=Qy(t.path);return Ry.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dE(e),i=wb();return r.X({range:n,Y:!0},(function(e,t,n){var r=Jy(e[1]),a=new gy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qy(t.path),r=IDBKeyRange.bound([n],[fy(n)],!1,!0),i=0;return dE(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=d(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return fE(e).get(t).next((function(e){return e?px(e):null}))}}]),e}();function fE(e){return xg(e,"targets")}function hE(e){return xg(e,"targetGlobal")}function dE(e){return xg(e,"targetDocuments")}function pE(e,t){var n=d(e,2),r=n[0],i=n[1],a=d(t,2),o=a[0],s=a[1],u=cy(r,o);return 0===u?cy(i,s):u}var vE=function(){function e(t){bn(this,e),this.Ln=t,this.buffer=new Ag(pE),this.qn=0}return xn(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mE=function(){function e(t,n,r){bn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return xn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;qm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Fy(e.t0)){e.next=12;break}qm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ny(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),yE=function(){function e(t,n){bn(this,e),this.jn=t,this.params=n}return xn(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ry.resolve(Gy.ct);var r=new vE(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qm("LruGarbageCollector","Garbage collection skipped; disabled"),Ry.resolve(eE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(qm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),eE):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(qm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),zm()<=vr.DEBUG&&qm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Ry.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function gE(e,t){return new yE(e,t)}var kE=function(){function e(t,n){bn(this,e),this.db=t,this.garbageCollector=gE(this,n)}return xn(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bE(e,n)}},{key:"removeReference",value:function(e,t,n){return bE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bE(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return uE(e).Z((function(r){return aE(e,r,t).next((function(e){return e&&(n=!0),Ry.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,dy.min()),dE(e).delete([0,Qy(o.path)])}))}));i.push(u)}})).next((function(){return Ry.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bE(e,t)}},{key:"Yn",value:function(e,t){var n,r=dE(e),i=Gy.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=d(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Gy.ct&&t(new gy(Jy(n)),i),i=u,n=s):i=Gy.ct})).next((function(){i!==Gy.ct&&t(new gy(Jy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bE(e,t){return dE(e).put(function(e,t){return{targetId:0,path:Qy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var wE=function(){function e(){bn(this,e),this.changes=new lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return xn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,dk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ry.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),xE=function(){function e(t){bn(this,e),this.serializer=t}return xn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return _E(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return _E(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=dk.newInvalidDocument(t);return _E(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(IE(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:dk.newInvalidDocument(t)};return _E(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(IE(t))},(function(e,i){r={document:n.ts(t,i),size:rE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=hb();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=hb(),i=new _g(gy.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,rE(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Ry.resolve();var r=new Ag(AE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(IE(r.first()),IE(r.last())),a=r.getIterator(),o=a.getNext();return _E(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=gy.fromSegments([].concat(lr(t.prefixPath),[t.collectionGroup,t.documentId]));o&&AE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(IE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),lx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _E(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=hb(),o=En(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(gy.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(ob(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=hb(),o=CE(t,n),s=CE(t,_y.max());return _E(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(gy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new TE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return SE(e).get("remoteDocumentGlobalKey").next((function(e){return Qm(!!e),e}))}},{key:"Zn",value:function(e,t){return SE(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Hw(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=gy.fromSegments(t.noDocument.path),i=hx(t.noDocument.readTime);n=dk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Wm();var a=gy.fromSegments(t.unknownDocument.path),o=hx(t.unknownDocument.version);n=dk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new hy(e[0],e[1]);return dy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(dy.min()))return n}return dk.newInvalidDocument(e)}}]),e}();function EE(e){return new xE(e)}var TE=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return xn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ag((function(e,t){return cy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=cx(t.os.serializer,o);i=i.add(a.path.popLast());var c=rE(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=cx(t.os.serializer,o.convertToNoDocument(dy.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(wE);function SE(e){return xg(e,"remoteDocumentGlobal")}function _E(e){return xg(e,"remoteDocumentsV14")}function IE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CE(e,t){var n=t.documentKey.path.toArray();return[e,lx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=cy(n[a],r[a]))return i;return(i=cy(n.length,r.length))||((i=cy(n[n.length-2],r[r.length-2]))||cy(n[n.length-1],r[r.length-1]))}var NE=xn((function e(t,n){bn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),PE=function(){function e(t,n,r,i){bn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return xn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Kb(r.mutation,e,Rg.empty(),hy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,wb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wb(),i=mb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=pb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=mb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,wb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hb(),a=gb(),o=gb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Xb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Kb(o.mutation,t,o.mutation.getFieldMask(),hy.now())):a.set(t.key,Rg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new NE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gb(),i=new _g((function(e,t){return e-t})),a=wb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=En(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Rg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||wb()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=yb();c.forEach((function(e){if(!a.has(e)){var n=Gb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Ry.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return gy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ry.resolve(mb()),s=-1,u=a;return o.next((function(t){return Ry.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ry.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,wb())})).next((function(e){return{batchId:s,changes:vb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new gy(t)).next((function(e){var t=pb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=pb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ry.forEach(o,(function(o){var s=function(e,t){return new Kk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,dk.newInvalidDocument(r)))}));var n=pb();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Kb(a.mutation,i,Rg.empty(),hy.now()),ob(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),RE=function(){function e(t){bn(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return xn(e,[{key:"getBundleMetadata",value:function(e,t){return Ry.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Lw(n.createTime)}),Ry.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ry.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:mx(e.bundledQuery),readTime:Lw(e.readTime)}}(t)),Ry.resolve()}}]),e}(),DE=function(){function e(){bn(this,e),this.overlays=new _g(gy.comparator),this.ls=new Map}return xn(e,[{key:"getOverlay",value:function(e,t){return Ry.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=mb();return Ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Ry.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Ry.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mb(),i=t.length+1,a=new gy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ry.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _g((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=mb(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=mb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ry.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ow(t,n));var a=this.ls.get(t);void 0===a&&(a=wb(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),OE=function(){function e(){bn(this,e),this.fs=new Ag(LE.ds),this.ws=new Ag(LE._s)}return xn(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new LE(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new LE(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new gy(new vy([])),r=new LE(n,e),i=new LE(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new gy(new vy([])),n=new LE(t,e),r=new LE(t,e+1),i=wb();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new LE(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),LE=function(){function e(t,n){bn(this,e),this.key=t,this.As=n}return xn(e,null,[{key:"ds",value:function(e,t){return gy.comparator(e.key,t.key)||cy(e.As,t.As)}},{key:"_s",value:function(e,t){return cy(e.As,t.As)||gy.comparator(e.key,t.key)}}]),e}(),ME=function(){function e(t,n){bn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ag(LE.ds)}return xn(e,[{key:"checkEmpty",value:function(e){return Ry.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new iw(i,t,n,r);this.mutationQueue.push(a);var o,s=En(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new LE(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ry.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ry.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Ry.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ry.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Ry.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new LE(t,0),i=new LE(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Ry.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ag(cy);return t.forEach((function(e){var t=new LE(e,0),i=new LE(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Ry.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;gy.isDocumentKey(i)||(i=i.child(""));var a=new LE(new gy(i),0),o=new Ag(cy);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Ry.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Qm(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Ry.forEach(t.mutations,(function(i){var a=new LE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new LE(t,0),r=this.Rs.firstAfterOrEqual(n);return Ry.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ry.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),FE=function(){function e(t){bn(this,e),this.Ds=t,this.docs=new _g(gy.comparator),this.size=0}return xn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ry.resolve(n?n.document.mutableCopy():dk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():dk.newInvalidDocument(e))})),Ry.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=hb(),a=t.path,o=new gy(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Iy(Sy(l),n)<=0||(r.has(l.key)||ob(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ry.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Wm()}},{key:"Cs",value:function(e,t){return Ry.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jE(this)}},{key:"getSize",value:function(e){return Ry.resolve(this.size)}}]),e}(),jE=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).os=e,r}return xn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(wE),UE=function(){function e(t){bn(this,e),this.persistence=t,this.xs=new lb((function(e){return Vk(e)}),Bk),this.lastRemoteSnapshotVersion=dy.min(),this.highestTargetId=0,this.Ns=0,this.ks=new OE,this.targetCount=0,this.Ms=cE.kn()}return xn(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Ry.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ry.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ry.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Ry.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ry.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new cE(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Ry.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Ry.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ry.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ry.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ry.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Ry.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Ry.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ry.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Ry.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Ry.resolve(n)}},{key:"containsKey",value:function(e,t){return Ry.resolve(this.ks.containsKey(t))}}]),e}(),VE=function(){function e(t,n){var r=this;bn(this,e),this.$s={},this.overlays={},this.Os=new Gy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new UE(this),this.indexManager=new Hx,this.remoteDocumentCache=new FE((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new ux(n),this.qs=new RE(this.serializer)}return xn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new DE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new ME(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;qm("MemoryPersistence","Starting transaction:",e);var i=new BE(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Ry.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),BE=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return xn(n)}(Ay),zE=function(){function e(t){bn(this,e),this.persistence=t,this.Qs=new OE,this.js=null}return xn(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Wm()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ry.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ry.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Ry.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ry.forEach(this.Ws,(function(r){var i=gy.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,dy.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Ry.or([function(){return Ry.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),qE=function(){function e(t){bn(this,e),this.serializer=t}return xn(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Dy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zy,{unique:!0}),e.createObjectStore("documentMutations")}(e),GE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ry.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),GE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ry.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:dg});t.createIndex("collectionPathOverlayIndex",pg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ng});t.createIndex("documentKeyIndex",rg),t.createIndex("collectionGroupIndex",ig)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:cg}).createIndex("sequenceNumberIndex",lg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fg}).createIndex("documentKeyIndex",hg,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=rE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Ry.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Ry.forEach(r,(function(r){Qm(r.userId===n.userId);var i=dx(t.serializer,r);return nE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new vy(n),o=function(e){return[0,Qy(e)]}(a);r.push(t.get(o).next((function(n){return n?Ry.resolve():function(n){return t.put({targetId:0,path:Qy(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ry.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ug});var n=t.store("collectionParents"),r=new Kx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qy(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new vy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=d(e,3),r=(n[0],n[1]),a=(n[2],Jy(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=px(r),a=vx(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new gy(vy.fromString(i.document.name).popFirst(5)):i.noDocument?gy.fromSegments(i.noDocument.path):i.unknownDocument?gy.fromSegments(i.unknownDocument.path):Wm()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Ry.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=EE(this.serializer),a=new VE(zE.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:wb();dx(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ry.forEach(r,(function(e,r){var o=new Um(r),s=Ex.de(n.serializer,o),u=a.getIndexManager(o),c=iE.de(o,n.serializer,u,a.referenceDelegate);return new PE(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new wg(t,Gy.ct),e).next()}))}))}}]),e}();function GE(e){e.createObjectStore("targetDocuments",{keyPath:og}).createIndex("documentTargetsIndex",sg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ag,{unique:!0}),e.createObjectStore("targetGlobal")}var HE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",KE=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(bn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Jm(Xm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kE(this,i),this.di=n+"main",this.serializer=new ux(u),this.wi=new Oy(this.di,this.ui,new qE(this.serializer)),this.Bs=new lE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EE(this.serializer),this.qs=new bx,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Gm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return xn(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Jm(Xm.FAILED_PRECONDITION,HE);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Gy(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=u(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return QE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Fy(t))return qm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return qm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return WE(e).get("owner").next((function(e){return Ry.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return QE(e).delete(this.clientId)}},{key:"bi",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=xg(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ry.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=En(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Ry.resolve(!0):WE(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Jm(Xm.FAILED_PRECONDITION,HE);return!1}}return!(!t.networkEnabled||!t.inForeground)||QE(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&qm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new wg(e,Gy.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return QE(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return iE.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Qx(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ex.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;qm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?bg:14===i?kg:13===i?gg:12===i?yg:11===i?mg:void Wm();return this.wi.runTransaction(e,o,s,(function(i){return a=new wg(i,r.Os?r.Os.next():Gy.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw Gm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Jm(Xm.FAILED_PRECONDITION,Cy);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return WE(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Jm(Xm.FAILED_PRECONDITION,HE)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return WE(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=WE(e);return n.get("owner").next((function(e){return t.Ri(e)?(qm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ry.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Gm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Gn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return qm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Gm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Gm("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Oy.D()}}]),e}();function WE(e){return xg(e,"owner")}function QE(e){return xg(e,"clientMetadata")}function YE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XE=function(){function e(t,n,r,i){bn(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return xn(e,null,[{key:"Li",value:function(t,n){var r,i=wb(),a=wb(),o=En(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),JE=function(){function e(){bn(this,e),this.qi=!1}return xn(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(Yk(t))return Ry.resolve(null);var r=eb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=nb(t,null,"F"),r=eb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=wb.apply(void 0,lr(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,nb(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Yk(t)||r.isEqual(dy.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(zm()<=vr.DEBUG&&qm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ab(t)),i.Wi(e,o,t,Ty(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Ag(ub(e));return t.forEach((function(t,r){ob(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return zm()<=vr.DEBUG&&qm("QueryEngine","Using full collection scan to execute query:",ab(t)),this.Ui.getDocumentsMatchingQuery(e,t,_y.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ZE=function(){function e(t,n,r,i){bn(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new _g(cy),this.Yi=new lb((function(e){return Vk(e)}),Bk),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return xn(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function $E(e,t,n,r){return new ZE(e,t,n,r)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=wb(),u=En(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=En(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=En(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=En(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n=Ym(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ry.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Qm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=wb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function rT(e){var t=Ym(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function iT(e,t){var n=Ym(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Og.EMPTY_BYTE_STRING,dy.min()).withLastLimboFreeSnapshotVersion(dy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=hb(),u=wb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aT(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(dy.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ry.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function aT(e,t,n){var r=wb(),i=wb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(dy.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):qm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function oT(e,t){var n=Ym(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function sT(e,t){var n=Ym(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Ry.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new sx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function uT(e,t,n){return cT.apply(this,arguments)}function cT(){return cT=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ym(t),a=i.Ji.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",s,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Fy(e.t1)){e.next=12;break}throw e.t1;case 12:qm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cT.apply(this,arguments)}function lT(e,t,n){var r=Ym(e),i=dy.min(),a=wb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ym(e),i=r.Yi.get(n);return void 0!==i?Ry.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,eb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:dy.min(),n?a:wb())})).next((function(e){return dT(r,sb(t),e),{documents:e,ir:a}}))}))}function fT(e,t){var n=Ym(e),r=Ym(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function hT(e,t){var n=Ym(e),r=n.Xi.get(t)||dy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Ty(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return dT(n,t,e),e}))}function dT(e,t,n){var r=e.Xi.get(t)||dy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function pT(e,t,n,r){return vT.apply(this,arguments)}function vT(){return vT=u(o().mark((function e(t,n,r,i){var a,s,u,c,l,f,h,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ym(t),s=wb(),u=hb(),c=En(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.rr(f.metadata.name),f.document&&(s=s.add(h)),(d=n.ur(f)).setReadTime(n.cr(f.metadata.readTime)),u=u.insert(h,d)}catch(o){c.e(o)}finally{c.f()}return p=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,sT(a,function(e){return eb(Qk(vy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return aT(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Bs.addMatchingKeys(e,s,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=u(o().mark((function e(t,n){var r,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:wb(),e.next=3,sT(t,eb(mx(n.bundledQuery)));case 3:return i=e.sent,a=Ym(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Lw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Og.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wT=function(){function e(t,n,r,i){bn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return xn(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Jm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Gm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xT=function(){function e(t,n,r){bn(this,e),this.targetId=t,this.state=n,this.error=r}return xn(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Gm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){bn(this,e),this.clientId=t,this.activeTargetIds=n}return xn(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Eb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Wy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Gm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),TT=function(){function e(t,n){bn(this,e),this.clientId=t,this.onlineState=n}return xn(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Gm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ST=function(){function e(){bn(this,e),this.activeTargetIds=Eb()}return xn(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),_T=function(){function e(t,n,r,i,a){bn(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new _g(cy),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=gT(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new ST),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return xn(e,[{key:"start",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s,u,c,l,f,h,d=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=En(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gT(this.persistenceKey,i)))&&(s=ET.ar(i,a))&&(this.gr=this.gr.insert(s.clientId,s));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(c=this.br(u))&&this.Vr(c),l=En(this.yr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.mr(h)}catch(o){l.e(o)}finally{l.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bT(this.persistenceKey,e));if(n){var r=xT.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return qm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){qm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){qm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(qm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Gm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(u(o().mark((function e(){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(s=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(s));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}c=function(e){var t=Gy.ct;if(null!=e)try{var n=JSON.parse(e);Qm("number"==typeof n),t=n}catch(e){Gm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==Gy.ct&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return l=t.Gr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new wT(this.currentUser,e,t,n),i=kT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=kT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=bT(this.persistenceKey,e),i=new xT(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return ET.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wT.ar(new Um(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return xT.ar(r,t)}},{key:"br",value:function(e){return TT.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:qm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Eb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),IT=function(){function e(){bn(this,e),this.Hr=new ST,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return xn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new ST,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CT=function(){function e(){bn(this,e)}return xn(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),AT=function(){function e(){var t=this;bn(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return xn(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){qm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=En(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){qm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=En(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NT=null;function PT(){return null===NT?NT=268435456+Math.round(2147483648*Math.random()):NT++,"0x"+NT.toString(16)}var RT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},DT=function(){function e(t){bn(this,e),this.ro=t.ro,this.oo=t.oo}return xn(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),OT="WebChannelConnection",LT=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return xn(n,[{key:"Ao",value:function(e,t,n,r){var i=PT();return new Promise((function(a,o){var s=new Lm;s.setWithCredentials(!0),s.listenOnce(Nm.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Am.NO_ERROR:var t=s.getResponseJson();qm(OT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Am.TIMEOUT:qm(OT,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Jm(Xm.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:var n=s.getStatus();if(qm(OT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xm).indexOf(t)>=0?t:Xm.UNKNOWN}(u.status);o(new Jm(c,u.message))}else o(new Jm(Xm.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Jm(Xm.UNAVAILABLE,"Connection failed."));break;default:Wm()}}finally{qm(OT,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);qm(OT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=PT(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Im(),o=Cm(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Dm({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");qm(OT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new DT({ro:function(t){h?qm(OT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(qm(OT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),qm(OT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Om.EventType.OPEN,(function(){h||qm(OT,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Om.EventType.CLOSE,(function(){h||(h=!0,qm(OT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Om.EventType.ERROR,(function(t){h||(h=!0,Hm(OT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Jm(Xm.UNAVAILABLE,"The operation could not be completed")))})),p(l,Om.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Qm(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){qm(OT,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=ew[e];if(void 0!==t)return cw(t)}(s),c=o.message;void 0===u&&(u=Xm.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new Jm(u,c)),l.close()}else qm(OT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Pm.STAT_EVENT,(function(t){t.stat===Rm.PROXY?qm(OT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Rm.NOPROXY&&qm(OT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){bn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return xn(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=PT(),o=this.To(e,t);qm("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return qm("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Hm("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=RT[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function MT(){return"undefined"!=typeof window?window:null}function FT(){return"undefined"!=typeof document?document:null}function jT(e){return new Nw(e,!0)}var UT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;bn(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return xn(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&qm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),VT=function(){function e(t,n,r,i,a,o,s,u){bn(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new UT(t,n)}return xn(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Xm.RESOURCE_EXHAUSTED?(Gm(n.toString()),Gm("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Xm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=d(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Jm(Xm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return qm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(qm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),BT=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a,o,s){var u;return bn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return xn(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Qm(void 0===t||"string"==typeof t),Og.fromBase64String(t||"")):(Qm(void 0===t||t instanceof Uint8Array),Og.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Xm.UNKNOWN:cw(e.code);return new Jm(t,e.message||"")}(o);n=new xw(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Uw(e,u.document.name),l=Lw(u.document.updateTime),f=u.document.createTime?Lw(u.document.createTime):dy.min(),h=new fk({mapValue:{fields:u.document.fields}}),d=dk.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new bw(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Uw(e,m.document),g=m.readTime?Lw(m.readTime):dy.min(),k=dk.newNoDocument(y,g),b=m.removedTargetIds||[];n=new bw([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Uw(e,w.document),E=w.removedTargetIds||[];n=new bw([],E,x,null)}else{if(!("filter"in t))return Wm();t.filter;var T=t.filter;T.targetId;var S=T.count,_=void 0===S?0:S,I=T.unchangedNames,C=new sw(_,I),A=T.targetId;n=new ww(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return dy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?dy.min():t.readTime?Lw(t.readTime):dy.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=zw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=zk(r)?{documents:Yw(e,r)}:{query:Xw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Dw(e,t.resumeToken);var i=Pw(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(dy.min())>0){n.readTime=Rw(e,t.snapshotVersion.toTimestamp());var a=Pw(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=zw(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(VT),zT=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a,o,s){var u;return bn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return xn(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Bi(_n(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Qm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Qm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Lw(e.updateTime):Lw(t);return n.isEqual(dy.min())&&(n=Lw(t)),new Vb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Lw(e.commitTime);return this.listener.cu(n,t)}return Qm(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=zw(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ww(t.serializer,e)}))};this.Wo(n)}}]),n}(VT),qT=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a){var o;return bn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return xn(n,[{key:"fu",value:function(){if(this.lu)throw new Jm(Xm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=d(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Jm(Xm.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=d(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Xm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Jm(Xm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return xn((function e(){bn(this,e)}))}());var GT=function(){function e(t,n){bn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return xn(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Gm(t),this.mu=!1):qm("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),HT=xn((function e(t,n,r,i,a){var s=this;bn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nS(s),!e.t0){e.next=5;break}return qm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ym(t)).vu.add(4),e.next=4,QT(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,KT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new GT(r,i)}));function KT(e){return WT.apply(this,arguments)}function WT(){return(WT=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nS(t)){e.next=18;break}n=En(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function QT(e){return YT.apply(this,arguments)}function YT(){return(YT=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=En(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function XT(e,t){var n=Ym(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),tS(n)?eS(n):PS(n).Ko()&&ZT(n,t))}function JT(e,t){var n=Ym(e),r=PS(n);n.Au.delete(t),r.Ko()&&$T(n,t),0===n.Au.size&&(r.Ko()?r.jo():nS(n)&&n.bu.set("Unknown"))}function ZT(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dy.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}PS(e).su(t)}function $T(e,t){e.Vu.qt(t),PS(e).iu(t)}function eS(e){e.Vu=new Tw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),PS(e).start(),e.bu.gu()}function tS(e){return nS(e)&&!PS(e).Uo()&&e.Au.size>0}function nS(e){return 0===Ym(e).vu.size}function rS(e){e.Vu=void 0}function iS(e){return aS.apply(this,arguments)}function aS(){return(aS=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){ZT(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){return sS.apply(this,arguments)}function sS(){return(sS=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rS(t),tS(t)?(t.bu.Iu(n),eS(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=u(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof xw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=En(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(s=a.value,e.t0=t.Au.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.Au.delete(s),t.Vu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),qm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,lS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bw?t.Vu.Ht(n):n instanceof ww?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(dy.min())){e.next=29;break}return e.prev=14,e.next=17,rT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Og.EMPTY_BYTE_STRING,r.snapshotVersion)),$T(e,t);var i=new sx(r.target,t,n,r.sequenceNumber);ZT(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),qm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,lS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cS.apply(this,arguments)}function lS(e,t,n){return fS.apply(this,arguments)}function fS(){return(fS=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fy(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,QT(t);case 5:t.bu.set("Offline"),r||(r=function(){return rT(t.localStore)}),t.asyncQueue.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,KT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hS(e,t){return t().catch((function(n){return lS(e,n,t)}))}function dS(e){return pS.apply(this,arguments)}function pS(){return(pS=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ym(t),r=RS(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!vS(n)){e.next=19;break}return e.prev=3,e.next=6,oT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,mS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,lS(n,e.t0);case 17:e.next=2;break;case 19:yS(n)&&gS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function vS(e){return nS(e)&&e.Eu.length<10}function mS(e,t){e.Eu.push(t);var n=RS(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function yS(e){return nS(e)&&!RS(e).Uo()&&e.Eu.length>0}function gS(e){RS(e).start()}function kS(e){return bS.apply(this,arguments)}function bS(){return(bS=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RS(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wS(e){return xS.apply(this,arguments)}function xS(){return(xS=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=RS(t),r=En(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t,n){return TS.apply(this,arguments)}function TS(){return(TS=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=aw.from(i,n,r),e.next=3,hS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,dS(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SS(e,t){return _S.apply(this,arguments)}function _S(){return _S=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&RS(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uw(i=n.code)||i===Xm.ABORTED){e.next=7;break}return r=t.Eu.shift(),RS(t).Qo(),e.next=5,hS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,dS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yS(t)&&gS(t);case 5:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function IS(e,t){return CS.apply(this,arguments)}function CS(){return(CS=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ym(t)).asyncQueue.verifyOperationInProgress(),qm("RemoteStore","RemoteStore received new credentials"),i=nS(r),r.vu.add(3),e.next=6,QT(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,KT(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AS(e,t){return NS.apply(this,arguments)}function NS(){return(NS=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,KT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,QT(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PS(e){return e.Su||(e.Su=function(e,t,n){var r=Ym(e);return r.fu(),new BT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:iS.bind(null,e),ao:oS.bind(null,e),nu:uS.bind(null,e)}),e.Ru.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),tS(e)?eS(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:rS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function RS(e){return e.Du||(e.Du=function(e,t,n){var r=Ym(e);return r.fu(),new zT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:kS.bind(null,e),ao:SS.bind(null,e),au:wS.bind(null,e),cu:ES.bind(null,e)}),e.Ru.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,dS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(qm("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var DS=function(){function e(t,n,r,i,a){bn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return xn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jm(Xm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function OS(e,t){if(Gm("AsyncQueue","".concat(t,": ").concat(e)),Fy(e))return new Jm(Xm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var LS=function(){function e(t){bn(this,e),this.comparator=t?function(e,n){return t(e,n)||gy.comparator(e.key,n.key)}:function(e,t){return gy.comparator(e.key,t.key)},this.keyedMap=pb(),this.sortedSet=new _g(this.comparator)}return xn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),MS=function(){function e(){bn(this,e),this.Cu=new _g(gy.comparator)}return xn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Wm():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),FS=function(){function e(t,n,r,i,a,o,s,u,c){bn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return xn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,LS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),jS=xn((function e(){bn(this,e),this.Nu=void 0,this.listeners=[]})),US=xn((function e(){bn(this,e),this.queries=new lb((function(e){return ib(e)}),rb),this.onlineState="Unknown",this.ku=new Set}));function VS(e,t){return BS.apply(this,arguments)}function BS(){return BS=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=n.query,a=!1,(s=r.queries.get(i))||(a=!0,s=new jS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:s.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=OS(e.t0,"Initialization of query '".concat(ab(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,s),s.listeners.push(n),n.Mu(r.onlineState),s.Nu&&n.$u(s.Nu)&&KS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),BS.apply(this,arguments)}function zS(e,t){return qS.apply(this,arguments)}function qS(){return qS=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=n.query,a=!1,(s=r.queries.get(i))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),a=0===s.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function GS(e,t){var n,r=Ym(e),i=!1,a=En(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=En(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&KS(r)}function HS(e,t,n){var r=Ym(e),i=r.queries.get(t);if(i){var a,o=En(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function KS(e){e.ku.forEach((function(e){e.next()}))}var WS=function(){function e(t,n,r){bn(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return xn(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=En(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new FS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=FS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),QS=function(){function e(t,n){bn(this,e),this.Gu=t,this.byteLength=n}return xn(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),YS=function(){function e(t){bn(this,e),this.serializer=t}return xn(e,[{key:"rr",value:function(e){return Uw(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?Hw(this.serializer,e.document,!1):dk.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Lw(e)}}]),e}(),XS=function(){function e(t,n,r){bn(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=JS(t)}return xn(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=vy.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new YS(this.serializer),i=En(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=En(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||wb()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pT(this.localStore,new YS(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=En(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,mT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function JS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ZS=xn((function e(t){bn(this,e),this.key=t})),$S=xn((function e(t){bn(this,e),this.key=t})),e_=function(){function e(t,n){bn(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wb(),this.mutatedKeys=wb(),this.tc=ub(t),this.ec=new LS(this.tc)}return xn(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new MS,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ob(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wm()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new FS(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new MS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=wb(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new $S(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new ZS(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=wb();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return FS.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),t_=xn((function e(t,n,r){bn(this,e),this.query=t,this.targetId=n,this.view=r})),n_=xn((function e(t){bn(this,e),this.key=t,this.fc=!1})),r_=function(){function e(t,n,r,i,a,o){bn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new lb((function(e){return ib(e)}),rb),this._c=new Map,this.mc=new Set,this.gc=new _g(gy.comparator),this.yc=new Map,this.Ic=new OE,this.Tc={},this.Ec=new Map,this.Ac=cE.Mn(),this.onlineState="Unknown",this.vc=void 0}return xn(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=u(o().mark((function e(t,n){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=J_(t),!(s=r.wc.get(n))){e.next=6;break}i=s.targetId,r.sharedClientState.addLocalQueryTarget(i),a=s.view.lc(),e.next=15;break;case 6:return e.next=8,sT(r.localStore,eb(n));case 8:return u=e.sent,c=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,o_(r,n,i,"current"===c,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&XT(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t,n,r,i){return s_.apply(this,arguments)}function s_(){return s_=u(o().mark((function e(t,n,r,i,a){var s,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,lT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return s=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,s),e.abrupt("return",(I_(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lT(t.localStore,n,!0);case 3:return s=e.sent,c=new e_(n,s.ir),l=c.sc(s.documents),f=kw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=c.applyChanges(l,t.isPrimaryClient,f),I_(t,r,h.cc),d=new t_(n,r,c),e.abrupt("return",(t.wc.set(n,d),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function u_(e,t){return c_.apply(this,arguments)}function c_(){return(c_=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!rb(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),JT(r.remoteStore,i.targetId),S_(r,i.targetId)})).catch(Ny);case 9:e.next=14;break;case 11:return S_(r,i.targetId),e.next=14,uT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l_(e,t,n){return f_.apply(this,arguments)}function f_(){return f_=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Z_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ym(e),a=hy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),wb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hb(),u=wb();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=En(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Wb(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Xb(c.key,l,hk(l.value.mapValue),Bb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:vb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new _g(cy)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,N_(i,a.changes);case 9:return e.next=11,dS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=OS(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),f_.apply(this,arguments)}function h_(e,t){return d_.apply(this,arguments)}function d_(){return(d_=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.prev=1,e.next=4,iT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Qm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Qm(n.fc):e.removedDocuments.size>0&&(Qm(n.fc),n.fc=!1))})),e.next=8,N_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ny(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function p_(e,t,n){var r=Ym(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ym(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=En(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&KS(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function v_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=u(o().mark((function e(t,n,r){var i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ym(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(s=a&&a.key)){e.next=14;break}return u=(u=new _g(gy.comparator)).insert(s,dk.newNoDocument(s,dy.min())),c=wb().add(s),l=new gw(dy.min(),new Map,new _g(cy),u,c),e.next=9,h_(i,l);case 9:i.gc=i.gc.remove(s),i.yc.delete(n),A_(i),e.next=16;break;case 14:return e.next=16,uT(i.localStore,n,!1).then((function(){return S_(i,n,r)})).catch(Ny);case 16:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return(g_=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=n.batch.batchId,e.prev=1,e.next=4,nT(r.localStore,n);case 4:return a=e.sent,T_(r,i,null),E_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,N_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ny(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return(b_=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ym(t),e.prev=1,e.next=4,function(e,t){var n=Ym(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Qm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,T_(i,n,r),E_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,N_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ny(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return(x_=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nS((r=Ym(t)).remoteStore)||qm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ym(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=OS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(s);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function E_(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function T_(e,t,n){var r=Ym(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function S_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=En(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||__(e,t)}))}function __(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(JT(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),A_(e))}function I_(e,t,n){var r,i=En(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ZS?(e.Ic.addReference(a.key,t),C_(e,a)):a instanceof $S?(qm("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||__(e,a.key)):Wm()}}catch(o){i.e(o)}finally{i.f()}}function C_(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(qm("SyncEngine","New document in limbo: "+n),e.mc.add(r),A_(e))}function A_(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new gy(vy.fromString(t)),r=e.Ac.next();e.yc.set(r,new n_(n)),e.gc=e.gc.insert(n,r),XT(e.remoteStore,new sx(eb(Qk(n.path)),r,"TargetPurposeLimboResolution",Gy.ct))}}function N_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=u(o().mark((function e(t,n,r){var i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ym(t),a=[],s=[],c=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){c.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=XE.Li(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.dc.nu(a),e.next=9,function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ry.forEach(n,(function(t){return Ry.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ry.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Fy(e.t0)){e.next=10;break}throw e.t0;case 10:qm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=En(n);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.targetId,s.fromCache||(c=r.Ji.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(u,f))}catch(o){i.e(o)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function R_(e,t){return D_.apply(this,arguments)}function D_(){return(D_=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ym(t)).currentUser.isEqual(n)){e.next=11;break}return qm("SyncEngine","User change. New user:",n.toKey()),e.next=5,eT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Jm(Xm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,N_(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e,t){var n=Ym(e),r=n.yc.get(t);if(r&&r.fc)return wb().add(r.key);var i=wb(),a=n._c.get(t);if(!a)return i;var o,s=En(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function L_(e,t){return M_.apply(this,arguments)}function M_(){return(M_=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.next=3,lT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&I_(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t){return j_.apply(this,arguments)}function j_(){return(j_=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.abrupt("return",hT(r.localStore,n).then((function(e){return N_(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U_(e,t,n,r){return V_.apply(this,arguments)}function V_(){return V_=u(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ym(t),e.next=3,function(e,t){var n=Ym(e),r=Ym(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ry.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(s=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,dS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(T_(a,n,i||null),E_(a,n),function(e,t){Ym(Ym(e).mutationQueue).Cn(t)}(a.localStore,n)):Wm();case 11:return e.next=13,N_(a,s);case 13:e.next=16;break;case 15:qm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return(z_=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J_(r=Ym(t)),Z_(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,q_(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,AS(r.remoteStore,!0);case 9:s=En(a);try{for(s.s();!(u=s.n()).done;)c=u.value,XT(r.remoteStore,c)}catch(o){s.e(o)}finally{s.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return l=[],f=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return S_(r,t),uT(r.localStore,t,!0)})),JT(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,q_(r,l);case 21:return function(e){var t=Ym(e);t.yc.forEach((function(e,n){JT(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new _g(gy.comparator)}(r),r.vc=!1,e.next=25,AS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q_(e,t,n){return G_.apply(this,arguments)}function G_(){return G_=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p,v,m,y,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ym(t),a=[],s=[],u=En(n),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i._c.get(l))||0===h.length){e.next=34;break}return e.next=11,sT(i.localStore,eb(h[0]));case 11:f=e.sent,d=En(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.wc.get(v),e.next=20,L_(i,m);case 20:(y=e.sent).snapshot&&s.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fT(i.localStore,l);case 36:return g=e.sent,e.next=39,sT(i.localStore,g);case 39:return f=e.sent,e.next=42,o_(i,H_(g),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(s),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),G_.apply(this,arguments)}function H_(e){return Wk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function K_(e){var t=Ym(e);return Ym(Ym(t.localStore).persistence).$i()}function W_(e,t,n,r){return Q_.apply(this,arguments)}function Q_(){return Q_=u(o().mark((function e(t,n,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ym(t)).vc){e.next=3;break}return e.abrupt("return",void qm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((s=a._c.get(n))&&s.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hT(a.localStore,sb(s[0]));case 10:return u=e.sent,c=gw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Og.EMPTY_BYTE_STRING),e.next=14,N_(a,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,uT(a.localStore,n,!0);case 17:return S_(a,n,i),e.abrupt("break",20);case 19:Wm();case 20:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function Y_(e,t,n){return X_.apply(this,arguments)}function X_(){return(X_=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=J_(t)).vc){e.next=45;break}a=En(n),e.prev=3,a.s();case 5:if((s=a.n()).done){e.next=21;break}if(u=s.value,!i._c.has(u)){e.next=10;break}return qm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fT(i.localStore,u);case 12:return c=e.sent,e.next=15,sT(i.localStore,c);case 15:return l=e.sent,e.next=18,o_(i,H_(c),l.targetId,!1,l.resumeToken);case 18:XT(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=En(r),e.prev=30,d=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,uT(i.localStore,t,!1).then((function(){JT(i.remoteStore,t),S_(i,t)})).catch(Ny);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function J_(e){var t=Ym(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=O_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v_.bind(null,t),t.dc.nu=GS.bind(null,t.eventManager),t.dc.Pc=HS.bind(null,t.eventManager),t}function Z_(e){var t=Ym(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=k_.bind(null,t),t}function $_(e,t,n){var r=Ym(e);(function(){var e=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ym(e),r=Lw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(JS(i)),a=new XS(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:s=e.sent;case 16:if(!s){e.next=26;break}return e.next=19,a.zu(s);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:s=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,N_(t,c.Ju,void 0);case 31:return e.next=33,function(e,t){var n=Ym(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Hm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var eI=function(){function e(){bn(this,e),this.synchronizeTabs=!1}return xn(e,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=jT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return $E(this.persistence,new JE,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new VE(zE.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new IT}},{key:"terminate",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tI=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return xn(n,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_n(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,Z_(this.Vc.syncEngine);case 6:return e.next=8,dS(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return $E(this.persistence,new JE,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new mE(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new qy(t,this.persistence);return new zy(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tE.withCacheSize(this.cacheSizeBytes):tE.DEFAULT;return new KE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,MT(),FT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new IT}}]),n}(eI),nI=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return xn(n,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(_n(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof _T,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:U_.bind(null,r),zr:W_.bind(null,r),Wr:Y_.bind(null,r),$i:K_.bind(null,r),Qr:F_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B_(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=MT();if(!_T.D(t))throw new Jm(Xm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=YE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _T(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(tI),rI=function(){function e(){bn(this,e)}return xn(e,[{key:"initialize",value:function(){var e=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return p_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=R_.bind(null,this.syncEngine),e.next=12,AS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new US}},{key:"createDatastore",value:function(e){var t,n=jT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new LT(t));return function(e,t,n,r){return new qT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return p_(o.syncEngine,e,0)},a=AT.D()?new AT:new CT,new HT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new r_(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ym(t),qm("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,QT(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function iI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return u(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var aI=function(){function e(t){bn(this,e),this.observer=t,this.muted=!1}return xn(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Gm("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),oI=function(){function e(t,n){var r=this;bn(this,e),this.Cc=t,this.serializer=n,this.metadata=new Zm,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return xn(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=u(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new QS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sI=function(){function e(t){bn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return xn(e,[{key:"lookup",value:function(){var e=u(o().mark((function e(t){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Jm(Xm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=zw(r.serializer)+"/documents",a={documents:n.map((function(e){return jw(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return s=e.sent,u=new Map,s.forEach((function(e){var t=Kw(r.serializer,e);u.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Qm(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=u(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=gy.fromPath(t);n.mutations.push(new rw(r,n.precondition(r)))})),e.next=7,function(){var e=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=zw(r.serializer)+"/documents",a={writes:n.map((function(e){return Ww(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wm();t=dy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jm(Xm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dy.min())?Bb.exists(!1):Bb.updateTime(t):Bb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dy.min()))throw new Jm(Xm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bb.updateTime(t)}return Bb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),uI=function(){function e(t,n,r,i,a){bn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new UT(this.asyncQueue,"transaction_retry")}return xn(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new sI(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Hy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uw(t)}return!1}}]),e}(),cI=function(){function e(t,n,r,i){var a=this;bn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Um.UNAUTHENTICATED,this.clientId=uy.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return qm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return xn(e,[{key:"getConfiguration",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Jm(Xm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=OS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),qm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return(dI=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vI(t);case 3:return r=e.sent,qm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return IS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return IS(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pI(e){return"FirebaseError"===e.name?e.code===Xm.FAILED_PRECONDITION||e.code===Xm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function vI(e){return mI.apply(this,arguments)}function mI(){return(mI=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return qm("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,lI(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),pI(n=e.t0)){e.next=13;break}throw n;case 13:return Hm("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,lI(t,new eI);case 16:e.next=21;break;case 18:return qm("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,lI(t,new eI);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function yI(e){return gI.apply(this,arguments)}function gI(){return(gI=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return qm("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,hI(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return qm("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,hI(t,new rI);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kI(e){return vI(e).then((function(e){return e.persistence}))}function bI(e){return vI(e).then((function(e){return e.localStore}))}function wI(e){return yI(e).then((function(e){return e.remoteStore}))}function xI(e){return yI(e).then((function(e){return e.syncEngine}))}function EI(e){return yI(e).then((function(e){return e.datastore}))}function TI(e){return SI.apply(this,arguments)}function SI(){return(SI=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=i_.bind(null,n.syncEngine),r.onUnlisten=u_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new aI({next:function(a){t.enqueueAndForget((function(){return zS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Jm(Xm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Jm(Xm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new WS(Qk(n.path),a,{includeMetadataChanges:!0,Ku:!0});return VS(e,o)},i.next=3,TI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function II(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new aI({next:function(n){t.enqueueAndForget((function(){return zS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Jm(Xm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new WS(n,a,{includeMetadataChanges:!0,Ku:!0});return VS(e,o)},i.next=3,TI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CI(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var AI=new Map;function NI(e,t,n){if(!n)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function PI(e,t,n,r){if(!0===t&&!0===r)throw new Jm(Xm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function RI(e){if(!gy.isDocumentKey(e))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function DI(e){if(gy.isDocumentKey(e))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function OI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Wm()}function LI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jm(Xm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=OI(e);throw new Jm(Xm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function MI(e,t){if(t<=0)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var FI=function(){function e(t){var n,r;if(bn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Jm(Xm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jm(Xm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CI(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return xn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),jI=function(){function e(t,n,r,i){bn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1}return xn(e,[{key:"app",get:function(){if(!this._app)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ey;switch(e.type){case"firstParty":return new iy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jm(Xm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=AI.get(e);t&&(qm("ComponentProvider","Removing Datastore"),AI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function UI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=LI(e,jI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Hm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Um.MOCK_USER;else{s=zn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Jm(Xm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Um(c)}e._authCredentials=new ty(new $m(s,u))}}var VI=function(){function e(t,n,r){bn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return xn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),BI=function(){function e(t,n,r){bn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return xn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zI=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,e,r,Qk(i)))._path=i,a.type="collection",a}return xn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new VI(this.firestore,null,new gy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(BI);function qI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ur(e),NI("collection","path",t),e instanceof jI){var a=vy.fromString.apply(vy,[t].concat(r));return DI(a),new zI(e,null,a)}if(!(e instanceof VI||e instanceof zI))throw new Jm(Xm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vy.fromString.apply(vy,[t].concat(r)));return DI(o),new zI(e.firestore,null,o)}function GI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ur(e),1===arguments.length&&(t=uy.A()),NI("doc","path",t),e instanceof jI){var a=vy.fromString.apply(vy,[t].concat(r));return RI(a),new VI(e,null,new gy(a))}if(!(e instanceof VI||e instanceof zI))throw new Jm(Xm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vy.fromString.apply(vy,[t].concat(r)));return RI(o),new VI(e.firestore,e instanceof zI?e.converter:null,new gy(o))}function HI(e,t){return e=ur(e),t=ur(t),(e instanceof VI||e instanceof zI)&&(t instanceof VI||t instanceof zI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function KI(e,t){return e=ur(e),t=ur(t),e instanceof BI&&t instanceof BI&&e.firestore===t.firestore&&rb(e._query,t._query)&&e.converter===t.converter}var WI=function(){function e(){var t=this;bn(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new UT(this,"async_queue_retry"),this.Xc=function(){var e=FT();e&&qm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=FT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return xn(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=FT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Zm;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Fy(e.t0)){e.next=12;break}throw e.t0;case 12:qm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Gm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=DS.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Wm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=En(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=En(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function QI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=En(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var YI=function(){function e(){bn(this,e),this._progressObserver={},this._taskCompletionResolver=new Zm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return xn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),XI=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a){var o;return bn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new WI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return xn(n,[{key:"_terminate",value:function(){return this._firestoreClient||ZI(this),this._firestoreClient.terminate()}}]),n}(jI);function JI(e){return e._firestoreClient||ZI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZI(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new zg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,CI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new cI(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function $I(e,t,n){var r=new Zm;return e.asyncQueue.enqueue(u(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lI(e,n);case 3:return i.next=5,hI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),pI(a=i.t0)){i.next=13;break}throw a;case 13:Hm("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function eC(e){return function(e){return e.asyncQueue.enqueue(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kI(e);case 2:return n=t.sent,t.next=5,wI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ym(e);return t.vu.delete(0),KT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(JI(e=LI(e,XI)))}function tC(e){return function(e){return e.asyncQueue.enqueue(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kI(e);case 2:return n=t.sent,t.next=5,wI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ym(t)).vu.add(0),e.next=4,QT(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(JI(e=LI(e,XI)))}function nC(e,t){var n=JI(e=LI(e,XI)),r=new YI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new oI(e,t)}(function(e,t){if(e instanceof Uint8Array)return iI(e,t);if(e instanceof ArrayBuffer)return iI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?hw().encode(e):e),t)}(n,jT(t));e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$_,t.next=3,xI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function rC(e,t){return function(e,t){return e.asyncQueue.enqueue(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ym(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,bI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(JI(e=LI(e,XI)),t).then((function(t){return t?new BI(e,null,t.query):null}))}function iC(e){if(e._initialized||e._terminated)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var aC=function(){function e(t){bn(this,e),this._byteString=t}return xn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Og.fromBase64String(t))}catch(t){throw new Jm(Xm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Og.fromUint8Array(t))}}]),e}(),oC=function(){function e(){bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yy(n)}return xn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sC=xn((function e(t){bn(this,e),this._methodName=t})),uC=function(){function e(t,n){if(bn(this,e),!isFinite(t)||t<-90||t>90)throw new Jm(Xm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jm(Xm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return xn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return cy(this._lat,e._lat)||cy(this._long,e._long)}}]),e}(),cC=/^__.*__$/,lC=function(){function e(t,n,r){bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Xb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yb(e,this.data,t,this.fieldTransforms)}}]),e}(),fC=function(){function e(t,n,r){bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xn(e,[{key:"toMutation",value:function(e,t){return new Xb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function hC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wm()}}var dC=function(){function e(t,n,r,i,a,o){bn(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return xn(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return DC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(hC(this.ca)&&cC.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),pC=function(){function e(t,n,r){bn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||jT(t)}return xn(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dC({ca:e,methodName:t,ga:n,path:yy.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function vC(e){var t=e._freezeSettings(),n=jT(e._databaseId);return new pC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);AC("Data must be an object, but it was:",o,r);var s,u,c=IC(r,o);if(a.merge)s=new Rg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=En(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=NC(t,l.value,n);if(!o.contains(d))throw new Jm(Xm.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));OC(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Rg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new lC(new fk(c),s,u)}var yC=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sC);function gC(e,t,n){return new dC({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var kC=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"_toFieldTransform",value:function(e){return new Ub(e.path,new Pb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sC),bC=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e)).pa=r,i}return xn(n,[{key:"_toFieldTransform",value:function(e){var t=gC(this,e,!0),n=this.pa.map((function(e){return _C(e,t)})),r=new Rb(n);return new Ub(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sC),wC=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e)).pa=r,i}return xn(n,[{key:"_toFieldTransform",value:function(e){var t=gC(this,e,!0),n=this.pa.map((function(e){return _C(e,t)})),r=new Ob(n);return new Ub(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sC),xC=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e)).Ia=r,i}return xn(n,[{key:"_toFieldTransform",value:function(e){var t=new Mb(e.serializer,_b(e.serializer,this.Ia));return new Ub(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sC);function EC(e,t,n,r){var i=e.ya(1,t,n);AC("Data must be an object, but it was:",i,r);var a=[],o=fk.empty();Tg(r,(function(e,r){var s=RC(t,e,n);r=ur(r);var u=i.da(s);if(r instanceof yC)a.push(s);else{var c=_C(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Rg(a);return new fC(o,s,i.fieldTransforms)}function TC(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[NC(t,r,n)],u=[i];if(a.length%2!=0)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(NC(t,a[c])),u.push(a[c+1]);for(var l=[],f=fk.empty(),h=s.length-1;h>=0;--h)if(!OC(l,s[h])){var d=s[h],p=u[h];p=ur(p);var v=o.da(d);if(p instanceof yC)l.push(d);else{var m=_C(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Rg(l);return new fC(f,y,o.fieldTransforms)}function SC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _C(n,e.ya(r?4:3,t))}function _C(e,t){if(CC(e=ur(e)))return AC("Unsupported field value:",t,e),IC(e,t);if(e instanceof sC)return function(e,t){if(!hC(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=En(e);try{for(a.s();!(n=a.n()).done;){var o=_C(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ur(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _b(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=hy.fromDate(e);return{timestampValue:Rw(t.serializer,n)}}if(e instanceof hy){var r=new hy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rw(t.serializer,r)}}if(e instanceof uC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aC)return{bytesValue:Dw(t.serializer,e._byteString)};if(e instanceof VI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Mw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(OI(e)))}(e,t)}function IC(e,t){var n={};return Sg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tg(e,(function(e,r){var i=_C(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hy||e instanceof uC||e instanceof aC||e instanceof VI||e instanceof sC)}function AC(e,t,n){if(!CC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=OI(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function NC(e,t,n){if((t=ur(t))instanceof oC)return t._internalPath;if("string"==typeof t)return RC(e,t);throw DC("Field path arguments must be of type string or ",e,!1,void 0,n)}var PC=new RegExp("[~\\*/\\[\\]]");function RC(e,t,n){if(t.search(PC)>=0)throw DC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return An(oC,lr(t.split(".")))._internalPath}catch(r){throw DC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Jm(Xm.INVALID_ARGUMENT,s+e+u)}function OC(e,t){return e.some((function(e){return e.isEqual(t)}))}var LC=function(){function e(t,n,r,i,a){bn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return xn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new VI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),MC=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"data",value:function(){return Bi(_n(n.prototype),"data",this).call(this)}}]),n}(LC);function FC(e,t){return"string"==typeof t?RC(e,t):t instanceof oC?t._internalPath:t._delegate._internalPath}function jC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jm(Xm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UC=xn((function e(){bn(this,e)})),VC=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n)}(UC);function BC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof UC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof qC})).length,n=e.filter((function(e){return e instanceof zC})).length;if(t>1||t>0&&n>0)throw new Jm(Xm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=En(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var zC=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return xn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return tA(e._query,t),new BI(e.firestore,e.converter,tb(e._query,t))}},{key:"_parse",value:function(e){var t=vC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){eA(o,a);var u,c=[],l=En(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push($C(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=$C(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||eA(o,a),s=SC(n,"where",o,"in"===a||"not-in"===a);return bk.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(VC);var qC=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return xn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:wk.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=En(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;tA(r,a),r=tb(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new BI(e.firestore,e.converter,tb(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(UC);var GC=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return xn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yk(t,n);return function(e,t){if(null===Xk(e)){var n=Jk(e);null!==n&&nA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new BI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Kk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(VC);var HC=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return xn(n,[{key:"_apply",value:function(e){return new BI(e.firestore,e.converter,nb(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(VC);var KC=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return xn(n,[{key:"_apply",value:function(e){var t=ZC(e,this.type,this._docOrFields,this._inclusive);return new BI(e.firestore,e.converter,function(e,t){return new Kk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(VC);function WC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KC._create("startAt",t,!0)}function QC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KC._create("startAfter",t,!1)}var YC=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return xn(n,[{key:"_apply",value:function(e){var t=ZC(e,this.type,this._docOrFields,this._inclusive);return new BI(e.firestore,e.converter,function(e,t){return new Kk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(VC);function XC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YC._create("endBefore",t,!1)}function JC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YC._create("endAt",t,!0)}function ZC(e,t,n,r){if(n[0]=ur(n[0]),n[0]instanceof LC)return function(e,t,n,r,i){if(!r)throw new Jm(Xm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=En($k(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push($g(t,r.key));else{var c=r.data.field(u.field);if(Ug(c))throw new Jm(Xm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new pk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=vC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Jm(Xm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Zk(e)&&-1!==c.indexOf("/"))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(vy.fromString(c));if(!gy.isDocumentKey(l))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new gy(l);s.push($g(t,f))}else{var h=SC(n,r,c);s.push(h)}}return new pk(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $C(e,t,n){if("string"==typeof(n=ur(n))){if(""===n)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zk(t)&&-1!==n.indexOf("/"))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(vy.fromString(n));if(!gy.isDocumentKey(r))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $g(e,new gy(r))}if(n instanceof VI)return $g(e,n._key);throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(OI(n),"."))}function eA(e,t){if(!Array.isArray(e)||0===e.length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function tA(e,t){if(t.isInequality()){var n=Jk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Xk(e);null!==i&&nA(e,r,i)}var a=function(e,t){var n,r=En(e);try{for(r.s();!(n=r.n()).done;){var i,a=En(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function nA(e,t,n){if(!n.isEqual(t))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var rA=function(){function e(){bn(this,e)}return xn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wm()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Tg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new uC(Fg(e.latitude),Fg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Vg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Mg(e);return new hy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=vy.fromString(e);Qm(ox(n));var r=new qg(n.get(1),n.get(3)),i=new gy(n.popFirst(5));return r.isEqual(t)||Gm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function iA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var aA=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return xn(n,[{key:"convertBytes",value:function(e){return new aC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new VI(this.firestore,null,t)}}]),n}(rA);var oA=function(){function e(t,n){bn(this,e),this.hasPendingWrites=t,this.fromCache=n}return xn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),sA=function(e){Sn(n,e);var t=Cn(n);function n(e,r,i,a,o,s){var u;return bn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return xn(n,[{key:"exists",value:function(){return Bi(_n(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new uA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(LC),uA=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bi(_n(n.prototype),"data",this).call(this,e)}}]),n}(sA),cA=function(){function e(t,n,r,i){bn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new oA(i.hasPendingWrites,i.fromCache),this.query=r}return xn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new uA(n._firestore,n._userDataWriter,r.key,r,new oA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jm(Xm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new uA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new uA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function lA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wm()}}function fA(e,t){return e instanceof sA&&t instanceof sA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cA&&t instanceof cA&&e._firestore===t._firestore&&KI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var hA=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return xn(n,[{key:"convertBytes",value:function(e){return new aC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new VI(this.firestore,null,t)}}]),n}(rA);function dA(e){e=LI(e,VI);var t=LI(e.firestore,XI),n=JI(t),r=new hA(t);return function(e,t){var n=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ym(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Jm(Xm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=OS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new sA(t,r,e._key,n,new oA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function pA(e){e=LI(e,BI);var t=LI(e.firestore,XI),n=JI(t),r=new hA(t);return function(e,t){var n=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lT(t,n,!0);case 3:i=e.sent,a=new e_(n,i.ir),s=a.sc(i.documents),u=a.applyChanges(s,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=OS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new cA(t,r,e,n)}))}function vA(e,t,n){e=LI(e,VI);var r=LI(e.firestore,XI),i=iA(e.converter,t,n);return kA(r,[mC(vC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bb.none())])}function mA(e,t,n){e=LI(e,VI);for(var r=LI(e.firestore,XI),i=vC(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return kA(r,[("string"==typeof(t=ur(t))||t instanceof oC?TC(i,"updateDoc",e._key,t,n,o):EC(i,"updateDoc",e._key,t)).toMutation(e._key,Bb.exists(!0))])}function yA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=ur(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||QI(n[l])||(c=n[l],l++);var f,h,d,p={includeMetadataChanges:c.includeMetadataChanges};if(QI(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof VI)h=LI(e.firestore,XI),d=Qk(e._key.path),f={next:function(t){n[l]&&n[l](bA(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=LI(e,BI);h=LI(m.firestore,XI),d=m._query;var y=new hA(h);f={next:function(e){n[l]&&n[l](new cA(h,y,m,e))},error:n[l+1],complete:n[l+2]},jC(e._query)}return function(e,t,n,r){var i=new aI(r),a=new WS(t,i,n);return e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VS,t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zS,t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JI(h),d,p,f)}function gA(e,t){return function(e,t){var n=new aI(t);return e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ym(e).ku.add(t),t.next()},t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ym(e).ku.delete(t)},t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(JI(e=LI(e,XI)),QI(t)?t:{next:t})}function kA(e,t){return function(e,t){var n=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=l_,r.next=3,xI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(JI(e),t)}function bA(e,t,n){var r=n.docs.get(t._key),i=new hA(e);return new sA(e,i,t._key,r,new oA(n.hasPendingWrites,n.fromCache),t.converter)}var wA={maxAttempts:5},xA=function(){function e(t,n){bn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vC(t)}return xn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=EA(e,this._firestore),i=iA(r.converter,t,n),a=mC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=EA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ur(t))||t instanceof oC?TC(this._dataReader,"WriteBatch.update",i._key,t,n,o):EC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=EA(e,this._firestore);return this._mutations=this._mutations.concat(new nw(t._key,Bb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Jm(Xm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function EA(e,t){if((e=ur(e)).firestore!==t)throw new Jm(Xm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var TA=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r))._firestore=e,i}return xn(n,[{key:"get",value:function(e){var t=this,r=EA(e,this._firestore),i=new hA(this._firestore);return Bi(_n(n.prototype),"get",this).call(this,e).then((function(e){return new sA(t._firestore,i,r._key,e._document,new oA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){bn(this,e),this._firestore=t,this._transaction=n,this._dataReader=vC(t)}return xn(e,[{key:"get",value:function(e){var t=this,n=EA(e,this._firestore),r=new aA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wm();var i=e[0];if(i.isFoundDocument())return new LC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new LC(t._firestore,r,n._key,null,n.converter);throw Wm()}))}},{key:"set",value:function(e,t,n){var r=EA(e,this._firestore),i=iA(r.converter,t,n),a=mC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=EA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ur(t))||t instanceof oC?TC(this._dataReader,"Transaction.update",i._key,t,n,o):EC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=EA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function SA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bC("arrayUnion",t)}function _A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Vm=e}(si),ei(new fr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new XI(new ny(e.getProvider("auth-internal")),new oy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jm(Xm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),di(jm,"3.13.0",e),di(jm,"3.13.0","esm2017")}();function IA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function CA(){if("undefined"===typeof Uint8Array)throw new Jm("unimplemented","Uint8Arrays are not available in this environment.")}function AA(){if("undefined"==typeof atob)throw new Jm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var NA=function(){function e(t){bn(this,e),this._delegate=t}return xn(e,[{key:"toBase64",value:function(){return AA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return CA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return AA(),new e(aC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return CA(),new e(aC.fromUint8Array(t))}}]),e}();function PA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=En(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var RA=function(){function e(){bn(this,e)}return xn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){iC(e=LI(e,XI));var n=JI(e);if(n._uninitializedComponentsProvider)throw new Jm(Xm.FAILED_PRECONDITION,"SDK cache is already specified.");Hm("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new rI;return $I(n,i,new tI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){iC(e=LI(e,XI));var t=JI(e);if(t._uninitializedComponentsProvider)throw new Jm(Xm.FAILED_PRECONDITION,"SDK cache is already specified.");Hm("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new rI;return $I(t,r,new nI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Jm(Xm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Zm;return e._queue.enqueueAndForgetEvenWhileRestricted(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oy.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Oy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(YE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),DA=function(){function e(t,n,r){var i=this;bn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof qg||(this._appCompat=t)}return xn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Hm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};UI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return eC(this._delegate)}},{key:"disableNetwork",value:function(){return tC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&PI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=w_,n.next=3,xI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(JI(LI(this._delegate,XI)))}},{key:"onSnapshotsInSync",value:function(e){return gA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Jm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new WA(this,qI(this._delegate,e))}catch(tz){throw UA(tz,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jA(this,GI(this._delegate,e))}catch(tz){throw UA(tz,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new GA(this,function(e,t){if(e=LI(e,jI),NI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new BI(e,null,function(e){return new Kk(vy.emptyPath(),e)}(t))}(this._delegate,e))}catch(tz){throw UA(tz,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=LI(e,XI);var r=Object.assign(Object.assign({},wA),n);return function(e){if(e.maxAttempts<1)throw new Jm(Xm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Zm;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,EI(e);case 2:a=i.sent,new uI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(JI(e),(function(n){return t(new TA(e,n))}),r)}(this._delegate,(function(n){return e(new LA(t,n))}))}},{key:"batch",value:function(){var e=this;return JI(this._delegate),new MA(new xA(this._delegate,(function(t){return kA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return nC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return rC(this._delegate,e).then((function(e){return e?new GA(t,e):null}))}}]),e}(),OA=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return xn(n,[{key:"convertBytes",value:function(e){return new NA(new aC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jA.forKey(t,this.firestore,null)}}]),n}(rA);var LA=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return xn(e,[{key:"get",value:function(e){var t=this,n=QA(e);return this._delegate.get(n).then((function(e){return new zA(t._firestore,new sA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=QA(e);return n?(IA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QA(e);return this._delegate.delete(t),this}}]),e}(),MA=function(){function e(t){bn(this,e),this._delegate=t}return xn(e,[{key:"set",value:function(e,t,n){var r=QA(e);return n?(IA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FA=function(){function e(t,n,r){bn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return xn(e,[{key:"fromFirestore",value:function(e,t){var n=new uA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new OA(t),n),i.set(n,a)),a}}]),e}();FA.INSTANCES=new WeakMap;var jA=function(){function e(t,n){bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return xn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new WA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new WA(this.firestore,qI(this._delegate,e))}catch(tz){throw UA(tz,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ur(e))instanceof VI&&HI(this._delegate,e)}},{key:"set",value:function(e,t){t=IA("DocumentReference.set",t);try{return t?vA(this._delegate,e,t):vA(this._delegate,e)}catch(tz){throw UA(tz,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mA(this._delegate,e):mA.apply(void 0,[this._delegate,e,t].concat(r))}catch(tz){throw UA(tz,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return kA(LI((e=this._delegate).firestore,XI),[new nw(e._key,Bb.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VA(n),a=BA(n,(function(t){return new zA(e.firestore,new sA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return yA(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?dA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LI(e,VI);var t=LI(e.firestore,XI);return _I(JI(t),e._key,{source:"server"}).then((function(n){return bA(t,e,n)}))}(this._delegate):function(e){e=LI(e,VI);var t=LI(e.firestore,XI);return _I(JI(t),e._key).then((function(n){return bA(t,e,n)}))}(this._delegate)).then((function(e){return new zA(t.firestore,new sA(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Jm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new VI(n._delegate,r,new gy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new VI(n._delegate,r,t))}}]),e}();function UA(e,t,n){return e.message=e.message.replace(t,n),e}function VA(e){var t,n=En(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!PA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function BA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=PA(e[0])?e[0]:PA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zA=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return xn(e,[{key:"ref",get:function(){return new jA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return fA(this._delegate,e._delegate)}}]),e}(),qA=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Wm(),t}}]),n}(zA),GA=function(){function e(t,n){bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return xn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BC(this._delegate,function(e,t,n){var r=t,i=FC("where",e);return zC._create(i,r,n)}(t,n,r)))}catch(tz){throw UA(tz,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=FC("orderBy",e);return GC._create(n,t)}(t,n)))}catch(tz){throw UA(tz,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BC(this._delegate,(MI("limit",n=t),HC._create("limit",n,"F"))))}catch(tz){throw UA(tz,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BC(this._delegate,(MI("limitToLast",n=t),HC._create("limitToLast",n,"L"))))}catch(tz){throw UA(tz,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,BC(this._delegate,WC.apply(void 0,arguments)))}catch(tz){throw UA(tz,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BC(this._delegate,QC.apply(void 0,arguments)))}catch(tz){throw UA(tz,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BC(this._delegate,XC.apply(void 0,arguments)))}catch(tz){throw UA(tz,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BC(this._delegate,JC.apply(void 0,arguments)))}catch(tz){throw UA(tz,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return KI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?pA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LI(e,BI);var t=LI(e.firestore,XI),n=JI(t),r=new hA(t);return II(n,e._query,{source:"server"}).then((function(n){return new cA(t,r,e,n)}))}(this._delegate):function(e){e=LI(e,BI);var t=LI(e.firestore,XI),n=JI(t),r=new hA(t);return jC(e._query),II(n,e._query).then((function(n){return new cA(t,r,e,n)}))}(this._delegate)).then((function(e){return new KA(t.firestore,new cA(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VA(n),a=BA(n,(function(t){return new KA(e.firestore,new cA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return yA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HA=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return xn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new qA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),KA=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return xn(e,[{key:"query",get:function(){return new GA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new qA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new qA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return fA(this._delegate,e._delegate)}}]),e}(),WA=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return xn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jA(this.firestore,void 0===e?GI(this._delegate):GI(this._delegate,e))}catch(tz){throw UA(tz,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=LI(e.firestore,XI),r=GI(e),i=iA(e.converter,t);return kA(n,[mC(vC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return HI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(GA);function QA(e){return LI(e,VI)}var YA=function(){function e(){bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=An(oC,n)}return xn(e,[{key:"isEqual",value:function(e){return(e=ur(e))instanceof oC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(yy.keyField().canonicalString())}}]),e}(),XA=function(){function e(t){bn(this,e),this._delegate=t}return xn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new kC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new yC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=SA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_A.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new xC("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),JA={Firestore:DA,GeoPoint:uC,Timestamp:hy,Blob:NA,Transaction:LA,WriteBatch:MA,DocumentReference:jA,DocumentSnapshot:zA,Query:GA,QueryDocumentSnapshot:qA,QuerySnapshot:KA,CollectionReference:WA,FieldPath:YA,FieldValue:XA,setLogLevel:function(e){var t;t=e,Bm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},JA)))}(e,(function(e,t){return new DA(e,t,new RA)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(Ui);var ZA,$A="firebasestorage.googleapis.com",eN="storageBucket",tN=function(e){Sn(n,e);var t=Cn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return bn(this,n),(i=t.call(this,nN(e),"Firebase Storage: ".concat(r," (").concat(nN(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Tn(i),n.prototype),i}return xn(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return nN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Yn);function nN(e){return"storage/"+e}function rN(){return new tN(ZA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function iN(){return new tN(ZA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aN(){return new tN(ZA.CANCELED,"User canceled the upload/download.")}function oN(){return new tN(ZA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sN(e){return new tN(ZA.INVALID_ARGUMENT,e)}function uN(){return new tN(ZA.APP_DELETED,"The Firebase app was deleted.")}function cN(e){return new tN(ZA.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lN(e,t){return new tN(ZA.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function fN(e){throw new tN(ZA.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ZA||(ZA={}));var hN,dN=function(){function e(t,n){bn(this,e),this.bucket=t,this.path_=n}return xn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(tz){return new e(t,"")}if(""===r.path)return r;throw i=t,new tN(ZA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===$A?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new tN(ZA.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),pN=function(){function e(t){bn(this,e),this.promise_=Promise.reject(t)}return xn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function vN(e){return"string"===typeof e||e instanceof String}function mN(e){return yN()&&e instanceof Blob}function yN(){return"undefined"!==typeof Blob&&!Gn()}function gN(e,t,n,r){if(r<t)throw sN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw sN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function bN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function wN(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(hN||(hN={}));var xN=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];bn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return xn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(tz){i(tz)}else if(null!==a){var s=rN();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?uN():aN());else i(iN())}};this.canceled_?t(0,new EN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new EN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===hN.NO_ERROR,a=r.getStatus();if(!n||wN(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===hN.ABORT;t(!1,new EN(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new EN(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),EN=xn((function e(t,n,r){bn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function TN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function SN(){for(var e=TN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(yN())return new Blob(n);throw new tN(ZA.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function _N(e){if("undefined"===typeof atob)throw t="base-64",new tN(ZA.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var IN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},CN=xn((function e(t,n){bn(this,e),this.data=t,this.contentType=n||null}));function AN(e,t){switch(e){case IN.RAW:return new CN(NN(t));case IN.BASE64:case IN.BASE64URL:return new CN(PN(e,t));case IN.DATA_URL:return new CN(function(e){var t=new RN(e);return t.base64?PN(IN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(tz){throw lN(IN.DATA_URL,"Malformed data URL.")}return NN(t)}(t.rest)}(t),new RN(t).contentType)}throw rN()}function NN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function PN(e,t){switch(e){case IN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw lN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case IN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw lN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=_N(t)}catch(tz){if(tz.message.includes("polyfill"))throw tz;throw lN(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var RN=xn((function e(t){bn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw lN(IN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var DN=function(){function e(t,n){bn(this,e);var r=0,i="";mN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return xn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(mN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(yN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(SN.apply(null,i))}var a=n.map((function(e){return vN(e)?AN(IN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function ON(e){var t;try{t=JSON.parse(e)}catch(tz){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function LN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function MN(e,t){return t}var FN=xn((function e(t,n,r,i){bn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||MN})),jN=null;function UN(){if(jN)return jN;var e=[];e.push(new FN("bucket")),e.push(new FN("generation")),e.push(new FN("metageneration")),e.push(new FN("name","fullPath",!0));var t=new FN("name");t.xform=function(e,t){return function(e){return!vN(e)||e.length<2?e:LN(e)}(t)},e.push(t);var n=new FN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new FN("timeCreated")),e.push(new FN("updated")),e.push(new FN("md5Hash",null,!0)),e.push(new FN("cacheControl",null,!0)),e.push(new FN("contentDisposition",null,!0)),e.push(new FN("contentEncoding",null,!0)),e.push(new FN("contentLanguage",null,!0)),e.push(new FN("contentType",null,!0)),e.push(new FN("metadata","customMetadata",!0)),jN=e}function VN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new dN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function BN(e,t,n){var r=ON(t);return null===r?null:VN(e,r,n)}function zN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var qN="prefixes",GN="items";function HN(e,t,n){var r=ON(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qN]){var i,a=En(n[qN]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new dN(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[GN]){var u,c=En(n[GN]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new dN(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var KN=xn((function e(t,n,r,i){bn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function WN(e){if(!e)throw rN()}function QN(e,t){return function(n,r){var i=BN(e,r,t);return WN(null!==i),i}}function YN(e,t){return function(n,r){var i=BN(e,r,t);return WN(null!==i),function(e,t,n,r){var i=ON(t);if(null===i)return null;if(!vN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return kN("/b/"+o(i)+"/o/"+o(a),n,r)+bN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function XN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new tN(ZA.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new tN(ZA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new tN(ZA.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new tN(ZA.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function JN(e){var t=XN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new tN(ZA.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZN(e,t,n){var r=kN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new KN(r,"GET",QN(e,n),i);return a.errorHandler=JN(t),a}function $N(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=kN(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new KN(o,"GET",function(e,t){return function(n,r){var i=HN(e,t,r);return WN(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=XN(t),u}function eP(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function tP(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=eP(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=DN.getBlob(c,r,l);if(null===f)throw oN();var h={name:u.fullPath},d=kN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new KN(d,"POST",QN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=XN(t),v}var nP=xn((function e(t,n,r,i){bn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function rP(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(tz){WN(!1)}return WN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var iP=262144;function aP(e,t,n,r,i,a,o,s){var u=new nP(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new tN(ZA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw oN();var v=t.maxUploadRetryTime,m=new KN(n,"POST",(function(e,n){var i,o=rP(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?QN(t,a)(e,n):null,new nP(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=XN(e),m}var oP={STATE_CHANGED:"state_changed"},sP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uP(e){switch(e){case"running":case"pausing":case"canceling":return sP.RUNNING;case"paused":return sP.PAUSED;case"success":return sP.SUCCESS;case"canceled":return sP.CANCELED;default:return sP.ERROR}}var cP=xn((function e(t,n,r){bn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function lP(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var fP=null,hP=function(){function e(){var t=this;bn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=hN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=hN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return xn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw fN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw fN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw fN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(tz){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw fN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw fN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dP=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hP);function pP(){return fP?fP():new dP}var vP=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;bn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=UN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(ZA.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(wN(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=iN()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(ZA.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return xn(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=d(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=eP(t,r,i),s={name:o.fullPath},u=kN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=zN(o,n),f=e.maxUploadRetryTime,h=new KN(u,"POST",(function(e){var t;rP(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(tz){WN(!1)}return WN(vN(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=XN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pP,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new KN(n,"POST",(function(e){var t=rP(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(tz){WN(!1)}n||WN(!1);var i=Number(n);return WN(!isNaN(i)),new nP(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=XN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pP,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=iP*this._chunkMultiplier,n=new nP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=aP(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(tz){return e._error=tz,void e._transition("error")}var s=e._ref.storage._makeRequest(o,pP,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(iP*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pP,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=tP(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pP,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=aN(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=uP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new cP(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(uP(this._state)){case sP.SUCCESS:lP(this._resolve.bind(null,this.snapshot))();break;case sP.CANCELED:case sP.ERROR:lP(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(uP(this._state)){case sP.RUNNING:case sP.PAUSED:e.next&&lP(e.next.bind(e,this.snapshot))();break;case sP.SUCCESS:e.complete&&lP(e.complete.bind(e))();break;default:e.error&&lP(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mP=function(){function e(t,n){bn(this,e),this._service=t,this._location=n instanceof dN?n:dN.makeFromUrl(n,t.host)}return xn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new dN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return LN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new dN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw cN(e)}}]),e}();function yP(e,t,n){return gP.apply(this,arguments)}function gP(){return(gP=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={pageToken:r},e.next=3,kP(t,s);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,lr(u.prefixes)),(a=n.items).push.apply(a,lr(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,yP(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kP(e,t){null!=t&&"number"===typeof t.maxResults&&gN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=$N(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pP)}function bP(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=kN(t.fullServerUrl(),e.host,e._protocol),a=zN(n,r),o=e.maxOperationRetryTime,s=new KN(i,"PATCH",QN(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=JN(t),s}(e.storage,e._location,t,UN());return e.storage.makeRequestWithTokens(n,pP)}function wP(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=kN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new KN(r,"GET",YN(e,n),i);return a.errorHandler=JN(t),a}(e.storage,e._location,UN());return e.storage.makeRequestWithTokens(t,pP).then((function(e){if(null===e)throw new tN(ZA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xP(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=kN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new KN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=JN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pP)}function EP(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new dN(e._location.bucket,n);return new mP(e.storage,r)}function TP(e,t){if(e instanceof IP){var n=e;if(null==n._bucket)throw new tN(ZA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eN+"' property when initializing the app?");var r=new mP(n,n._bucket);return null!=t?TP(r,t):r}return void 0!==t?EP(e,t):e}function SP(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof IP)return new mP(e,t);throw sN("To use ref(service, url), the first argument must be a Storage instance.")}return TP(e,t)}function _P(e,t){var n=null===t||void 0===t?void 0:t[eN];return null==n?null:dN.makeFromBucketSpec(n,e)}var IP=function(){function e(t,n,r,i,a){bn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=$A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?dN.makeFromBucketSpec(i,this._host):_P(this._host,this.app.options)}return xn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=dN.makeFromBucketSpec(this._url,e):this._bucket=_P(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){gN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){gN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mP(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new pN(uN());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=bN(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new xN(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=d(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),CP="@firebase/storage",AP="0.11.2",NP="storage";function PP(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vP(e,new DN(t),n)}(e=ur(e),t,n)}function RP(e){return function(e){e._throwIfRoot("getMetadata");var t=ZN(e.storage,e._location,UN());return e.storage.makeRequestWithTokens(t,pP)}(e=ur(e))}function DP(e){return function(e){var t={prefixes:[],items:[]};return yP(e,t).then((function(){return t}))}(e=ur(e))}function OP(e,t){return SP(e=ur(e),t)}function LP(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:zn(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function MP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new IP(r,i,a,n,si)}ei(new fr(NP,MP,"PUBLIC").setMultipleInstances(!0)),di(CP,AP,""),di(CP,AP,"esm2017");var FP=function(){function e(t,n,r){bn(this,e),this._delegate=t,this.task=n,this.ref=r}return xn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),jP=function(){function e(t,n){bn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return xn(e,[{key:"snapshot",get:function(){return new FP(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new FP(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new FP(e,i,i._ref))}:{next:t.next?function(e){return t.next(new FP(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),UP=function(){function e(t,n){bn(this,e),this._delegate=t,this._service=n}return xn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new VP(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new VP(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),VP=function(){function e(t,n){bn(this,e),this._delegate=t,this.storage=n}return xn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return EP(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new jP(PP(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IN.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=AN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new jP(new vP(this._delegate,new DN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DP(this._delegate).then((function(t){return new UP(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kP(e=ur(e),t)}(this._delegate,e||void 0).then((function(e){return new UP(e,t.storage)}))}},{key:"getMetadata",value:function(){return RP(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bP(e=ur(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return wP(ur(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),xP(ur(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw cN(e)}}]),e}(),BP=function(){function e(t,n){bn(this,e),this.app=t,this._delegate=n}return xn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(zP(e))throw sN("ref() expected a child path but got a URL, use refFromURL instead.");return new VP(OP(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!zP(e))throw sN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dN.makeFromUrl(e,this._delegate.host)}catch(tz){throw sN("refFromUrl() expected a valid full URL but got an invalid one.")}return new VP(OP(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};LP(this._delegate,e,t,n)}}]),e}();function zP(e){return/^[A-Za-z]+:\/\//.test(e)}function qP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new BP(r,i)}!function(e){var t={TaskState:sP,TaskEvent:oP,StringFormat:IN,Storage:BP,Reference:VP};e.INTERNAL.registerComponent(new fr("storage-compat",qP,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Ui);var GP=Ui.initializeApp({apiKey:"AIzaSyAgrydeQT_Ugt5cgt8diNuw-2tPFQZrjfE",authDomain:"testtheagora.firebaseapp.com",projectId:"testtheagora",storageBucket:"testtheagora.appspot.com",messagingSenderId:"175663737489",appId:"1:175663737489:web:4b2b2d07a818f5bce1ad30",measurementId:"G-X1YJ8TMV3E"}),HP=Ui.firestore.FieldValue.serverTimestamp,KP=GP.firestore(),WP=GP.storage(),QP=GP.auth(),YP=n(184),XP=(0,t.createContext)(),JP=function(e){var n=e.children,r=d((0,t.useState)(null),2),i=r[0],a=r[1],o=d((0,t.useState)(!0),2),s=o[0],u=o[1],c=d((0,t.useState)(""),2),l=c[0],f=c[1],h=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return e.get().then((function(o){var s=o.data().currentWinner||[],u=parseFloat(o.data().currentWinnerAmount),c=o.data().powerBuyActive,l=o.data().currentCatchup||[],f=parseFloat(o.data().currentCatchupAmount),h={email:t,amount:r,price:n,date:i};if(a)c=!0,s=[h];else if(c)l.push(h),l.sort((function(e,t){return t.price-e.price||e.amount-t.amount||e.date-t.date})),(f+=parseFloat(r))==parseFloat(o.data().amount)&&(c=!1,s=l,l=[],f=0);else if(s.push(h),s.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)||e.amount-t.amount||e.date-t.date})),(u+=parseFloat(r))>parseFloat(o.data().amount))for(var d=s.length-1;u-parseFloat(o.data().amount)>0;)s[d].amount<=u-parseFloat(o.data().amount)?(u-=s[d].amount,s.splice(d,1)):(s[d].amount-=u-parseFloat(o.data().amount),u=parseFloat(o.data().amount)),s.sort((function(e,t){return t.price-e.price||e.amount-t.amount||e.date-t.date})),d-=1;var p=function(e){if(0==e.length)return 0;for(var t=e[0].price,n=0;n<e.length;n++)e[n].price<t&&(t=e[n].price);return t}(s),v=function(e,t){if(0==e.length)return 0;for(var n=0,r=0;r<e.length;r++)e[r].price==t&&(n+=parseFloat(e[r].amount));return n}(s,p);return e.update({currentWinner:s,currentWinnerAmount:u,currentCatchup:l,currentCatchupAmount:f,curPrice:n,minimumBidAmount:v,minimumBid:p,powerBuyActive:c})}))};return(0,t.useEffect)((function(){return QP.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]),(0,t.useEffect)((function(){var e=setTimeout((function(){return f("")}),3e3);return function(){return clearTimeout(e)}}),[l]),(0,YP.jsx)(XP.Provider,{value:{isFriend:function(e){return KP.collection("users").doc(i.email).get().then((function(t){for(var n=t.data().friendsList,r=0;r<n.length;r++)if(e==n[r])return!0;return!1}))},addFriend:function(e){var t=KP.collection("users").doc(i.email);return t.get().then((function(n){var r=n.data().friendsList||[];return r.push(e),t.update({friendsList:r})}))},currentUser:i,register:function(e,t){return QP.createUserWithEmailAndPassword(e,t)},addUsertoDb:function(e){KP.collection("users").doc(e).set({email:e,username:"test",friendsList:[]})},login:function(e,t){return QP.signInWithEmailAndPassword(e,t)},logout:function(){return QP.signOut()},bidAuction:function(e,t){if(!i)return f("Please Login First");var n=(t/100*110).toFixed(2);return KP.collection("auctions").doc(e).update({curPrice:n,curWinner:i.email})},endAuction:function(e){return KP.collection("auctions").doc(e).delete()},addBid:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=KP.collection("auctions").doc(e);return a.get().then((function(e){var o=e.data().bidsList||[],s=new Date;if(parseFloat(n)>=parseFloat(e.data().minimumBid)&&parseFloat(r)<=parseFloat(e.data().amount))return i?parseFloat(n)>=parseFloat(e.data().curPrice)+parseFloat(e.data().minBidIncrement)&&parseFloat(r)==parseFloat(e.data().amount)?(o.unshift({email:t,amount:r,price:n,date:s}),h(a,t,n,r,s,i)):alert("Powerbid Failed. Make sure max amount and check price"):(o.unshift({email:t,amount:r,price:n,date:s}),h(a,t,n,r,s)),a.update({bidsList:o});alert("Check bid price/amount correct")}))},checkBid:function(){return"b"},addComment:function(e,t,n){var r=KP.collection("auctions").doc(e.id);return r.get().then((function(e){var i=e.data().comment||[];return i.unshift({email:n,comment:t}),r.update({comment:i})}))},globalMsg:l},children:!s&&n})},ZP=function(){var e=d((0,t.useState)(!1),2),n=e[0],r=e[1],i=d((0,t.useState)(""),2),a=i[0],s=i[1],c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useContext)(XP).login,h=function(){return r(!1)},p=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(""),e.prev=2,e.next=5,f(c.current.value,l.current.value);case 5:h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),s("Invalid login");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-primary mx-2",children:"Login"}),(0,YP.jsx)(it,{centered:!0,show:n,onHide:h,children:(0,YP.jsxs)("form",{onSubmit:p,children:[(0,YP.jsx)(it.Header,{children:(0,YP.jsx)(it.Title,{children:"Login"})}),(0,YP.jsxs)(it.Body,{children:[a&&(0,YP.jsx)(xt,{variant:"danger",children:a}),(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Email Address"}),(0,YP.jsx)(pn.Control,{type:"email",required:!0,ref:c})]}),(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Password"}),(0,YP.jsx)(pn.Control,{type:"password",required:!0,ref:l})]})]}),(0,YP.jsxs)(it.Footer,{children:[(0,YP.jsx)(yn,{variant:"secondary",onClick:h,children:"Cancel"}),(0,YP.jsx)(yn,{variant:"primary",type:"submit",children:"Login"})]})]})})]})},$P=function(){var e=d((0,t.useState)(!1),2),n=e[0],r=e[1],i=d((0,t.useState)(""),2),a=i[0],s=i[1],c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=(0,t.useContext)(XP),p=h.register,v=h.addUsertoDb,m=function(){return r(!1)},y=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s(""),l.current.value===f.current.value){e.next=4;break}return e.abrupt("return",s("Password does not match"));case 4:return e.prev=4,e.next=7,v(c.current.value);case 7:return console.log("added user1"),e.next=10,p(c.current.value,l.current.value);case 10:console.log("added user"),m(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),s(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-primary mx-2",children:"Register"}),(0,YP.jsx)(it,{centered:!0,show:n,onHide:m,children:(0,YP.jsxs)("form",{onSubmit:y,children:[(0,YP.jsx)(it.Header,{children:(0,YP.jsx)(it.Title,{children:"Register"})}),(0,YP.jsxs)(it.Body,{children:[a&&(0,YP.jsx)(xt,{variant:"danger",children:a}),(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Email Address"}),(0,YP.jsx)(pn.Control,{type:"email",required:!0,ref:c})]}),(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Password"}),(0,YP.jsx)(pn.Control,{type:"password",required:!0,ref:l})]}),(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Confirm Password"}),(0,YP.jsx)(pn.Control,{type:"password",required:!0,ref:f})]})]}),(0,YP.jsxs)(it.Footer,{children:[(0,YP.jsx)(yn,{variant:"secondary",onClick:m,children:"Cancel"}),(0,YP.jsx)(yn,{variant:"primary",type:"submit",children:"Register"})]})]})})]})},eR=["bsPrefix","className","noGutters","as"],tR=["xl","lg","md","sm","xs"],nR=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.noGutters,o=e.as,s=void 0===o?"div":o,u=p(e,eR),c=De(r,"row"),l=c+"-cols",f=[];return tR.forEach((function(e){var t,n=u[e];delete u[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&f.push(""+l+r+"-"+t)})),t.createElement(s,v({ref:n},u,{className:y().apply(void 0,[i,c,a&&"no-gutters"].concat(f))}))}));nR.displayName="Row",nR.defaultProps={noGutters:!1};var rR,iR=nR,aR=function(e){var n=d((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=KP.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Tr(Tr({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:r}},oR=function(){var e=d((0,t.useState)(!1),2),n=e[0],r=e[1],i=(0,t.useContext)(XP).currentUser,a=aR("users").docs,o=function(){for(var e=0;e<a.length;e++)if(i.email==a[e].id)return a[e].friendsList};return(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-primary mx-2",children:"Profile"}),(0,YP.jsxs)(it,{centered:!0,show:n,onHide:function(){return r(!1)},children:[(0,YP.jsx)(it.Header,{children:(0,YP.jsx)(it.Title,{children:"Profile"})}),(0,YP.jsxs)(it.Body,{children:[(0,YP.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAMAAAC/MqoPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFoUExURf////7+/vv7+/39/fz8/Pr6+vj4+Pb29vT09PPz8/X19ff39/n5+fHx8eHh4dnZ2c3NzcPDw7u7u7Ozs6urq6WlpaGhoZ+fn5ycnJqampmZmZubm52dnZ6enqampqysrMjIyOXl5dLS0sDAwLGxsaSkpJiYmJWVlZKSkpGRkZOTk5aWlpSUlJCQkMXFxdra2unp6d7e3sfHx66urpeXl7CwsOfn5+zs7NDQ0LW1tdTU1Ovr6/Ly8sLCwq2trY2Nje7u7tHR0aqqqs7Ozu/v79/f37m5udvb28nJyaioqI6OjqCgoMrKyr29vY+Pj+rq6r+/v8HBwczMzKOjo6mpqdzc3La2tri4uM/Pz9fX16+vr4qKiry8vOPj44yMjOTk5NPT09bW1rq6uubm5qKiouDg4OLi4t3d3e3t7ejo6Kenp7S0tL6+vsvLy8bGxvDw8Le3t4uLi9jY2LKystXV1cTExImJiYeHh1QNZqMAAAAJcEhZcwAADsIAAA7CARUoSoAAAB1gSURBVHhe7V2NY9PU3k6atvlqBATWnCT1ispJm6R60SMTiRA0wHXDTUVUvCDqJrfDj3j19X3//ff5JdkmzLkkTQfc20fZ2q1LznN+3+cr0hJLLLHEEkssscQSSyyxxBJLLLHEEkssscQSSyyxxBJLLLHEEs8L5CdQ/vi/ASXjPZQ//g9BSUmW5I4iKTk5We50ul0FP8e//L1CXxWFfpS/6uIr/Sx/U/zR84Zu2X6lmzcf7xSwJi5ESFZ6fVXTNcPs97q7DLudTv4dkDuD8u+fT5RS6/YHCqiSOCXTeuHEyVMvnj5zdmVoM4e53mjlpb+dfvHUyyfOaVANaAT+lT2Bv5B7+cvnE2XbZck898qrr513uT+ejINgzEuEfjSeTIJoGrnnX3v9jb9Tj4G/0iHVKP72uYTS7UkyVN+88OZbZ53JNBBOKATnjmuHwmHMcbiTgwFFp3hvn7zYh9hzJYHUCx/wnEEphNZZfef0KJpEQSSYyzhzbRuEiWtJOX+Ra0D+1p9O7UvvXibaPbAuXOVzhdzQO/Hl966EVyecMdslMC4gZ3zhrGQroAVEOZc9/cZxXREE/pmXwR799xxSB/Fucu2KH0Tc87goiAKk48QUL3LCu0pPr+m3+IYOcuxoHL7/QYr+ex6oFyEK3gnfEZ471y+JSUisGgFdEE75jZtFVgDTRyZAN6F7PGOAJyeP3KEeQHzq/+PDtanrEoNmcIVw3TAS5z9QpU4ZJrrUCc8gZIQj0FYluS/Fp7yx73pO4DembjsCHgI2MFm/pVOX9oj/M6n7Jv6RfUP08Uc88J2RG4mVUVAyqY2QeS6coS1YuOG+ukmkKcl9JrnLA0pDFSn5WESOoLjthOiAkkl9MBf+T0QsdEZicv4TLQ/2z6TG5z5oMOh8envNR4ASruDDdSfySyK1YTMRCuS5zLNh8SIaXutA659JqSNtgzGe+OyqO7RtHtpwcH7EXbtkUhsh/paFfoje89YZEoG1s3ckafBMKvygK21+7k/gmWGipKyUmhUxuwkgdCR/6EBkOCFFfRb4X2yS4J869hKNosjodCXlUz61YeGLgYv+jLyTuB0VNtQDTy3X2bsvmMs9+Pdzb01c12/u1o4Cyp1o6v4t2SsGnxp2mUPa9Eb50p54PluZlg1tHVwI1AHhmN2lkR15UN7+qQJ9oEn9ryYuF0MxHpYtbR155YP0UPzzXk9Wy3s/ZSDPku4PEcpdZ8yGjYNZFQhfOJ7z9dkHz0QqD4fTl74JHCRdyD1td1y2snXwkNse/P1k5H1tfyv3imLpKSK3u+/GztTLXXsoFqbwlNPD4EMvcG77Vz+S8hHOpwiKL8lXa5C24yEHoXqrbGnryAt9Guuww9CLwrc6u0O+x4f9eE5mLklb7088d6EWfhA05HH+Mg3fdY4zuu/eqYsX+P/mcBq5fuhB4scHoi62t8rBkT+IY7HYv8sAlfmFoc89FJb2scqdqAfcvUBZBeH4BF9C7sgXNiBvpNhIto8VoL4eBu73SJ/L+YrjNPy+1O1+f9V2UFByJoRXNur4ELpueJNMPZd5If5jAW7Xe3iVe1x4HuoqvjDPfhiEiw5n/6K20ID/8ak89fSdCeMsoKkjbi8uqB0Gz/N9W4j7qOCL2vGYQFp2fRQxJlwUkzB3fszG7jh+PlXhObN+LojjkLoMz07/79ih63thI8r51EP+l+g8moIrZ1+aYLQpKfsT0ov19QpN/3fTz8bIZOz61GlyiZC/gaf2bKrJwsZzFfyRRf69dHMLpZ67FLnz1YbPfGckalOnSTUbCSlJmkAzrw5DNdoQ4eQHmpXcxUKljux1IN3bsEd+ZMPQyxZUB/4CUibBQ+bI+tENpAnlb2uDudGPx1XKKN2O9NPUdhj3WIPJlZwndz1izCDtkIRe/q4J4C38V6RjGZ9H+irdnzIWCdf2xai2jdIgs0tip2xUCCQmeSeUv60PVLLcfWEvnV8kkDimtufDyOGcG8RzkrHwfT/wqQ8cHozH4whFQPnr2qDJDh+ubrG+vYDSey3KLdZGe8e1E1gmosD58Mbrd2++sPX3na0Hd979+fNHdjQpf90AnPHwNKUaZQPbBwKILPXg5U5ObXCvCuhG/o0cGnQzmm6/+M2WbppGCVU1Tf3cB98NowkbOlAF5oQhq6FN3AtQSbyjLLJ2p4uD+wPOQmhZeeMjkceynLrvc99+68Q5y4gzax9Zahl9NZ5981awAc8Z+cxjorrnE3zoO/Z0ZZPc0IKKGGTKqBGl3pVp6AwnlW2zmCQnwJnfuK9rhqFpWmzFJXTdStNY1xLTvP6LmIaeb4/GYljZfTJhC98Taz/04OS7JJ32odB/A+nWxooPBass9TyWgb4dTE4/0Ky+nq7OLE3P9BKWrulxlqz2rbTfv/BDIFw/HPLqPsRFyBBixNa+pMn9xVAnQ5eliyH318NgVHkaEQbOEM3Cydl3VT2xSMCQs6WXQo+tLAN7zch0K9HNzbvboc+47VX2JiGM3Y64y12r21vU4koolCK9PfbGXlgnieMOlCQQ9y72skw1jBS093gDRpymGejPdAP9opqbV6KRGFcP9OGIhzQxM5z+Uk5DLgAw9M7d8VB4PnNrZDLw1UH02XtmrKnwaIkap7GhWXsKD6vXoPJ6PyPyiaV2b439bdSkFcFcJ0J+4YT2vx+ikQty8R1psO2HToj7jCoHHxfpln/7mkSeHDwNCw4uSyyzFDoUHj/OLC3V4fvI51nGr9sbIFQRLLJtRHYh3PCljrwYFz+Ai/95rXKT3MAdkX93vHDt0bnBrGR6JLQ07Vy4HYzC4YSNohojvcyZ3JLJKluHokjyzLUra7rr8oijFo84276vZnvB7Cgkhr7Ze2E0Xp+uu0htyqsdDZf77La1EFsfwMG/+s/qnl2MuO8yEXKb3e8gmpXMjoSxqvUT86E3drntu2Hl/MGObD55vbuIXB5RcxVMKoshRK5hhxxmeMKMYcAls6OhWdplq3c3zGezqKKvBh4OQ+4kC/FzA+lGQGMsFYE8A/noiAe3pCTtJ5WlDle3qfZ3ej9dBRVWvSjO12xN3iuptyt7ZdMWYTGXXAV5Menx6S9KBkJawasCtAQftrJYvUSrFeoMgDHfESwpSLdKXZbvOQjo5W0qAAGQsemjODFXVaJTEWkv0Y1N3TJn60gJgupBLvTGubUvYNDCoglVmFNFwEOFIz860U8yI0GtVjI7EvpMi3U1RY99M6ElsuXljgRuRvMBK70Wx6ry/BUK9Eng+W5UvZi0QT74vE8pDNVnOa8a0DPjLYEMvSpymXA/+LTF+Tfoj4Jsxng/dFGn57epAu5xBLjralPqqWb+ikq8spYRmCPC901KO1uRfO4woES/0vLuOsOHKFWnH3XiptRnumb+MqmeQhFoeHNyvd1p147U/WHNQWXIqtv61BNiS61s4weQWebNWmtzilW5k++6NBfTEntkM9KmgBjRkMrUvfFo8kWvcup+AJqeJf3fag2JFG1jO+1pPHm57k9fbyPDqDFJ4nI+uQ7RlUxqI1WtpHNtUos6jcmzjVtIudsRepeG97VHkxFdunqKwdn4bHzZaKzwKQ3fba5UtnVQp2/c8c+gye3Edti5IidrKKM4UtPqUmDRx0bcnLq6qmvJ4Eat1Zf5CKgdbUJPWyrh4OTv1V4hxURwvUbRcgCWZVjp4NdJLk7a9FcRwhv/3NKIBfkLufd+jUmHEmJ0sWTRDJZmpeZDpHOwMVadusOCK2DehsbTUhV5x68RZArw8CsYbGMvF+uWbmV6+jefdr+W16wG7idtzT52O9LJ6gNTe/A/HoB67VRmF3qGP00H9yJeR+SE0do77Zg68oOu9FpQfyY0+rSXDzk2BE1SxLPuP2pTF7b/djuTb7TBQ2+yIDD81czi5tQR23Q9HfxPXYVHfel6RjuBvStLbwRuPZ0DBLtvZFraXOr5V+1CXTfHUDv4F9qh3pOl3zfqL4INvU0Dlfoc1C0atX+QB7ca1AUb8ujlPDDNCxiN8lVQf4WTv76aGRn5qmZAXE903Vr18rlaEn1FCJeLtxCXWglv2m0yuJrw12eIzPMENwPWAuoQeB3qjBYrn1XboA5n+cCnWZSaCFeSkkQzaJmW6Vm8ahd3rk4dchfOxeKwo/kgd6Qv1xqsdxfrq1rzYp2oQ/Kptkm3rj4aDzBHOJO7rYS3nvTd1K3v4bm3QxrbGDoyQT1Vt8jQa90cbtGd/tyKrXel92kJdHnh6uAP1VRvbutU6uuZWQS3GuzJNN3gdCtSl/vrdYYjd8GCm0R9Drmj2yw1T2lIkuVljwR9kPOVXgvUu3Ji09qe4sLVwTbugnpWfdrlCeQDmZb6ZSCg8jXiOj7IQxaqc1OXUfreCesl0SX893QzbZ7SaBD6LO7fK45vKrS+KkIm7rdC/d2grqchMP83w0LZWTKpDYuW3GTaFZ+kXufu+KxwojdaoK4oL0/Q77WNnYWjbI5yPc6Qyurx321aeUajgpWRa8jkZAvU5e6PU8bqBzeHR/8ys+YuHgqfZYNvI7pxTergPvmkBeqS8nnQIJmDvUWvyklz6moaW2n3o/xInzrMyThdJ7jRCvW3aN66Nnf4xrNaPqLcDEhptDg9W3tMEA0NXSf6rQ3q3Zd8Vn+LC/qehSfmqF8sJPDGN9UntffBQpf7f2uDem/dRzVUuwl2CIPrW43TeKufJOqLU5u0vc4uCeHQhHD0qA3q2gieo76bQ0Ty2SrKTiR0FKVKRkcC0ZBURU8NTb8oqq+a3AMtyuXOcIDGzzUkDeq6h35vQD20uf+JfDnLIPkGOV1irA4+Chucc4M+J+rm/NTl2G1E3Y1sFrirOqSuITuprfharD+w7eozrXsoqI8MEts85EE9o7OvGti6QCbi3+vBxxtWSmlpNZCyk9LHs+7n0YjXWlqQI6fORxodyDgn9RSeowF12Bwtdbxj6KtWnBqVE9pd6kl8QYTVVyjuo6Du6fNTl1KaVK9P3bddYfv8s6yfQOb1B2z66dkAYaq8WnXkNS6oa1Sxz0k9o6vVp04b4cB/8mZm0DhbWjKqDP3nq45r11hCVaKgLuwWbL0pddofI2Dw43+ZejYzage3u1Pb9XGF8nKV0SL1rgoB1kmin0Cw8kI/TQaXdaSlmXa44ltavjUCpNPE6qdbKFka3ZROEWChGJZ72udyc30KbM2p29H5VNOTgTVLaOPLodKHpGmWLbaMmaqtpitNqaOpdBrzNu39Au+5FL4zRClUf2xuF/B1t1Vy2Brt7CN9PgQZKnQw1zLVSrIza02pQ99BPnzUhbLPS105z5GYlReuD+Z4/m09jVNNS1JDPTS+g7WO/CdO1cuqtR4ghWx2TzrV0nGiM2TpxL0x8NfymUbhdRfcixy+stm3ZrPY+IsRWmT6ep7yJoOtoWhSKhagsO44k9fyps/DnR5X8UNUc1TwMXDGfFtsv2uoUPjs8CIW6o5f6rrWeyMU9jzn3NCizukNWgczj74TdelHpBbNNZ72gfhuFH5wTrNmFjT/EGR6TIMTq+k9xwugtnPAFe741O7J/I1BKvP7mLbUlJetDcR2x4u4u/HbBdPMDp+KAu3EUrMHZ8ZccLs8waQZ3NCOfpqbOqC8EnHRYFjyCXgb/NRqX6Nt27knp8wlz13wmpy7laRmb+vFeSjnCD0a2ti4OZeLKyBLF0Kn2ck7jyEa2mvuz5sGebM0jY0ULo02c6e0sTPOEt1Ut06tB/WHJp4ApMRdFmy1QF1B/cLC+sOST2I9ioZ8bf29rZnaRxVLywayNM0szUpmmdYfzC58PJqGXv2VWgcB9kxvhXrHQ9k6N3Wf0SNu/KvRh69fTzTVLDb9Qd3VjmLufPvyh2It9By/fn3+BBgt5PVv0yGI8wIu/kOqWssrN4bL6UkvLsJW6Gyffv2Vh1urCPLp6s731947/RILAm8YRvZwLtdOIOpsTGG9JNAcckf6zm8wUvEkGB2+hBSNcT8I/BAdMNq+vb0+YmEwGfuCu35ou8F4/htRDj/5fa5sZhdd6Z2oDephSEmmS5K3mYA7o2O48uvSoUQISB5KzdH8tk5tDU60Ql2RroP63Aov6Mx48pZ5XVIcmY9XZAQuimKoKfoBvZF/eB7YSILDi60ovCwZNs3lNESxAgmKnjN04OzAD4KhHihlnhsCvaNX5a5Z+iu8qh9Z0Hece50WZA7I3TMQSnnl2ogETRIzLwxpupgOWYOcQb88ewq/yzkzWEF+MhW93r9Z0Tu1AJOKrrTDXOpI7wWlLBrAK4xcDOmhVhCqbeMNLuf7IeDDg+bX5vnqCfiB/IQqvC5u2IA64/bGz+0sFFW60p1JXgQ3Ap1QRjoe+RA3XkzGETy84w3XV24T6Il2XESTcRDSSWToFdeDs6NjF4H6Cg+H4QXft7UgXo7nOCPXcyB12/Pg1YOxb6989cupk9/eeXhudZZkhPTy1vc3v/n05xtvbwvQFx68IbEuSNenTuvcVvR5qtV9yFJHudJc4eGz4XGnXwf2Z1+8+etOrKuDQV81jKJwpwJGo5+YKNx27ty69MinB7+BAJ092ETXmONPLrXl5RDZfwoaBx3uutEG/+rU3YdWRx7oKVUsaVoOWVDxZqFwS5OEBqhUU9W27n78mevD3HPa9W0dCj+9JrV0KhHM5j4tomqGIPJOv7OjoWaJ01li6RmNTVICT6Rz/vRK19ABNIhjaebA2Dr523Ccy76+3IU78jeldp6SoUg9WbmNlAPRvUJqQ8fpUrpKDyVjcOC/XFvtm3TSzi7RI6BniaWa8eyVS844rx0Q7nDZyl3vBfwRLXlrAzAbWfpkDDfsEq/yDodC+NBwbkeey6Po0U+XNVMFGRpsrUadzF/TrLRvXPz0TDgWHp1h6QwrS1+449+p5moFtCN6aww2LqtA3Rv60cgN18dT9su/DDq0wMpiQ6+8OL4Yw7GsROur6c0b7hrnIXOrH7HrD4OdNrLYHKjY5d75aOTT2YJHKp6Aaoih+7/Djx+ocOMaNJ3Gn0piRwMKotMmMXj8mdHLHv7uTj0eVFd4Jj6T6eG27YCGdd/cYLQ+5+gWCJfb3j/FrR3L1GgxiWZAe+twzwH6mqqnqdaPL37shMPqR515/z4p9eeZZtwHrIa2iF4WY2TexdTGXwKfCpwft8A4o9PVsiTJaM6p8iQzaTudxaanM3QcTUZ1N09Pqj8MkLZ1IrS1ksjm1BXl0sSlQqS8weHgkf/VncEgm1kGtV7vG1BfECA6VUCfKj6r9fO/zZJYu/DbJK/tgPI2hyL4ghKRVqQOKLKiSN/4boTC48ihhPHtL9U+HSWIeKbRWYr5gCsJsqLO732QTqgjZ480wPz7tZL5kdQnN/PnWLcGWZbNbXBHIVLe4QC4G/ooScc3tnqQU9VIdjTQD3Qx/dxryHEcm6Yz6HkAB5wOp6PyHSc826OqoxWFz0HDPa+jtKDH8x0C6hN7an8b9zSaSC8b3h5M7ZYneCCidTtinjjo9lDt2sFo4x8S8pmW1D0HqCd0+NvhG0EiJHvjt88hR7+8qtERki1DXe0/eGlthELQcSGBA9RR4NNuDTvNn2naospTjvDRGCVYeaODYIKPb1imvqkbMdl52eK5QcpOSp/Glrr64jgYjfkw8g9urYY1OsH6xu/kktumrsxCRhNah8AO/A+MBLmbamSxOtfuvsewS53O4dSzW1FAT5T6syP5UTIEjM0Q2dpS9/I65Di+m/zFyMHE+1bV4hnEk9DmvMY7nQ7DaqymST/71vajPx04oRldNn2V5g3ayuB3qStSd8f+i3Wb7AUToVyzNFTdMbFvGfAfsZGl6gfbAez94MwvIgzjw01KZiiwtyH5vWugbP/x6uHnxz5M1SyjpbDQecuY4+ypJ7Ab3LRMRz1gZPK1lYnDDm4RcH3uTV8EaVpMkT/Itz3gkpmD0I3EJrT/sANKeBPbm5wrW7pwbEonUMZGpIAQ/R+eJMeZv662yngf6MqfvvaQyNMq8T3A7uyxc7Ns2OJhbvbenYzoqEeXkqg9V++Gw+mnLUu7BAxIlsztCAkTJL3v71wRjfgHvdbd2qHQrc7JKdSOJnTEHxJrEbxkKm0Nyj0GsnlFujuFXgmH/2FtTWCvnaxRmc2LLM5mnU+mTLAwtN09m4fur70Bmbfh3g4AFx0ondfosVJ0wn95SwoqpzN9np3q9aBl6mbSe3uDDZ2ARgHzRlBdw35AJrOY8+FhRR1JueiOXdsvhgoLhOtWqiXHpvBZP0EUTVYmHBLYdTp4MfHoMd0LEXrhQHrS7yLktNy7uCfiOb87MGgN7DEBFbxmbvZP5KfCk7CpEfgu3pT6rZVrT4CeBUHPl/8sDMU65F5i+moXvA9f8dw2rDjTMy3pfT4KaBVB4W9B/X1qY2tnSh4Eild5J4qGdBi9S7OmoX82oX1Z2vF5+F2s82BEA+QkeMHDjDa2LUrsANXtvZNjZ7otXJocGbvhu6puaal6bB5+D98ElNPYgnmcj/55d/9xdosBUe8qn6/ZzGchc7gfvmbQ8TGWeezUrcH7gY2MTtg8GgWXSNHJxy3GzwG51KXZuo36lU7mHo0vqDOEtnlO42gK4+bEprAOdRcrBrxQvih2YdRxaTqf9m7k2qGLhJ5f6VmZgQzr2Bz8HvTL3StRvqtqGLI3iDjVLQtGtyudEhNaD+WMb5q0sUV7CqZuJeavU7h3FtIR2fRoKzQt/7I4KAoymy8C1G52dEbNUj2j8ebW6/OjkOkz/VFIOY3/HTS9KFsWS51OHexJvUe0Mmr6jkGzC2qatFefVwW8S/8fEUKbOIPmoGH5Rs7F67w8UG0vsN3Lh+9qWDS0mWY9dBn3tzXKtBbPGSAvLymdLT7auNTf6ZctOXYkZmrGb4eTlVXZbHUE9q9Q9LD8QhS+qayWDTl+WJmmax/83/lf6QRIssJjQU5d6dwJL1pq81PQ54R62Ujj68O7Us+kBi2mWv0zQPI96c7OYNb6LEtlGEls7lwn395tcYrtr1A6FLlLjz5qf8y5MlArpsaAJAB1Px6ZF8yps3uKNEiPPajtwkqNzJA6xYQDjb0fE+hGcKpIbp4a9cy8TCMI1IxeV+oX7To+0Llku488KL5VXT/QHPSYS1qIlhmdeTfszgVQHxiUyM5ziGQ9aMWyBcvod0H8qTEnuUsdLSOtL+Td3mqKw5Avqot1rXM8eeufYf+2XTVLmp8mWBe0BzTNVAQ04OlSJ0+j0iKpYwLuZMXqooadK2Hv1qiYlB4tiqSGLd7N0WEeCOe7Zv5UeyDfIt8zypYtHLpmIGk/rpz9L1D0PZ1tcFxuLjOJeM78KUr8cfToSEH4Xyh9q2pP+waKK1O/6k83ov0pFKXb12utga6IQpGs3LNbpvIsUocCDvJDCdrV+WKFOD0FJrXUIoF71qjn7k4hwRdSytvdAkiLyID0WM+t/BlkXnh6pWfkKXaLkgdvMnULFYrS4iMpWwTJghyv3DHzM5XKhs8NupRl6QbNqSlFDvesYZc6kruBWv0RzEeCFtMb5gDpW5eu/mxyJ4Uv2JO/K1s+P6yYBmOegRymEsgLG3qWksSK6LQb6Y92Ao/v/sN7E8VpG8/zOB4QdRl6j4CU5CkOwjLtXCzZUM7zmEXsvcd32iKk4W2ewuiq2evm1yuv/MyDmONrt2dqdOQWkcq38jwuzwIH9CDvh/xzmknn5eXXy789FyDuOXuloxqUlPxBsjkOEC5hWYiNGY19aOog9+f5v+eI+j6Q5kDxQSrfrFsqO6GgSrZdvCt+ZOVHFMVGv5c7TXTdc0k7bzT+yUq31zeJGeRJ23oflzj94A/QSdw570J36AW9Lr8/FyhbnUdjvOt2ev3deE8U8xdAuXebvKFmqKZZfh5//phbf66o58iXc+0Kj8auu33TRK67n+OTEWiGofb7PRppLD69T3q3Xnn+qO8jJ/QHdEuUb/dQfvw/CSWzPZQ/PvTn/wUoGS8pL7HEfyhKfV8q/BJLLLHEEkssscQSSyyxxBJLLLHEEkssscQSSyyxxBLPNyTp/wFra+jC73LFEwAAAABJRU5ErkJggg==",alt:"profilepic",height:"100"}),(0,YP.jsx)("div",{children:i.email}),(0,YP.jsx)("h3",{children:"Friends List"}),(0,YP.jsx)("div",{children:o()&&(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:o().map((function(e){return(0,YP.jsx)("div",{className:"my-1",children:(0,YP.jsx)(iR,{children:(0,YP.jsx)(tn,{children:e})})},e)}))})})]}),(0,YP.jsx)(it.Footer,{})]})]})},sR=function(){var e=d((0,t.useState)(!1),2),n=e[0],r=e[1],i=(0,t.useContext)(XP),a=i.isFriend,o=i.addFriend,s=i.currentUser,u=aR("users").docs;s.friendsList;return(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)("div",{onClick:function(){return r(!0)},className:"btn btn-primary mx-2",children:"Add Connections"}),(0,YP.jsxs)(it,{centered:!0,show:n,onHide:function(){return r(!1)},children:[(0,YP.jsx)(it.Header,{children:(0,YP.jsx)(it.Title,{children:"Find Connections"})}),(0,YP.jsx)(it.Body,{children:(0,YP.jsx)("div",{children:u&&(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:u.map((function(e){return(0,YP.jsx)("div",{className:"my-1",children:(0,YP.jsxs)(iR,{children:[(0,YP.jsx)(tn,{children:e.id}),(0,YP.jsx)(tn,{children:(0,YP.jsx)(yn,{onClick:function(t){var n;t.preventDefault(),console.log(a(e.id)),a((n=e).id).then((function(e){e||o(n.id)}))},className:"btn btn-primary mx-2 ",size:"sm",children:a(e.id)?(0,YP.jsx)("div",{children:"add"}):(0,YP.jsx)("div",{children:"add2"})})})]})},e.id)}))})})}),(0,YP.jsx)(it.Footer,{})]})]})};function uR(){return uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uR.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(rR||(rR={}));var cR,lR="popstate";function fR(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function hR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(tz){}}}function dR(e,t){return{usr:e.state,key:e.key,idx:t}}function pR(e,t,n,r){return void 0===n&&(n=null),uR({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?mR(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function vR(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function mR(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yR(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=rR.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=rR.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:vR(e);return fR(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(uR({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(lR,p),f=e,function(){o.removeEventListener(lR,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=rR.Push;var r=pR(m.location,e,t);n&&n(r,e);var i=dR(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=rR.Replace;var r=pR(m.location,e,t);n&&n(r,e);var i=dR(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(cR||(cR={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function gR(e,t,n){void 0===n&&(n="/");var r=RR(("string"===typeof t?mR(t):t).pathname||"/",n);if(null==r)return null;var i=kR(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=AR(i[o],PR(r));return a}function kR(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(fR(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=MR([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(fR(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),kR(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:CR(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=En(bR(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function bR(e){var t=e.split("/");if(0===t.length)return[];var n=Vi(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=bR(i.join("/")),u=[];return u.push.apply(u,lr(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,lr(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var wR=/^:\w+$/,xR=3,ER=2,TR=1,SR=10,_R=-2,IR=function(e){return"*"===e};function CR(e,t){var n=e.split("/"),r=n.length;return n.some(IR)&&(r+=_R),t&&(r+=ER),n.filter((function(e){return!IR(e)})).reduce((function(e,t){return e+(wR.test(t)?xR:""===t?TR:SR)}),r)}function AR(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=NR({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:MR([i,l.pathname]),pathnameBase:FR(MR([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=MR([i,l.pathnameBase]))}return a}function NR(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);hR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=d(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return hR(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function PR(e){try{return decodeURI(e)}catch(t){return hR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function RR(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function DR(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function OR(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function LR(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=mR(e):(fR(!(i=uR({},e)).pathname||!i.pathname.includes("?"),DR("?","pathname","search",i)),fR(!i.pathname||!i.pathname.includes("#"),DR("#","pathname","hash",i)),fR(!i.search||!i.search.includes("#"),DR("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?mR(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:jR(a),hash:UR(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var MR=function(e){return e.join("/").replace(/\/\/+/g,"/")},FR=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},jR=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},UR=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},VR=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n)}(Nn(Error));function BR(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var zR=["post","put","patch","delete"],qR=(new Set(zR),["get"].concat(zR));new Set(qR),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function GR(){return GR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GR.apply(this,arguments)}var HR=t.createContext(null);var KR=t.createContext(null);var WR=t.createContext(null);var QR=t.createContext(null);var YR=t.createContext(null);var XR=t.createContext({outlet:null,matches:[],isDataRoute:!1});var JR=t.createContext(null);function ZR(){return null!=t.useContext(YR)}function $R(){return ZR()||fR(!1),t.useContext(YR).location}function eD(e){t.useContext(QR).static||t.useLayoutEffect(e)}function tD(){return t.useContext(XR).isDataRoute?function(){var e=hD(lD.UseNavigateStable).router,n=pD(fD.UseNavigateStable),r=t.useRef(!1);eD((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,GR({fromRouteId:n},i)))}),[e,n]);return i}():function(){ZR()||fR(!1);var e=t.useContext(HR),n=t.useContext(QR),r=n.basename,i=n.navigator,a=t.useContext(XR).matches,o=$R().pathname,s=JSON.stringify(OR(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);eD((function(){u.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=LR(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:MR([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return c}()}var nD=t.createContext(null);function rD(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(XR).matches,a=$R().pathname,o=JSON.stringify(OR(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return LR(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function iD(e,n,r){ZR()||fR(!1);var i,a=t.useContext(QR).navigator,o=t.useContext(XR).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,$R());if(n){var f,h="string"===typeof n?mR(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||fR(!1),i=h}else i=l;var d=i.pathname||"/",p=gR(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=cD(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:MR([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:MR([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(YR.Provider,{value:{location:GR({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:rR.Pop}},v):v}function aD(){var e=function(){var e,n=t.useContext(JR),r=dD(fD.UseRouteError),i=pD(fD.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=BR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var oD=t.createElement(aD,null),sD=function(e){Sn(r,e);var n=Cn(r);function r(e){var t;return bn(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return xn(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(XR.Provider,{value:this.props.routeContext},t.createElement(JR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function uD(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(HR);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(XR.Provider,{value:n},i)}function cD(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||fR(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||oD);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(uD,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(sD,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var lD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lD||{}),fD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fD||{});function hD(e){var n=t.useContext(HR);return n||fR(!1),n}function dD(e){var n=t.useContext(KR);return n||fR(!1),n}function pD(e){var n=function(e){var n=t.useContext(XR);return n||fR(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||fR(!1),r.route.id}r.startTransition;function vD(e){return function(e){var n=t.useContext(XR).outlet;return n?t.createElement(nD.Provider,{value:e},n):n}(e.context)}function mD(e){fR(!1)}function yD(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?rR.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;ZR()&&fR(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=mR(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,T=void 0===E?"default":E,S=t.useMemo((function(){var e=RR(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:x,key:T},navigationType:u}}),[h,m,g,b,x,T,u]);return null==S?null:t.createElement(QR.Provider,{value:d},t.createElement(YR.Provider,{children:a,value:S}))}function gD(e){var t=e.children,n=e.location;return iD(wD(t),n)}var kD=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(kD||{}),bD=new Promise((function(){}));t.Component;function wD(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(lr(n),[i]);if(e.type!==t.Fragment){e.type!==mD&&fR(!1),e.props.index&&e.props.children&&fR(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=wD(e.props.children,a)),r.push(o)}else r.push.apply(r,wD(e.props.children,a))}})),r}function xD(){return xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xD.apply(this,arguments)}function ED(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var TD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var SD=r.startTransition;function _D(e){var n=e.basename,r=e.children,i=e.future,a=e.window,o=t.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),yR((function(e,t){var n=e.location;return pR("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:vR(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=d(t.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1],f=(i||{}).v7_startTransition,h=t.useCallback((function(e){f&&SD?SD((function(){return l(e)})):l(e)}),[l,f]);return t.useLayoutEffect((function(){return s.listen(h)}),[s,h]),t.createElement(yD,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var ID="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,CD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AD=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ED(e,TD),d=t.useContext(QR).basename,p=!1;if("string"===typeof l&&CD.test(l)&&(r=l,ID))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=RR(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(tz){}var g=function(e,n){var r=(void 0===n?{}:n).relative;ZR()||fR(!1);var i=t.useContext(QR),a=i.basename,o=i.navigator,s=rD(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:MR([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=tD(),l=$R(),f=rD(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:vR(l)===vR(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",xD({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var ND,PD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(ND||(ND={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(PD||(PD={}));var RD=function(){var e=(0,t.useContext)(XP),n=e.currentUser,r=e.logout;return(0,YP.jsxs)("nav",{className:"navbar sticky-top navbar-light bg-black",children:[(0,YP.jsxs)("div",{className:"container-fluid",children:[(0,YP.jsx)("div",{className:"navbar-brand",children:(0,YP.jsx)(AD,{to:"/",children:(0,YP.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAB0CAYAAABzEcDmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAB4ZSURBVHhe7Z0H+C1HWcYTRKpK700MHaQIBKWElgSQZgiE0JESCCBVBEQEiSBROtIEERJaACE0Qw0gBAJIR0AMoXeVJmJol/d3dlcP587OzO7O7p7y/p7nfWbOuffsKf/d/aZ8Zd89e/bsY4wxxpjN5nR1a4wxxpgNxgbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QJs0I0xxpgtwAbdGGOM2QL23bNnT93dSc5Wt218r26NMcaYtWbXDXrsy39R+s2qa4wxxqw3XnI3xhhjtgAbdGOMMWYLSC25H1C3m8Zp0vurbhQvuZsxuGbdtvHeujXGmGLEDPr5pG9U3Y3jZdLtq24UG3RTmvtLT6u6rdxZOrbqGmNMGbzkbkxZ7lG3Me5Zt8YYUwwbdGPKcRXpt6tulOtIv1V1jTGmDDboxpQjZ3be4Fm6MaYoNujGlOOIus3BBt0YUxQbdGPKcLh0+qqbxbmkm1ddY4wZjg26MWXoM+P2LN0YU4wpU79+WrpM1Q1yCelzVXcyHLZmSnAh6StVtzPnlL5TdY0xpj+eoRsznNhM+5V120aXfXdjjGnFBt2Y4cQM+knSB6tuEC+7G2OKYINuzDBuKF2w6gb5mHRy1Q2yn0RcujHGDMIG3ZhhxGLPvyu9Uzph8agdz9KNMYOxQTemP2eQCFdrozHktN+rukHuVLfGGNMbG3Rj+pPKDPeKuoWX120b965bY4zphQ26Mf2JLZV/Wzq+6i44rm7b6JI21hhj9sIG3Zh+UITlylU3yPLsHN4h/VvVDXJV6fJV1xhjumODbkw/uiy3N6Rm6feqW2OM6YwN+jicTSLL3DkWjzaXs0gXkHye7M0f1W0IZuL/XHV/idQ++qZ6u+MceFHp1xePtpuzSnxXWlOO35AuIu3COTQaTv3aTm7qV+KID5GuKV1B4nvsKzX8VGI/9RvSidLb6/Y0aZ24kXRT6VISqUzR8oDkW9I3axGK9RYpljBlm7m1FMsAd5T051V3L94lHVB1g9xOShn+ObmJdAuJeu4M9tC5pYafSFw7p0jvl14rfUTaJCiyQ34BdDWJQjqNziQ1/I/0H7W4xt8qvVn6pLRJ8D1vLLGNxN+S+9f3JSIzPiW9TeKeNZTLSmxToatIGHBSH6PlwkY/k3jvr0pcL9xvaPmdTQwM+kT6tBRjPyn0ujEV4wtS6DWNbiS9WerDz6XHS2eUQseeSreTXiJ9V+rDV6QXSBeXQsffVqX+7peRQq9DR0ox3i6FXjenDpVeJH1H6sPJ0t2k0LFRjFOl0GtK6/TSQ6U3ST+RhnCK9CzpWlLovUrqcVKMg6XQ69A9pU9IKV4lhV6fo2tIT5G+Lg3lGOnqUuh9LCn45EjaFoN+Eek1Ugm+Kh0hhd5nTF1ZeoNUksdIp5NC77dNOp8U431S6HWNzimlOI8Ueu3Uupp0glSKk6RrS6vvE+Nz0ur/L60HSSUMTohXSvtLofctoT4G/dJSl7/ra6XVY6R0f+kj0hhw/z2bFHrfnZb3RrtxmPRx6Q8Wj4ZDytDnSo9aPBqfX5WOllgCZXm9JI+WTpWuv3i0vfRxhlvmv6TU/4ntz08BvhNPkthSYSm2FGxLvVu6y+JRHmPuCRL7zzn7ZOn8PDECbM+w9fBS6bw8MTO/K71X6vJ35b6RC9fH56WnSbEokCFw/32PdKXFI/N/2KDn8yAJL+WzLx6V5bHS31Td0eCGxT7YnywejcPFJHwE8CnYVlLGlgFaipS3+5zOcZwn7Fc+ePFoHF4o3a/qJhnLoD9ferZ08cWj8cE3gusv5kc0Nuxbv0Fiz7oLuQb9C9LzpCnKTuOvROGjaywemQU26Hk8UGIUPyZ/LN2+6hbnchI3k2svHo0LDjWvlv5w8Wi7wJntfFU3yD9JOEql4PeJGSqM6kFVd1JwUnqThCPY2DxDulvVjVLaoPMdyQlw98WjaSHPANfhtRaPpuc5Eo59Xck16Azop4RIA76T7ViNvdzbabzcbyvFvI75f6+XGg9wvNq5ISO8R7skC/m6hPGlqEcpMOKvkmKGaBm+D566fBc88/Fa5rV8H5brSICSC1XEWBrbFo6RYnnX+bcXV90kT5dis32M/qFVdxLwWn+d1OV8/bLE35fzpBEGg6VlDOctpV+TYvyO9OGqG+Sz0qWr7mCuKx0r8dly+YGE9zrfrbnGMSBcE4jvyKrdmaVciHC5ucRxh/I46U+rbhCiV4hIYQn8/jzRA5bocwYhucaEbSc81/Fa/88lsdXD6gHnIAPa3MEHqwJHVN3dxga9HQwb+8GfkEIxp6+RniUR0hGDk5MLKfeEe4FUavZACArlO9mrT/H3EqPdf1k8aocwJb4Le+bL4Xkh2IPdv+puPHzXn1fdID+Wzlh1s2A/mSXDGKnftyT8rXJn5qxWEY4WirVfhRC3B0g3WDzaG8632PsS019imZpBBmVsc5fYnym9UUpVymvAcLIvzWpeDtzrGMwQHjaEHIPOwIvwsxAsk79E4vMg4sCJs0cPl+B9Eudritj9lGMwgEG5g3x8LR4pXXLxKA6/5aaFR5Zn2UNuZG2il/tbqu4vgdft4VLoeDEdKOWEh50mnVkKHaOrXi6l4DteVQq9PiZC1fB+TXGUFHr9pokQnxjHSqHXxfQNKcaDpdDrSivlKd1wnHRJKXSMlLhmCEHrCveN0PG6Kjeqg9Covt8RXUl6tZQDIaOhY3RRjpc732mVz0uEI4aOuaybSSeuPNemENxfbiKF/n+uXi+leI4Ueu1OKfjkSNo0gx7iPdKFpNCxcnRdCYOd4i5S6PVddF8pxfOk0Gu76IVSistJoddukj4uxThACr0upkdKMUoZs5iuJ+Vwdyn0+i66oPROqQufkkLH6qKjpRwOkUKv7yNC4XIgvCv0+lylDPphdbsMA4mzS6HjDdEyb5WYxIT+Xx9x741Bbo9zS6HX7ozsTJAPS+wswZO9qC94D+d4MBMeN4QrSjgdxfhbqYQ39V0l9sNi8H82GZZ8yaLVBvurOcvPq6QywvG+Y4fmPKVuYxDhwZbMUL4mXU/iWspl6J7gbaRUZMd/S+zZdvlcKfhd71t1ozxVOk/VHQUy+y1D+NwdpJJ+OqsQQcDvmdqO7MLD6rYNtqdWv+vOYYOeB0acwhk4iA0Fx6rUiX5g3faFkKPY/isGuGSsMx76MTbd4z018EmFobXBniV5DWL0dWTKAYOTihUmhS1GpyT4iJAaNoehBj3HqHK9lTQ+DfjYpK4NrtMjq+4oLA+mCSnFmI8Jsf1jhF3ib4JDY4ydD2GzQc/jPhK5mkvxxLptg2IXOHn0gVzsscQd3CBL197+kIQTURs453VJJrJupGKyhxi81EpKTmhXX1IrJx+QyEtfmu9Iud9riEEnygTP9hjM3kn8MhYk6El5s3N/mYLU4GIoF5Zy8jD0hWidGDbodWvaYfZFOE9JCAuj2EmMLuFhy6Rm3iSxGSOa4EV12wbhf5tIKisg3sN4CvclpxDLneu2JIQUprzaGy/nMSBjHBEdKYYY9FTyGsK5xk7oBKkBIeFvzGzHhIHjR6vuaAzZjsyB+zBhwW1wPncJH9w6bNDTsGw2BsfXbRt9DDohZbGbGKF4GPQxIOyJ0JQ2rl63m0bKKAzdW2b/NrXcO8aSbGp2zvciAcuY5BjTvgadFa7UYKytIl5pqL5GrHSMsWvhj7HSMgep0DRKV+8sNuhxyOrUx9kpB5I1xMiJHV/lVnXbBklPYrHUQ4nFVbPsznbAJkFiC5ZtY5TYX04tu5PQh8FaKUj2ktoCyU2QM4TPSMySY/Q16MRfx2CFYMyl9lVS+7/4MoxljEhSVHLLcE5SBp266juLDXqcsYw5pJyh+hT6Zxk1Rl/nrVxSiVKmSClakpSvAQkySgyQcrZ0Su5/Mnv9laob5F+lVORCKVL7y30NeqzmPOQs95eEAUTKGP1e3ZYmtfe8SaQGJjbophUuwrEgg1vMGPQx6LFc7eyfkfVuTGIpPGHTlt1TRpR0mqUgW1eMkp7DKYfL1GcpyVgz9JhBJ98+BWKmhhTRMXKysfWhZDje3LBFFcNL7qaVMQ06xjzmGNfVoF9WulDVDcLy5tiQjzlG7POtG9xc2SaIUXLmk1p253woFWebMugxX4jSEMMfo49BJ+84ecHbwHt/DuaYoZNy+3+r7kZDyl7O/9Sgp0up163DBr0dCgeUiDuPERttdjXoqeX21BJ/CX5Yt22MUXp2LFLxyy+r21Kwn5s630rFpKcM+hTnSgOD2pjR7mPQU8vt62rQKW9amrYc7usIkxJKL5ObnhUUtvCa84O69VQzpKhNjCnrH6wdLs7STqmiEDFYBm/LBMbMpYsj1NFSLCMW/gBUOYLl7736G6Qep7h13YbYpGItqe9NzGtpw0DMcirE6fTSz6puL3CIo4JYG5+XqLw2JZyX56i6e0Hxlq5bNWQqixU4ooodjmJzwHUdq3zY1SClirPg3T6VN38OOJoycCHzIk6yFF5BFIMpwU0lDP9OYoPeDqPDseuH8x5tS0iMTGMX/iqEGY2ZhKQEJUthjgmZ7WJOU+zBhirwDYVyvRjUGI+QnlB1e8HNk79DG1RRS4V7laa0QcdYM9NrgxLF3I/mIDaIBwxeM/DOIWXQyUtBmue5YADKAAoRijv2YPFmElXydhIvubcTS2AwBV1H6rm1g+dkU5bcU85wqf3uvpCgJpWcY2hWsTbD2bBu4U19ZhzU1I6R8vUYk+/VbRupz96V1PuNBf4AhD5SHpbkSeTUn2LlZ6eX3G3Q25n7t9lGg97Hc39qWCliBheDQhEYmjGUchy8iNQ3iyCss7ELwW/SlXX+jqn656UN+phFWEJgyF8pkWeDvPFTZ27baZtmg97O3CO9rn+bTTDom5CWMaeYx9wMiUlPzdC7LPdOQR+DHvuO5JEf4oMwlKln6FMadJIVYchjfjRDwVk5hmfoJsjcJ0bX9z9j3ZphPLBu15nD67YPuz5DT8Uxj00qEdGP63bTeKQ0NLafKA/Ca98gkeOBqA682q8gEYbIPTGVmdEG3QSZ+7fpemKu28xqE8FDdlOIeXHHSM3Qx0wN3Ic+Bp1ZeBup3AJjk0p8UnpANcV9jKRHf1l1syHq5ukSDqikNsYBmCqThK5hxBlY46uCcSdz4Y+kHGzQTZC5T4yuf5uUQedC4TvNrXVm7PKSJXlA3XYlteQ7R6atWBraPgY9ZhTZ9iF0by5SqUlLD8zHvuZuLP1d1U3C3jqDZiJEKGvLOcysnhwMqeqTDSln5Z22aTbo7UxhfGK/f9f3T43sz1u3Jgw32utV3Y2AOF4c5LqS2lOdOhKBzF4xI1faoMN56nYOtm2G/md1G4NUwoRLHiYRI07YZ19yZ+o7iQ16O1P8NjGj3dWgp0b2NuhxNsEZbpWH1m0X1s2gp7YAxjDoF67bOYg5r2Kshhi7EGPexzDQpNmN8RDpjtIpi0fD2YY0tqNhg97Ops3QUwZ9zlnJJpAyjtSRJ8HJVKIyHUlIYvSJSU8Z9MvX7VSknPT6GPSUJzRZ/uaAfeJYRjTyEJRmzPvYveu2DRzYnlx1i+H7WAQb9Ham+G1i79H1/XEciYGRMGH4bVIzxWMkspZNpQ9JZP+Lwd5zKrf1Kqk99NSMqzQp49rHoKcGQjhhzUEqV/s76rYkYxl0MsDFcuYzwcDzvTRzGPTzS2QNLZUYh4Ed11mf43HNU6Qm6Hdig97OFDP02Ht0fX/ypMcYO43tJsOyYAyKakydlhhSBh26LrtTeCW2D4nT2Fh1uUNcv27b6GPQ31W3bcw1Q5/DoI8FxjzmzMjfoPT2AXRJhz2UG0gnSl+XqLzJPYBiN3eW+sC5zvHI5/8eieORgpj4/VwI58MP4ZaLRyvYoLczhUGP/f5d359qRN+sukFwSplz73CduW3dtnFs3U4Nhvcfq24rVNnrmoMgVR71oLqdgjEMOrHMX6y6QbgODqy6k4JHeIxNMuiprZmx7p83rNuxYQZNrX7OT66XJ0pvl4gWepFEjvwuMEhujneyxPHeJlHfBE//nEqK+PlEfX1s0NuZ4reJnfR93p+l2hgpw7WL5MRzz2XQgcphKWJV9kKkDHrfGUhXCGFKVdnqY9AhNUu/V91OBSVrY0vUrLCV9nAfk1RmytLlhYGVlamW3Nn7ZwUC3xkKaLESxiDwCAkeLxE3n8tTJLYpiNfHuHM8Bs7E8MNfSWequnuBnWAAkCyyY4PezqbN0CG17F6qnvY2kVqyfqeUcrIakzdJqffvGpOeMuj7SVStGpvmZjYGKYNOetIpK/+lllVfU7ebQsqgf6VuS4JX/RQw8aHMM8vhj+aJJZ4nUXSGXAZ35YkMKEzDYISS3I/iiSUYsOOfQya80PGofEgFxtS24AIb9HY20aC/tG7bYDY09cxknaFcaeqmzsU2N6m9dG6uXfaFWdpNhf80M5GxuKIU3AcsBOVvv1R1W5mqTvjFpdjghb3mOUuc9iFVPrh0ISaiIe5XdTvBTJpY+dhrSaXMjJxZNDSOoex3hzihbnMNet/jMWhgoHcxicx65J6IYoPezhS/Tcxo93n/f5fIxhSD+sncYMw++zy4bmPMudzeUNo5DgMSq/cOeM8fWXVH4bl1OyapMre3l1KhVyXAWMQKEz1T+kHV3RhSZXYZLJeE1cUuS9wNrG4dJbF03gb15B8kNaG/zeAYZ9gQTRTFles2Rep4H6vb0PEoJER1RzLrfZInYtigt7OJM3RIpWFkNpezL1sClpGOr7prScqxhc8+d118YKBGeswYh9ZtLv9QtzHYt2N2UBo8dacIHcOgx/K6A/8nVS53CAwYWDaNgUHfNFLbQF3DKWNwbq8ufefSxMETlopRXIXCL83Mt/m/TQnjz9btKl+rWwZpOdkaU8f7at3i3Lp8vVFIiH33v148ysAGvZ0pfpsx3gPPydTNn3CMZ1fd0WDJ9ocSS6vrSM4e8TrMzhtyZuldtlNwoMQ/IAYDMpb8LrB4VAZik6fy5ThNSs3SuWG+WRojT8PdpNR1xr/HPPLXFaJqYuDwWCKnAd70QycgeKcDKzKrUBwG8LngfgVNKuK2ynzLz+eUhC59vFZs0NuZYoY+1nvkjGaZObxeKr3XxUiYGUezpNpcJOtGaomaqmOvrrprQc5NrcuyO+TMDImdfqNUwqg/QepalWsoXAsnVd1WCGNjIMxAtxQ4KqYGYTgn9sn2tw4QC52qzIfn9pD7CwMCjPHQdMRPqts71O0yTeRPMwvGJjafuS2OnlW7psxtF4Pedjx+x8anxQZ9JOZech8CM46cGyezVGLXQyPXrrAvz4VD0oTlm9Q6GnRmnrEQIlgHZ7hlCN+iyEUMvNO7+Ee8Sso16uzzNbOZrpDGljKY7AWuEtvbLAWrRamiHtx0MR78HhfkiZ6wIsVAMFW3m5v7ParuRsLviVGPQY4EBoN9MqKxusHfYzWRTJ8ETzidYTBx5Ft2xCQvQLMc3nwXjGvKWBPO1uznf79uY7BSBG3Hww40IWs5x2vFBr2dKX6bMd+D8IjUkipwkmEoWKZnBNvlZkayGuK4SbTAEhxOZquOK22j0jnZFGe4VXKW3bvGpONHkHS2EcT/4kiHX0GudzozLPbLCacM1Zrnht13b7QLZPfK9dpnMMoSOKsJXarvYRzwkmbgcwhPJMCY87k2mZxtO4w62zs4WKac2jCU/I4sf3OuryZM4nwhbKwPzesIIWtoZufN3nlDM/hrK7O7/HyOAW6O1xYZsPx8KjVzlH337Ombt6EzxPSRFaeNS0hTp9eMfXkMFDOeMSG+MOYNOnSVgP0nQpS6JmPgpsRyIF6fjTiJOc6565ZZV44nKyPf0M18TrhoYiU7+b6pONu5+LKUyvjX9bxpUlJ2Aaco9tfxdqZP+B9xtpwf6Pel2OdkZYh0xFThil2HnL+llsJZteqaX5xiNvw2fN5GDMSZOaJbSCwJd1kqZaUi29EpAVEreGm3cSOJDGVjwcpL7vWN8WOSwd+7mTXzG1IJEttAopU2o8+sGT8H8pgz2GqD/AKh7Ircq7jf/kSihC2zZj4PxpT35txt+LDEqhRx76GoIf4/9gxDzWpfCgY0V5UIjzuOJ1a4lMT785nakss0NNcKjoJ7bwli0CfSp6UY+0mh142pGKdKodeU1BelGKHXdNUVpVOkuXijFPpcc2l/KcVTpdBr10GPkVIcIoVeG9MtpSk5SGre+8c80cKJ0vLnHKojpTm5oxT6XH31OCnGwVLodaV0DSn29yvFoRLv97DFo3aa/xfSByW4t3Tbqrvno9Lq/3uxBFxrq/+GbiPBO6TQv6/qGAkeK4X+nc8M75JC/76sn0pwK2mvf/eSeztT/DZT7NNTjIOUhW0xkGOTKtc5NTmOY+u2f75M6Zj0htdKB0tjb5FwfJbs37p4VNHsMYZo9jNLwTIx7z/1VtC3JFYayDK2TTRbdWNC9EaqpkEOzbI7x2sS/YS2DVh1AFYDQrD6BBRYyaE5Xlsu/2aFI+d4xKW3YoM+L1P9/tRZpqjByxePpoELHQMx9sXeFZbkYrDVwpLbusKSeyqtKbmi2/b/YmBk+ZsxCBwDlh5xRnzd4tH/E1tyH2NAyPvzOZob7djgo8L7bVLxlS6wLN0ni1sKBnrseadya+TSHIcELk2Rl9AAme+DHwXpX1ezCZLCt8no9py6bcB34uG1luF4LPezZfAYnliCugmNs2mOT4IN+hoz5e9Pgo3bSczWc5zl+kIdbxyLSByyPAtbB3Ico9bRGW6VsWbpQIjXlaRHSKWS6mCwcX7jhsb5sQyrVLHQplRimL7wOUh+wh4zIWtjQFgojoF3lJb3aLcRogPIiFZqJRDfGxK+EIlREiqbNTDBCZ3jGE3SxcJfSNzHcKRlz7p5PZnlmoQwDSSuIVQPLcP53+Rw5zrgeA+RWHXAoRh4nJP/3gZ9jZliyX0VPEVxguImww0nttyZC5mT8BRlRIuzXM5Icw42fbm9IWfQ0degN+B4hKPqsyRWBfqAcyHHIXKiLTwt5pwIYxn0BhzGcMYimxt/e2pfD4HfimgAlmtxmHuvtCt8QKKqHDPOVKGoNvi9WEVjGZoMiaVZ9pKPDYzZGmGLBKPNJIiQXGbghOU+UEqFJa7CKg33XYw2xyML460knCwZHKx62rcRNehTermb9YRBHcus3NTwxMSDvdEynEhkNCLnNLMNRuKN8Pg02w3L+MxoKSV5/lp4CzdwfnCzohY55wMzrJwVGlJnxoqolPQIz4WVBK4HwtYar3207MnOtYB3PyVPafGE5/vO4asSK5QyZx4IzhlWKBADfQqsLHuFc86wHcgWD1t0xKznhFAOpfkMuX4U3AtZLeD8bkvf2oXmeAwWuq7cNOdgMK+CDbppg9UDTjxOEG5ewRPI7DTcGMkMSBhgW1rLFIRWxm7ibJP0jT0uDX4JDGIw4qlqdSYMBgnDzvkyKOba7I2X3E0bGHI8c4kztjE3IZjhMMvoa8whVfaVJcl1ge/J97Ux7w/3En5DG/MRsEE3xswJS/gx2Jc1xmRgg26MmZNYGVWconBCMsZkYINujJmLi0rsobeRKgNsjFnCBt0YMxcU9olhg25MB2zQjTFzkSofaoNuTAds0I0xc0DKy1ipXjK59U1OYsxOYoNujJkakslQOzzG8+vWGJOJE8sYY6bmeImKZ22Q7pWkRtE0l8aYX8YzdGN2l3NJ1666k3GUFDPmQGY4G3NjOmKDbszuQj72d0tUGyN/+ZicSTpOaqpYtUFaVQrCGGM6YoNujKE2NBnZXibdmCcKQ03rk6XDFo/i3EuiFrUxpiM26MaYhsOlEyTK4T5dOkDqC8V97iDhqf4KiRrrKSi1So1oY0wP7BRnzO6SqnQGlN+kRvX7alEs5bu1KKVL9bFGVNG6jsS+PO0ZpFyo00+daGNMT2zQjdldcgz6FLxOIi7dFbiMGYCX3I0xc/JkCa93G3NjBmKDbszuMndo2H2kh1RdY8xQbNCN2V0+IxEX/q3Fo2n4kXS0dGHp2TxhjCmD99CNMXAniX3ssRzTGDQ8Q8J7/vs8YYwpiw26MWaZs0oHSwdJ15QuLZEUpitfkk6S8JBHH5aMMSNig26MSbGfdBmJZfKzSGeuWww9eddX9W3pVMkYMyE26MYYY8wWYKc4Y4wxZguwQTfGGGO2ABt0Y4wxZuPZZ59fAN6GIr5YyXTNAAAAAElFTkSuQmCC",alt:"logo",height:"75"})})}),(0,YP.jsx)("div",{className:"d-flex",children:(0,YP.jsx)("div",{className:"col",children:n?(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)(sR,{}),(0,YP.jsx)(oR,{}),(0,YP.jsx)("div",{onClick:function(){return r()},className:"btn btn-primary mx-2",children:"Logout"})]}):(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)(ZP,{}),(0,YP.jsx)($P,{})]})})})]}),(0,YP.jsx)(vD,{})]})},DD=function(e){var n=e.setAuction,r=d((0,t.useState)(!1),2),i=r[0],a=r[1],s=d((0,t.useState)(""),2),c=s[0],l=s[1],f=(0,t.useRef)(),h=(0,t.useRef)(),p=(0,t.useRef)(),v=(0,t.useRef)(),m=(0,t.useRef)(),y=(0,t.useRef)(),g=(0,t.useRef)(),k=(0,t.useContext)(XP).currentUser,b=aR("users").docs,w=function(){return a(!1)},x=["image/png","image/jpeg","image/jpg"],E=function(){for(var e=0;e<b.length;e++)if(k.email==b[e].id)return b[e].friendsList},T=function(){var e=u(o().mark((function e(t){var r,i,a,s,u,c,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(""),x.includes(y.current.files[0].type)){e.next=4;break}return e.abrupt("return",l("Please use a valid image"));case 4:for(r=new Date,i=r.setHours(r.getHours()+parseInt(m.current.value)),a=document.getElementsByClassName("form-check-input"),s=[],u=0;u<a.length;u++)a[u].checked&&s.push(a[u].id.split("check")[1]);c=g.current.value.split(/[,\s]+/),d={email:k.email,title:f.current.value,desc:h.current.value,curPrice:p.current.value,amount:v.current.value,minimumBidAmount:0,minimumBid:p.current.value,minBidIncrement:.1,duration:i,bidsList:[],currentWinner:[],currentCatchup:[],comments:[],allowedUsers:s,currentWinnerAmount:0,currentCatchupAmount:0,powerBuyActive:!1,hashTag:c,itemImage:y.current.files[0]},n(d),w();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YP.jsxs)(YP.Fragment,{children:[(0,YP.jsx)("div",{className:"col d-flex justify-content-center my-3",children:(0,YP.jsx)("div",{onClick:function(){return a(!0)},className:"btn btn-success mx-2",children:"Add Auction"})}),(0,YP.jsx)(it,{centered:!0,show:i,onHide:w,size:"lg",children:(0,YP.jsxs)("form",{onSubmit:T,children:[(0,YP.jsx)(it.Header,{children:(0,YP.jsx)(it.Title,{children:"Create Auction"})}),(0,YP.jsxs)(it.Body,{children:[c&&(0,YP.jsx)(xt,{variant:"danger",children:c}),(0,YP.jsx)(iR,{children:(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item Title"}),(0,YP.jsx)(pn.Control,{type:"text",required:!0,ref:f})]})})}),(0,YP.jsx)(iR,{children:(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item HashTag - Seperated by Comma"}),(0,YP.jsx)(pn.Control,{as:"textarea",rows:1,required:!0,ref:g})]})})}),(0,YP.jsx)(iR,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item Description"}),(0,YP.jsx)(pn.Control,{as:"textarea",rows:3,required:!0,ref:h})]})}),(0,YP.jsxs)(iR,{children:[(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item Amount"}),(0,YP.jsx)(pn.Control,{type:"number",required:!0,ref:v})]})}),(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Start Price"}),(0,YP.jsx)(pn.Control,{type:"number",required:!0,ref:p})]})}),(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item Duration"}),(0,YP.jsx)(pn.Control,{type:"number",required:!0,ref:m})]})})]}),(0,YP.jsxs)(iR,{children:[(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Seller"}),(0,YP.jsx)(pn.Control,{type:"text",value:k.email,readOnly:!0})]})}),(0,YP.jsx)(tn,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)(pn.Label,{children:"Item Image"}),(0,YP.jsx)(pn.File,{label:"Select Item Image",custom:!0,required:!0,ref:y})]})})]}),(0,YP.jsx)(iR,{children:(0,YP.jsxs)(pn.Group,{children:[(0,YP.jsx)("div",{children:"Add Connections"}),E()&&E().map((function(e){return(0,YP.jsx)("div",{children:(0,YP.jsx)(pn.Check,{type:"checkbox",id:"check".concat(e),label:"".concat(e)})},e)}))]})})]}),(0,YP.jsxs)(it.Footer,{children:[(0,YP.jsx)(yn,{variant:"secondary",onClick:w,children:"Cancel"}),(0,YP.jsx)(yn,{variant:"primary",type:"submit",children:"Submit"})]})]})})]})},OD=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),LD=(0,t.createContext)({}),MD=(0,t.createContext)(null),FD="undefined"!==typeof document,jD=FD?t.useLayoutEffect:t.useEffect,UD=(0,t.createContext)({strict:!1});function VD(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function BD(e){return"string"===typeof e||Array.isArray(e)}function zD(e){return"object"===typeof e&&"function"===typeof e.start}var qD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GD=["initial"].concat(qD);function HD(e){return zD(e.animate)||GD.some((function(t){return BD(e[t])}))}function KD(e){return Boolean(HD(e)||e.variants)}function WD(e){var n=function(e,t){if(HD(e)){var n=e.initial,r=e.animate;return{initial:!1===n||BD(n)?n:void 0,animate:BD(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(LD)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[QD(r),QD(i)])}function QD(e){return Array.isArray(e)?e.join(" "):e}var YD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},XD={},JD=function(e){XD[e]={isEnabled:function(t){return YD[e].some((function(e){return!!t[e]}))}}};for(var ZD in YD)JD(ZD);var $D=(0,t.createContext)({}),eO=(0,t.createContext)({}),tO=Symbol.for("motionComponentSymbol");function nO(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;n&&function(e){for(var t in e)XD[t]=Tr(Tr({},XD[t]),e[t])}(n);var s=(0,t.forwardRef)((function(e,s){var u,c=Tr(Tr(Tr({},(0,t.useContext)(OD)),e),{},{layoutId:rO(e)}),l=c.isStatic,f=WD(e),h=a(e,l);if(!l&&FD){f.visualElement=function(e,n,r,i){var a=(0,t.useContext)(LD).visualElement,o=(0,t.useContext)(UD),s=(0,t.useContext)(MD),u=(0,t.useContext)(OD).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;(0,t.useInsertionEffect)((function(){l&&l.update(r,s)}));var f=(0,t.useRef)(Boolean(window.HandoffAppearAnimations));return jD((function(){l&&(l.render(),f.current&&l.animationState&&l.animationState.animateChanges())})),(0,t.useEffect)((function(){l&&(l.updateFeatures(),!f.current&&l.animationState&&l.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,f.current=!1)})),l}(o,h,c,r);var d=(0,t.useContext)(eO),p=(0,t.useContext)(UD).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,p,n,d))}return t.createElement(LD.Provider,{value:f},u&&f.visualElement?t.createElement(u,Tr({visualElement:f.visualElement},c)):null,i(o,e,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):VD(r)&&(r.current=t))}),[n])}(h,f.visualElement,s),h,l,f.visualElement))}));return s[tO]=o,s}function rO(e){var n=e.layoutId,r=(0,t.useContext)($D).id;return r&&void 0!==n?r+"-"+n:n}function iO(e){function t(t){return nO(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oO(e){return"string"===typeof e&&!e.includes("-")&&!!(aO.indexOf(e)>-1||/[A-Z]/.test(e))}var sO={};var uO=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cO=new Set(uO);function lO(e,t){var n=t.layout,r=t.layoutId;return cO.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!sO[e]||"opacity"===e)}var fO=function(e){return Boolean(e&&e.getVelocity)},hO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dO=uO.length;var pO=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},vO=pO("--"),mO=pO("var(--"),yO=function(e,t){return t&&"number"===typeof e?t.transform(e):e},gO=function(e,t,n){return Math.min(Math.max(n,e),t)},kO={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},bO=Tr(Tr({},kO),{},{transform:function(e){return gO(0,1,e)}}),wO=Tr(Tr({},kO),{},{default:1}),xO=function(e){return Math.round(1e5*e)/1e5},EO=/(-)?([\d]*\.?[\d])+/g,TO=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,SO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _O(e){return"string"===typeof e}var IO=function(e){return{test:function(t){return _O(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},CO=IO("deg"),AO=IO("%"),NO=IO("px"),PO=IO("vh"),RO=IO("vw"),DO=Tr(Tr({},AO),{},{parse:function(e){return AO.parse(e)/100},transform:function(e){return AO.transform(100*e)}}),OO=Tr(Tr({},kO),{},{transform:Math.round}),LO={borderWidth:NO,borderTopWidth:NO,borderRightWidth:NO,borderBottomWidth:NO,borderLeftWidth:NO,borderRadius:NO,radius:NO,borderTopLeftRadius:NO,borderTopRightRadius:NO,borderBottomRightRadius:NO,borderBottomLeftRadius:NO,width:NO,maxWidth:NO,height:NO,maxHeight:NO,size:NO,top:NO,right:NO,bottom:NO,left:NO,padding:NO,paddingTop:NO,paddingRight:NO,paddingBottom:NO,paddingLeft:NO,margin:NO,marginTop:NO,marginRight:NO,marginBottom:NO,marginLeft:NO,rotate:CO,rotateX:CO,rotateY:CO,rotateZ:CO,scale:wO,scaleX:wO,scaleY:wO,scaleZ:wO,skew:CO,skewX:CO,skewY:CO,distance:NO,translateX:NO,translateY:NO,translateZ:NO,x:NO,y:NO,z:NO,perspective:NO,transformPerspective:NO,opacity:bO,originX:DO,originY:DO,originZ:NO,zIndex:OO,fillOpacity:bO,strokeOpacity:bO,numOctaves:OO};function MO(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(vO(f))a[f]=h;else{var d=LO[f],p=yO(h,d);if(cO.has(f)){if(u=!0,o[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<dO;c++){var l=uO[c];if(void 0!==e[l]){var f=hO[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,k=s.originZ,b=void 0===k?0:k;i.transformOrigin="".concat(m," ").concat(g," ").concat(b)}}var FO=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function jO(e,t,n){for(var r in t)fO(t[r])||lO(r,n)||(e[r]=t[r])}function UO(e,n,r){var i={};return jO(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e=FO();return MO(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function VO(e,t,n){var r={},i=UO(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var BO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function zO(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||BO.has(e)}var qO,GO=function(e){return!zO(e)};try{(qO=require("@emotion/is-prop-valid").default)&&(GO=function(e){return e.startsWith("on")?!zO(e):qO(e)})}catch(H_){}function HO(e,t){if(null==e)return{};var n,r,i=p(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KO(e,t,n){return"string"===typeof e?e:NO.transform(t+n*e)}var WO={offset:"stroke-dashoffset",array:"stroke-dasharray"},QO={offset:"strokeDashoffset",array:"strokeDasharray"};var YO=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function XO(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,f=t.pathSpacing,h=void 0===f?1:f,d=t.pathOffset,p=void 0===d?0:d;if(MO(e,HO(t,YO),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,m=e.style,y=e.dimensions;v.transform&&(y&&(m.transform=v.transform),delete v.transform),y&&(void 0!==u||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=KO(t,e.x,e.width),i=KO(n,e.y,e.height);return"".concat(r," ").concat(i)}(y,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(v.x=a),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?WO:QO;e[a.offset]=NO.transform(-r);var o=NO.transform(t),s=NO.transform(n);e[a.array]="".concat(o," ").concat(s)}(v,l,h,p,!1)}}var JO=function(){return Tr(Tr({},FO()),{},{attrs:{}})},ZO=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function $O(e,n,r,i){var a=(0,t.useMemo)((function(){var t=JO();return XO(t,n,{enableHardwareAcceleration:!1},ZO(i),e.transformTemplate),Tr(Tr({},t.attrs),{},{style:Tr({},t.style)})}),[n]);if(e.style){var o={};jO(o,e.style,e),a.style=Tr(Tr({},o),a.style)}return a}function eL(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,a,o){var s=a.latestValues,u=(oO(n)?$O:VO)(r,s,o,n),c=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(GO(i)||!0===n&&zO(i)||!t&&!zO(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),l=Tr(Tr(Tr({},c),u),{},{ref:i}),f=r.children,h=(0,t.useMemo)((function(){return fO(f)?f.get():f}),[f]);return(0,t.createElement)(n,Tr(Tr({},l),{},{children:h}))}}var tL=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function nL(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var rL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iL(e,t,n,r){for(var i in nL(e,t,void 0,r),t.attrs)e.setAttribute(rL.has(i)?i:tL(i),t.attrs[i])}function aL(e,t){var n=e.style,r={};for(var i in n)(fO(n[i])||t.style&&fO(t.style[i])||lO(i,e))&&(r[i]=n[i]);return r}function oL(e,t){var n=aL(e,t);for(var r in e){if(fO(e[r])||fO(t[r]))n[-1!==uO.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function sL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var uL=function(e){return Array.isArray(e)},cL=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},lL=function(e){return uL(e)?e[e.length-1]||0:e};function fL(e){var t=fO(e)?e.get():e;return cL(t)?t.toValue():t}var hL=["transitionEnd","transition"];var dL=function(e){return function(n,r){var i=(0,t.useContext)(LD),a=(0,t.useContext)(MD),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:pL(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():function(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}(o)}};function pL(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=fL(a[o]);var s=e.initial,u=e.animate,c=HD(e),l=KD(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!zD(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=sL(e,t);if(n){var r=n.transitionEnd,a=(n.transition,HO(n,hL));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var vL=function(e){return e},mL=function(){function e(){bn(this,e),this.order=[],this.scheduled=new Set}return xn(e,[{key:"add",value:function(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}},{key:"remove",value:function(e){var t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}},{key:"clear",value:function(){this.order.length=0,this.scheduled.clear()}}]),e}();var yL=["prepare","read","update","preRender","render","postRender"];var gL=function(e,t){var n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=yL.reduce((function(e,t){return e[t]=function(e){var t=new mL,n=new mL,r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),s.add(e)&&a&&i&&(r=t.order.length),e},cancel:function(e){n.remove(e),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).clear(),r=t.order.length)for(var l=0;l<r;l++){var f=t.order[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return n=!0})),e}),{}),o=function(e){return a[e].process(i)},s=function a(){var s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,yL.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},u=yL.reduce((function(t,o){var u=a[o];return t[o]=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),u.schedule(t,a,o)},t}),{});return{schedule:u,cancel:function(e){return yL.forEach((function(t){return a[t].cancel(e)}))},state:i,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:vL,!0),kL=gL.schedule,bL=gL.cancel,wL=gL.state,xL=gL.steps,EL={useVisualState:dL({scrapeMotionValuesFromProps:oL,createRenderState:JO,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;kL.read((function(){try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(tz){r.dimensions={x:0,y:0,width:0,height:0}}})),kL.render((function(){XO(r,i,{enableHardwareAcceleration:!1},ZO(t.tagName),e.transformTemplate),iL(t,r)}))}})},TL={useVisualState:dL({scrapeMotionValuesFromProps:aL,createRenderState:FO})};function SL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var _L=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function IL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var CL=function(e){return function(t){return _L(t)&&e(t,IL(t))}};function AL(e,t,n,r){return SL(e,t,CL(n),r)}var NL=function(e,t){return function(n){return t(e(n))}},PL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(NL)};function RL(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var DL=RL("dragHorizontal"),OL=RL("dragVertical");function LL(e){var t=!1;if("y"===e)t=OL();else if("x"===e)t=DL();else{var n=DL(),r=OL();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function ML(){var e=LL(!0);return!e||(e(),!1)}var FL=function(){function e(t){bn(this,e),this.isMounted=!1,this.node=t}return xn(e,[{key:"update",value:function(){}}]),e}();function jL(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return AL(e.current,n,(function(n,i){if("touch"!==n.type&&!ML()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&kL.update((function(){return a[r](n,i)}))}}),{passive:!e.getProps()[r]})}var UL=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"mount",value:function(){this.unmount=PL(jL(this.node,!0),jL(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(FL),VL=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return xn(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(tz){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=PL(SL(this.node.current,"focus",(function(){return e.onFocus()})),SL(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(FL),BL=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function zL(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,IL(n))}}var qL=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).removeStartListeners=vL,e.removeEndListeners=vL,e.removeAccessibleListeners=vL,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=AL(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;kL.update((function(){BL(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),a=AL(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=PL(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=SL(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=SL(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&zL("up",(function(t,n){var r=e.node.getProps().onTap;r&&kL.update((function(){return r(t,n)}))}))})),zL("down",(function(t,n){e.startPress(t,n)}))}})),n=SL(e.node.current,"blur",(function(){e.isPressing&&zL("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=PL(t,n)},e}return xn(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&kL.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ML()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&kL.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=AL(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=SL(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=PL(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(FL),GL=["root"],HL=new WeakMap,KL=new WeakMap,WL=function(e){var t=HL.get(e.target);t&&t(e)},QL=function(e){e.forEach(WL)};function YL(e,t,n){var r=function(e){var t=e.root,n=HO(e,GL),r=t||document;KL.has(r)||KL.set(r,{});var i=KL.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(QL,Tr({root:t},n))),i[a]}(t);return HL.set(e,n),r.observe(e),function(){HL.delete(e),r.unobserve(e)}}var XL={some:0,all:1},JL=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return xn(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:XL[o]};return YL(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(FL);var ZL={inView:{Feature:JL},tap:{Feature:qL},focus:{Feature:VL},hover:{Feature:UL}};function $L(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eM(e,t,n){var r=e.getProps();return sL(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var tM="data-"+tL("framerAppearId"),nM=vL,rM=vL;var iM=function(e){return 1e3*e},aM=function(e){return e/1e3},oM=!1,sM=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function uM(e){return Boolean(!e||"string"===typeof e&&lM[e]||sM(e)||Array.isArray(e)&&e.every(uM))}var cM=function(e){var t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},lM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cM([0,.65,.55,1]),circOut:cM([.55,0,1,.45]),backIn:cM([.31,.01,.66,-.59]),backOut:cM([.33,1.53,.69,.99])};function fM(e){if(e)return sM(e)?cM(e):Array.isArray(e)?e.map(fM):lM[e]}var hM=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},dM=1e-7,pM=12;function vM(e,t,n,r){if(e===t&&n===r)return vL;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=hM(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>dM&&++s<pM);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:hM(i(e),t,r)}}var mM=vM(.42,0,1,1),yM=vM(0,0,.58,1),gM=vM(.42,0,.58,1),kM=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},bM=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},wM=function(e){return function(t){return 1-e(1-t)}},xM=function(e){return 1-Math.sin(Math.acos(e))},EM=wM(xM),TM=bM(EM),SM=vM(.33,1.53,.69,.99),_M=wM(SM),IM=bM(_M),CM={linear:vL,easeIn:mM,easeInOut:gM,easeOut:yM,circIn:xM,circInOut:TM,circOut:EM,backIn:_M,backInOut:IM,backOut:SM,anticipate:function(e){return(e*=2)<1?.5*_M(e):.5*(2-Math.pow(2,-10*(e-1)))}},AM=function(e){if(Array.isArray(e)){rM(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=d(e,4);return vM(t[0],t[1],t[2],t[3])}return"string"===typeof e?(rM(void 0!==CM[e],"Invalid easing type '".concat(e,"'")),CM[e]):e},NM=function(e,t){return function(n){return Boolean(_O(n)&&SO.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},PM=function(e,t,n){return function(r){var i;if(!_O(r))return r;var a=d(r.match(EO),4),o=a[0],s=a[1],u=a[2],c=a[3];return kn(i={},e,parseFloat(o)),kn(i,t,parseFloat(s)),kn(i,n,parseFloat(u)),kn(i,"alpha",void 0!==c?parseFloat(c):1),i}},RM=Tr(Tr({},kO),{},{transform:function(e){return Math.round(function(e){return gO(0,255,e)}(e))}}),DM={test:NM("rgb","red"),parse:PM("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+RM.transform(t)+", "+RM.transform(n)+", "+RM.transform(r)+", "+xO(bO.transform(a))+")"}};var OM={test:NM("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:DM.transform},LM={test:NM("hsl","hue"),parse:PM("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+AO.transform(xO(n))+", "+AO.transform(xO(r))+", "+xO(bO.transform(a))+")"}},MM={test:function(e){return DM.test(e)||OM.test(e)||LM.test(e)},parse:function(e){return DM.test(e)?DM.parse(e):LM.test(e)?LM.parse(e):OM.parse(e)},transform:function(e){return _O(e)?e:e.hasOwnProperty("red")?DM.transform(e):LM.transform(e)}},FM=function(e,t,n){return-n*e+n*t+e};function jM(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var UM=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},VM=[OM,DM,LM];function BM(e){var t=function(e){return VM.find((function(t){return t.test(e)}))}(e);rM(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===LM&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=jM(c,u,t+1/3),o=jM(c,u,t),s=jM(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var zM=function(e,t){var n=BM(e),r=BM(t),i=Tr({},n);return function(e){return i.red=UM(n.red,r.red,e),i.green=UM(n.green,r.green,e),i.blue=UM(n.blue,r.blue,e),i.alpha=FM(n.alpha,r.alpha,e),DM.transform(i)}};var qM={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:vL},GM={regex:TO,countKey:"Colors",token:"${c}",parse:MM.parse},HM={regex:EO,countKey:"Numbers",token:"${n}",parse:kO.parse};function KM(e,t){var n,r=t.regex,i=t.countKey,a=t.token,o=t.parse,s=e.tokenised.match(r);s&&(e["num"+i]=s.length,e.tokenised=e.tokenised.replace(r,a),(n=e.values).push.apply(n,lr(s.map(o))))}function WM(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&KM(n,qM),KM(n,GM),KM(n,HM),n}function QM(e){return WM(e).values}function YM(e){var t=WM(e),n=t.values,r=t.numColors,i=t.numVars,a=t.tokenised,o=n.length;return function(e){for(var t=a,n=0;n<o;n++)t=n<i?t.replace(qM.token,e[n]):n<i+r?t.replace(GM.token,MM.transform(e[n])):t.replace(HM.token,xO(e[n]));return t}}var XM=function(e){return"number"===typeof e?0:e};var JM={test:function(e){var t,n;return isNaN(e)&&_O(e)&&((null===(t=e.match(EO))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(TO))||void 0===n?void 0:n.length)||0)>0},parse:QM,createTransformer:YM,getAnimatableNone:function(e){var t=QM(e);return YM(e)(t.map(XM))}},ZM=function(e,t){return function(n){return"".concat(n>0?t:e)}};function $M(e,t){return"number"===typeof e?function(n){return FM(e,t,n)}:MM.test(e)?zM(e,t):e.startsWith("var(")?ZM(e,t):nF(e,t)}var eF=function(e,t){var n=lr(e),r=n.length,i=e.map((function(e,n){return $M(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},tF=function(e,t){var n=Tr(Tr({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=$M(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},nF=function(e,t){var n=JM.createTransformer(t),r=WM(e),i=WM(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?PL(eF(r.values,i.values),n):(nM(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),ZM(e,t))},rF=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},iF=function(e,t){return function(n){return FM(e,t,n)}};function aF(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?iF:"string"===typeof e?MM.test(e)?zM:nF:Array.isArray(e)?eF:"object"===typeof e?tF:iF}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||vL:t;s=PL(u,s)}r.push(s)}return r}function oF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;if(rM(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=lr(e).reverse(),t=lr(t).reverse());var u=aF(t,a,o),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=rF(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(gO(e[0],e[s-1],t))}:l}function sF(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=rF(0,t,r);e.push(FM(n,1,i))}}(t,e.length-1),t}function uF(e){var t,n,r=e.duration,i=void 0===r?300:r,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=kM(u)?u.map(AM):AM(u),l={done:!1,value:a[0]},f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:sF(a),i),h=oF(f,a,{ease:Array.isArray(c)?c:(t=a,n=c,t.map((function(){return n||gM})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=h(e),l.done=e>=i,l}}}function cF(e,t){return t?e*(1e3/t):0}var lF=5;function fF(e,t,n){var r=Math.max(t-lF,0);return cF(n-e(r),t-r)}var hF=.001,dF=.01,pF=10,vF=.05,mF=1;function yF(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;nM(i<=iM(pF),"Spring duration must be 10 seconds or less");var f=1-o;f=gO(vF,mF,f),i=gO(dF,pF,aM(i)),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=kF(e,f),o=Math.exp(-n);return hF-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=kF(Math.pow(e,2),f);return(-t(e)+hF>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-hF},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<gF;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=iM(i),isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var gF=12;function kF(e,t){return e*Math.sqrt(1-t*t)}var bF=["keyframes","restDelta","restSpeed"],wF=["duration","bounce"],xF=["stiffness","damping","mass"];function EF(e,t){return t.some((function(t){return void 0!==e[t]}))}function TF(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,a=HO(e,bF),o=n[0],s=n[n.length-1],u={done:!1,value:o},c=function(e){var t=Tr({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!EF(e,xF)&&EF(e,wF)){var n=yF(e);(t=Tr(Tr(Tr({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),l=c.stiffness,f=c.damping,h=c.mass,d=c.velocity,p=c.duration,v=c.isResolvedFromDuration,m=d?-aM(d):0,y=f/(2*Math.sqrt(l*h)),g=s-o,k=aM(Math.sqrt(l/h)),b=Math.abs(g)<5;if(i||(i=b?.01:2),r||(r=b?.005:.5),y<1){var w=kF(k,y);t=function(e){var t=Math.exp(-y*k*e);return s-t*((m+y*k*g)/w*Math.sin(w*e)+g*Math.cos(w*e))}}else if(1===y)t=function(e){return s-Math.exp(-k*e)*(g+(m+k*g)*e)};else{var x=k*Math.sqrt(y*y-1);t=function(e){var t=Math.exp(-y*k*e),n=Math.min(x*e,300);return s-t*((m+y*k*g)*Math.sinh(n)+x*g*Math.cosh(n))/x}}return{calculatedDuration:v&&p||null,next:function(e){var n=t(e);if(v)u.done=e>=p;else{var a=m;0!==e&&(a=y<1?fF(t,e,n):0);var o=Math.abs(a)<=i,c=Math.abs(s-n)<=r;u.done=o&&c}return u.value=u.done?s:n,u}}}function SF(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,f=void 0===l?500:l,h=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,y=e.restSpeed,g=t[0],k={done:!1,value:g},b=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},w=a*r,x=g+w,E=void 0===h?x:h(x);E!==x&&(w=E-g);var T,S,_=function(e){return-w*Math.exp(-e/s)},I=function(e){return E+_(e)},C=function(e){var t=_(e),n=I(e);k.done=Math.abs(t)<=m,k.value=k.done?E:n},A=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(k.value)&&(T=e,S=TF({keyframes:[k.value,b(k.value)],velocity:fF(I,e,k.value),damping:c,stiffness:f,restDelta:m,restSpeed:y}))};return A(0),{calculatedDuration:null,next:function(e){var t=!1;return S||void 0!==T||(t=!0,C(e),A(e)),void 0!==T&&e>T?S.next(e-T):(!t&&C(e),k)}}}var _F=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return kL.update(t,!0)},stop:function(){return bL(t)},now:function(){return wL.isProcessing?wL.timestamp:performance.now()}}},IF=2e4;function CF(e){for(var t=0,n=e.next(t);!n.done&&t<IF;)t+=50,n=e.next(t);return t>=IF?1/0:t}var AF=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],NF={decay:SF,inertia:SF,tween:uF,keyframes:uF,spring:TF};function PF(e){var t,n,r,i=e.autoplay,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,u=e.driver,c=void 0===u?_F:u,l=e.keyframes,f=e.type,h=void 0===f?"keyframes":f,d=e.repeat,p=void 0===d?0:d,v=e.repeatDelay,m=void 0===v?0:v,y=e.repeatType,g=void 0===y?"loop":y,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onUpdate,E=HO(e,AF),T=1,S=!1,_=function(){n=new Promise((function(e){t=e}))};_();var I,C=NF[h]||uF;C!==uF&&"number"!==typeof l[0]&&(I=oF([0,100],l,{clamp:!1}),l=[0,100]);var A,N=C(Tr(Tr({},E),{},{keyframes:l}));"mirror"===g&&(A=C(Tr(Tr({},E),{},{keyframes:lr(l).reverse(),velocity:-(E.velocity||0)})));var P="idle",R=null,D=null,O=null;null===N.calculatedDuration&&p&&(N.calculatedDuration=CF(N));var L=N.calculatedDuration,M=1/0,F=1/0;null!==L&&(F=(M=L+m)*(p+1)-m);var j=0,U=function(e){if(null!==D){T>0&&(D=Math.min(D,e)),T<0&&(D=Math.min(e-F/T,D));var t=(j=null!==R?R:Math.round(e-D)*T)-s*(T>=0?1:-1),n=T>=0?t<0:t>F;j=Math.max(t,0),"finished"===P&&null===R&&(j=F);var r=j,i=N;if(p){var a=j/M,o=Math.floor(a),u=a%1;!u&&a>=1&&(u=1),1===u&&o--,o=Math.min(o,p+1);var c=Boolean(o%2);c&&("reverse"===g?(u=1-u,m&&(u-=m/M)):"mirror"===g&&(i=A));var f=gO(0,1,u);j>F&&(f="reverse"===g&&c?1:0),r=f*M}var h=n?{done:!1,value:l[0]}:i.next(r);I&&(h.value=I(h.value));var d=h.done;n||null===L||(d=T>=0?j>=F:j<=0);var v=null===R&&("finished"===P||"running"===P&&d);return x&&x(h.value),v&&z(),h}},V=function(){r&&r.stop(),r=void 0},B=function(){P="idle",V(),t(),_(),D=O=null},z=function(){P="finished",w&&w(),V(),t()},q=function(){if(!S){r||(r=c(U));var e=r.now();k&&k(),null!==R?D=e-R:D&&"finished"!==P||(D=e),"finished"===P&&_(),O=D,R=null,P="running",r.start()}};a&&q();var G={then:function(e,t){return n.then(e,t)},get time(){return aM(j)},set time(e){e=iM(e),j=e,null===R&&r&&0!==T?D=r.now()-e/T:R=e},get duration(){var e=null===N.calculatedDuration?CF(N):N.calculatedDuration;return aM(e)},get speed(){return T},set speed(e){e!==T&&r&&(T=e,G.time=aM(j))},get state(){return P},play:q,pause:function(){P="paused",R=j},stop:function(){S=!0,"idle"!==P&&(P="idle",b&&b(),B())},cancel:function(){null!==O&&U(O),B()},complete:function(){P="finished"},sample:function(e){return D=0,U(e)}};return G}var RF=["onUpdate","onComplete"],DF=function(e){var t;return function(){return void 0===t&&(t=e()),t}}((function(){return Object.hasOwnProperty.call(Element.prototype,"animate")})),OF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function LF(e,t,n){n.onUpdate;var r=n.onComplete,i=HO(n,RF);if(!(DF()&&OF.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,o,s=!1,u=function(){o=new Promise((function(e){a=e}))};u();var c=i.keyframes,l=i.duration,f=void 0===l?300:l,h=i.ease,d=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!uM(t.ease)}(t,i)){for(var p=PF(Tr(Tr({},i),{},{repeat:0,delay:0})),v={done:!1,value:c[0]},m=[],y=0;!v.done&&y<2e4;)v=p.sample(y),m.push(v.value),y+=10;d=void 0,c=m,f=y-10,h="linear"}var g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,a=void 0===i?0:i,o=r.duration,s=r.repeat,u=void 0===s?0:s,c=r.repeatType,l=void 0===c?"loop":c,f=r.ease,h=r.times,d=kn({},t,n);h&&(d.offset=h);var p=fM(f);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:a,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:"reverse"===l?"alternate":"normal"})}(e.owner.current,t,c,Tr(Tr({},i),{},{duration:f,ease:h,times:d}));i.syncStart&&(g.startTime=wL.isProcessing?wL.timestamp:document.timeline?document.timeline.currentTime:performance.now());var k=function(){return g.cancel()},b=function(){kL.update(k),a(),u()};return g.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(c,i)),r&&r(),b()},{then:function(e,t){return o.then(e,t)},attachTimeline:function(e){return g.timeline=e,g.onfinish=null,vL},get time(){return aM(g.currentTime||0)},set time(e){g.currentTime=iM(e)},get speed(){return g.playbackRate},set speed(e){g.playbackRate=e},get duration(){return aM(f)},play:function(){s||(g.play(),bL(k))},pause:function(){return g.pause()},stop:function(){if(s=!0,"idle"!==g.playState){var t=g.currentTime;if(t){var n=PF(Tr(Tr({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}b()}},complete:function(){return g.finish()},cancel:b}}var MF={type:"spring",stiffness:500,damping:25,restSpeed:10},FF={type:"keyframes",duration:.8},jF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UF=function(e,t){var n=t.keyframes;return n.length>2?FF:cO.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:MF:jF},VF=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!JM.test(t)&&"0"!==t||t.startsWith("url(")))},BF=new Set(["brightness","contrast","saturate","opacity"]);function zF(e){var t=d(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=d(r.match(EO)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=BF.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var qF=/([a-z-]*)\(.*?\)/g,GF=Tr(Tr({},JM),{},{getAnimatableNone:function(e){var t=e.match(qF);return t?t.map(zF).join(" "):e}}),HF=Tr(Tr({},LO),{},{color:MM,backgroundColor:MM,outlineColor:MM,fill:MM,stroke:MM,borderColor:MM,borderTopColor:MM,borderRightColor:MM,borderBottomColor:MM,borderLeftColor:MM,filter:GF,WebkitFilter:GF}),KF=function(e){return HF[e]};function WF(e,t){var n=KF(e);return n!==GF&&(n=JM),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var QF=function(e){return/^0[^.\s]+$/.test(e)};function YF(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||QF(e):void 0}var XF=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function JF(e,t){return e[t]||e.default||e}var ZF=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=JF(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=iM(o);var c=function(e,t,n,r){var i,a=VF(t,n);i=Array.isArray(n)?lr(n):[null,n];for(var o=void 0!==r.from?r.from:e.get(),s=void 0,u=[],c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?o:i[c-1]),YF(i[c])&&u.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(s=i[c]);if(a&&u.length&&s)for(var l=0;l<u.length;l++)i[u[l]]=WF(t,s);return i}(t,e,n,a),l=c[0],f=c[c.length-1],h=VF(e,l),d=VF(e,f);nM(h===d,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(f,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(f," via the `style` property."));var p=Tr(Tr({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-u,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=HO(e,XF);return!!Object.keys(t).length}(a)||(p=Tr(Tr({},p),UF(e,p))),p.duration&&(p.duration=iM(p.duration)),p.repeatDelay&&(p.repeatDelay=iM(p.repeatDelay)),!h||!d||oM||!1===a.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:vL,pause:vL,stop:vL,then:function(e){return e(),Promise.resolve()},cancel:vL,complete:vL}};return n?PF({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(oM?Tr(Tr({},p),{},{delay:0}):p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var v=LF(t,e,p);if(v)return v}return PF(p)}};function $F(e){return Boolean(fO(e)&&e.add)}var ej=function(e){return/^\-?\d*\.?\d+$/.test(e)};function tj(e,t){-1===e.indexOf(t)&&e.push(t)}function nj(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var rj=function(){function e(){bn(this,e),this.subscriptions=[]}return xn(e,[{key:"add",value:function(e){var t=this;return tj(this.subscriptions,e),function(){return nj(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),ij={current:void 0},aj=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bn(this,e),this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=wL.delta,i=wL.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,kL.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return kL.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return xn(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new rj);var r=this.events[e].add(t);return"change"===e?function(){r(),kL.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return ij.current&&ij.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?cF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function oj(e,t){return new aj(e,t)}var sj=function(e){return function(t){return t.test(e)}},uj=[kO,NO,AO,CO,RO,PO,{test:function(e){return"auto"===e},parse:function(e){return e}}],cj=function(e){return uj.find(sj(e))},lj=[].concat(lr(uj),[MM,JM]),fj=function(e){return lj.find(sj(e))},hj=["transitionEnd","transition"];function dj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,oj(n))}function pj(e,t){var n=eM(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,HO(r,hj));for(var s in o=Tr(Tr({},o),a)){dj(e,s,lL(o[s]))}}function vj(e,t){if(t)return(t[e]||t.default||t).from}var mj=["transition","transitionEnd"];function yj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,f=HO(s,mj),h=e.getValue("willChange");a&&(c=a);var d=[],p=o&&e.animationState&&e.animationState.getState()[o],v=function(t){var n=e.getValue(t),r=f[t];if(!n||void 0===r||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,t))return 1;var a=Tr({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[tM];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,kL),a.syncStart=!0)}n.start(ZF(t,n,r,e.shouldReduceMotion&&cO.has(t)?{type:!1}:a));var s=n.animation;$F(h)&&(h.add(t),s.then((function(){return h.remove(t)}))),d.push(s)};for(var m in f)v(m);return l&&Promise.all(d).then((function(){l&&pj(e,l)})),d}function gj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eM(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return Promise.all(yj(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(kj).forEach((function(e,r){e.notify("AnimationStart",t),o.push(gj(e,t,Tr(Tr({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var c=d("beforeChildren"===u?[o,s]:[s,o],2),l=c[0],f=c[1];return l().then((function(){return f()}))}return Promise.all([o(),s(n.delay)])}function kj(e,t){return e.sortNodePosition(t)}var bj=["transition","transitionEnd"],wj=lr(qD).reverse(),xj=qD.length;function Ej(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return gj(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=gj(e,t,r);else{var a="function"===typeof t?eM(e,t,r.custom):t;n=Promise.all(yj(e,a,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function Tj(e){var t=Ej(e),n={animate:Sj(!0),whileInView:Sj(),whileHover:Sj(),whileTap:Sj(),whileDrag:Sj(),whileFocus:Sj(),exit:Sj()},r=!0,i=function(t,n){var r=eM(e,n);if(r){r.transition;var i=r.transitionEnd,a=HO(r,bj);t=Tr(Tr(Tr({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set,f={},h=1/0,d=function(){var t=wj[p],d=n[t],v=void 0!==s[t]?s[t]:u[t],m=BD(v),y=t===o?d.isActive:null;!1===y&&(h=p);var g=v===u[t]&&v!==s[t]&&m;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),d.protectedKeys=Tr({},f),!d.isActive&&null===y||!v&&!d.prevProp||zD(v)||"boolean"===typeof v)return 1;var k=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!$L(t,e);return!1}(d.prevProp,v),b=k||t===o&&d.isActive&&!g&&m||p>h&&m,w=Array.isArray(v)?v:[v],x=w.reduce(i,{});!1===y&&(x={});var E=d.prevResolvedValues,T=void 0===E?{}:E,S=Tr(Tr({},T),x),_=function(e){b=!0,l.delete(e),d.needsAnimating[e]=!0};for(var I in S){var C=x[I],A=T[I];f.hasOwnProperty(I)||(C!==A?uL(C)&&uL(A)?!$L(C,A)||k?_(I):d.protectedKeys[I]=!0:void 0!==C?_(I):l.add(I):void 0!==C&&l.has(I)?_(I):d.protectedKeys[I]=!0)}d.prevProp=v,d.prevResolvedValues=x,d.isActive&&(f=Tr(Tr({},f),x)),r&&e.blockInitialAnimation&&(b=!1),b&&!g&&c.push.apply(c,lr(w.map((function(e){return{animation:e,options:Tr({type:t},a)}}))))},p=0;p<xj;p++)d();if(l.size){var v={};l.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),c.push({animation:v})}var m=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function Sj(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var _j=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),r=t.call(this,e),e.animationState||(e.animationState=Tj(e)),r}return xn(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),zD(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(FL),Ij=0,Cj=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).id=Ij++,e}return xn(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(FL),Aj={animation:{Feature:_j},exit:{Feature:Cj}},Nj=function(e,t){return Math.abs(e-t)};var Pj=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(bn(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Oj(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=Nj(e.x,t.x),r=Nj(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=wL.timestamp;r.history.push(Tr(Tr({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=Rj(t,r.transformPagePoint),kL.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=Oj("pointercancel"===e.type?r.lastMoveEventInfo:Rj(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},_L(t)){this.handlers=n,this.transformPagePoint=i;var a=Rj(IL(t),this.transformPagePoint),o=a.point,s=wL.timestamp;this.history=[Tr(Tr({},o),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,Oj(a,this.history)),this.removeListeners=PL(AL(window,"pointermove",this.handlePointerMove),AL(window,"pointerup",this.handlePointerUp),AL(window,"pointercancel",this.handlePointerUp))}}return xn(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),bL(this.updatePoint)}}]),e}();function Rj(e,t){return t?{point:t(e.point)}:e}function Dj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oj(e,t){var n=e.point;return{point:n,delta:Dj(n,Mj(t)),offset:Dj(n,Lj(t)),velocity:Fj(t,.1)}}function Lj(e){return e[0]}function Mj(e){return e[e.length-1]}function Fj(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Mj(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>iM(t)));)n--;if(!r)return{x:0,y:0};var a=aM(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jj(e){return e.max-e.min}function Uj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Vj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=FM(t.min,t.max,e.origin),e.scale=jj(n)/jj(t),(Uj(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=FM(n.min,n.max,e.origin)-e.originPoint,(Uj(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Bj(e,t,n,r){Vj(e.x,t.x,n.x,r?r.originX:void 0),Vj(e.y,t.y,n.y,r?r.originY:void 0)}function zj(e,t,n){e.min=n.min+t.min,e.max=e.min+jj(t)}function qj(e,t,n){e.min=t.min-n.min,e.max=e.min+jj(t)}function Gj(e,t,n){qj(e.x,t.x,n.x),qj(e.y,t.y,n.y)}function Hj(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Kj(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Wj=.35;function Qj(e,t,n){return{min:Yj(e,t),max:Yj(e,n)}}function Yj(e,t){return"number"===typeof e?e:e[t]||0}var Xj=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Jj=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function Zj(e){return[e("x"),e("y")]}function $j(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function eU(e){return void 0===e||1===e}function tU(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!eU(t)||!eU(n)||!eU(r)}function nU(e){return tU(e)||rU(e)||e.z||e.rotate||e.rotateX||e.rotateY}function rU(e){return iU(e.x)||iU(e.y)}function iU(e){return e&&"0%"!==e}function aU(e,t,n){return n+t*(e-n)}function oU(e,t,n,r,i){return void 0!==i&&(e=aU(e,i,r)),aU(e,n,r)+t}function sU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=oU(e.min,t,n,r,i),e.max=oU(e.max,t,n,r,i)}function uU(e,t){var n=t.x,r=t.y;sU(e.x,n.translate,n.scale,n.originPoint),sU(e.y,r.translate,r.scale,r.originPoint)}function cU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function lU(e,t){e.min=e.min+t,e.max=e.max+t}function fU(e,t,n){var r=d(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=FM(e.min,e.max,s);sU(e,t[i],t[a],u,t.scale)}var hU=["x","scaleX","originX"],dU=["y","scaleY","originY"];function pU(e,t){fU(e.x,t,hU),fU(e.y,t,dU)}function vU(e,t){return $j(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var mU=new WeakMap,yU=function(){function e(t){bn(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jj(),this.visualElement=t}return xn(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new Pj(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(IL(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=LL(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Zj((function(e){var n=t.getAxisMotionValue(e).get()||0;if(AO.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=jj(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&kL.update((function(){return o(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&kL.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&gU(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?FM(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?FM(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&VD(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:Hj(e.x,r,a),y:Hj(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wj;return!1===e?e=0:!0===e&&(e=Wj),{x:Qj(e,"left","right"),y:Qj(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zj((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!VD(t))return!1;var r=t.current;rM(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=vU(e,n),i=t.scroll;return i&&(lU(r.x,i.offset.x),lU(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Kj(e.x,t.x),y:Kj(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=$j(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=Zj((function(n){if(gU(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var l=a?200:1e6,f=a?40:1e7,h=Tr(Tr({type:"inertia",velocity:i?e[n]:0,bounceStiffness:l,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,h)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(ZF(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;Zj((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;Zj((function(n){if(gU(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-FM(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(VD(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};Zj((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=jj(e),i=jj(t);return i>r?n=rF(t.min,t.max-r,e.min):r>i&&(n=rF(e.min,e.max-i,t.min)),gO(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zj((function(t){if(gU(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(FM(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){mU.set(this.visualElement,this);var t=AL(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){VD(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=SL(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(Zj((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?Wj:c,f=e.dragMomentum,h=void 0===f||f;return Tr(Tr({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})}}]),e}();function gU(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var kU=function(e){Sn(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,e)).removeGroupControls=vL,r.removeListeners=vL,r.controls=new yU(e),r}return xn(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vL}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(FL),bU=function(e){return function(t,n){e&&kL.update((function(){return e(t,n)}))}},wU=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).removePointerDownListener=vL,e}return xn(n,[{key:"onPointerDown",value:function(e){this.session=new Pj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:bU(n),onStart:bU(r),onMove:i,onEnd:function(t,n){delete e.session,a&&kL.update((function(){return a(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=AL(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(FL);var xU={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var TU={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!NO.test(e))return e;e=parseFloat(e)}var n=EU(e,t.target.x),r=EU(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},SU={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=JM.parse(e);if(a.length>5)return i;var o=JM.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=c;var l=FM(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},_U=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=CU,Object.assign(sO,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Tr(Tr({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),xU.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||kL.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(t.Component);function IU(e){var n=function(){var e=(0,t.useContext)(MD);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();return(0,t.useEffect)((function(){return i(a)}),[]),!n&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=d(n,2),i=r[0],a=r[1],o=(0,t.useContext)($D);return t.createElement(_U,Tr(Tr({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(eO),isPresent:i,safeToRemove:a}))}var CU={borderRadius:Tr(Tr({},TU),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:TU,borderTopRightRadius:TU,borderBottomLeftRadius:TU,borderBottomRightRadius:TU,boxShadow:SU},AU=["TopLeft","TopRight","BottomLeft","BottomRight"],NU=AU.length,PU=function(e){return"string"===typeof e?parseFloat(e):e},RU=function(e){return"number"===typeof e||NO.test(e)};function DU(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var OU=MU(0,.5,EM),LU=MU(.5,.95,vL);function MU(e,t,n){return function(r){return r<e?0:r>t?1:n(rF(e,t,r))}}function FU(e,t){e.min=t.min,e.max=t.max}function jU(e,t){FU(e.x,t.x),FU(e.y,t.y)}function UU(e,t,n,r,i){return e=aU(e-=t,1/n,r),void 0!==i&&(e=aU(e,1/i,r)),e}function VU(e,t,n,r,i){var a=d(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(AO.test(t)&&(t=parseFloat(t),t=FM(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=FM(a.min,a.max,r);e===a&&(s-=t),e.min=UU(e.min,t,n,s,i),e.max=UU(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var BU=["x","scaleX","originX"],zU=["y","scaleY","originY"];function qU(e,t,n,r){VU(e.x,t,BU,n?n.x:void 0,r?r.x:void 0),VU(e.y,t,zU,n?n.y:void 0,r?r.y:void 0)}function GU(e){return 0===e.translate&&1===e.scale}function HU(e){return GU(e.x)&&GU(e.y)}function KU(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function WU(e){return jj(e.x)/jj(e.y)}var QU=function(){function e(){bn(this,e),this.members=[]}return xn(e,[{key:"add",value:function(e){tj(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(nj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function YU(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var XU=function(e,t){return e.depth-t.depth},JU=function(){function e(){bn(this,e),this.children=[],this.isDirty=!1}return xn(e,[{key:"add",value:function(e){tj(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){nj(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(XU),this.isDirty=!1,this.children.forEach(e)}}]),e}();var ZU=["","X","Y","Z"],$U=0,eV={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function tV(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();bn(this,e),this.id=$U++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;eV.totalNodes=eV.resolvedTargetDeltas=eV.recalculatedProjection=0,t.nodes.forEach(iV),t.nodes.forEach(fV),t.nodes.forEach(hV),t.nodes.forEach(aV),e=eV,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(lr(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new JU)}return xn(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new rj),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(bL(r),e(a-t))};return kL.read(r,!0),function(){return bL(r)}}(l,250),xU.hasAnimatedSinceResize&&(xU.hasAnimatedSinceResize=!1,n.nodes.forEach(lV))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||u.getDefaultTransition()||gV,s=u.getProps(),c=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,f=!n.targetLayout||!KU(n.targetLayout,a)||i,h=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||h||r&&(f||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,h);var d=Tr(Tr({},JF(o,"layout")),{},{onPlay:c,onComplete:l});(u.shouldReduceMotion||n.options.layoutRoot)&&(d.delay=0,d.type=!1),n.startAnimation(d)}else r||lV(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bL(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dV),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(sV);this.isUpdating||this.nodes.forEach(uV),this.isUpdating=!1,this.nodes.forEach(cV),this.nodes.forEach(nV),this.nodes.forEach(rV),this.clearAllSnapshots();var e=performance.now();wL.delta=gO(0,1e3/60,e-wL.timestamp),wL.timestamp=e,wL.isProcessing=!0,xL.update.process(wL),xL.preRender.process(wL),xL.render.process(wL),wL.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(oV),this.sharedNodes.forEach(pV)}},{key:"scheduleUpdateProjection",value:function(){kL.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;kL.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jj(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!HU(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||nU(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),wV((e=r).x),wV(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return Jj();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(lU(t.x,n.offset.x),lU(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=Jj();jU(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){jU(t,e);var o=this.root.scroll;o&&(lU(t.x,-o.offset.x),lU(t.y,-o.offset.y))}lU(t.x,i.offset.x),lU(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Jj();jU(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pU(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),nU(i.latestValues)&&pU(n,i.latestValues)}return nU(this.latestValues)&&pU(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=Jj();jU(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&nU(r.latestValues)){tU(r.latestValues)&&r.updateSnapshot();var i=Jj();jU(i,r.measurePageBox()),qU(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return nU(this.latestValues)&&qU(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=Tr(Tr(Tr({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wL.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=wL.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jj(),this.relativeTargetOrigin=Jj(),Gj(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),jU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=Jj(),this.targetWithTransforms=Jj()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,zj(u.x,c.x,l.x),zj(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):jU(this.target,this.layout.layoutBox),uU(this.target,this.targetDelta)):jU(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jj(),this.relativeTargetOrigin=Jj(),Gj(this.relativeTargetOrigin,this.target,f.target),jU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}eV.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!tU(this.parent.latestValues)&&!rU(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===wL.timestamp&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){jU(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pU(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uU(e,o)),r&&nU(a.latestValues)&&pU(e,a.latestValues))}t.x=cU(t.x),t.y=cU(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=Xj(),this.projectionDeltaWithTransform=Xj());var l=this.projectionTransform;Bj(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=YU(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),eV.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=Xj(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=Tr({},this.latestValues),o=Xj();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=Jj(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),f=!l||l.members.length<=1,h=Boolean(c&&!f&&!0===this.options.crossfade&&!this.path.some(yV));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;vV(o.x,e.x,r),vV(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(Gj(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){mV(e.x,t.x,n.x,r),mV(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=Jj()),jU(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=FM(0,void 0!==n.opacity?n.opacity:1,OU(r)),e.opacityExit=FM(void 0!==t.opacity?t.opacity:1,0,LU(r))):a&&(e.opacity=FM(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<NU;o++){var s="border".concat(AU[o],"Radius"),u=DU(t,s),c=DU(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||RU(u)===RU(c)?(e[s]=Math.max(FM(PU(u),PU(c),r),0),(AO.test(c)||AO.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=FM(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,h,f)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bL(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kL.update((function(){xU.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=fO(e)?e:oj(e);return r.start(ZF("",r,t,n)),r.animation}(0,1e3,Tr(Tr({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&xV(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Jj();var a=jj(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=jj(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}jU(t,n),pU(t,i),Bj(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new QU),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<ZU.length;i++){var a="rotate"+ZU[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=fL(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=fL(n.pointerEvents)||""),this.hasProjected&&!nU(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=YU(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,sO)if(void 0!==s[f]){var h=sO[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?fL(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(sV),this.root.sharedNodes.clear()}}]),e}()}function nV(e){e.updateLayout()}function rV(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?Zj((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=jj(t);t.min=i[e].min,t.max=t.min+r})):xV(o,n.layoutBox,i)&&Zj((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],a=jj(i[t]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=Xj();Bj(u,i,n.layoutBox);var c=Xj();s?Bj(c,e.applyTransform(a,!0),n.measuredBox):Bj(c,i,n.layoutBox);var l=!HU(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=Jj();Gj(v,n.layoutBox,d.layoutBox);var m=Jj();Gj(m,i,p.layoutBox),KU(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function iV(e){eV.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oV(e){e.clearSnapshot()}function sV(e){e.clearMeasurements()}function uV(e){e.isLayoutDirty=!1}function cV(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lV(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fV(e){e.resolveTargetDelta()}function hV(e){e.calcProjection()}function dV(e){e.resetRotation()}function pV(e){e.removeLeadSnapshot()}function vV(e,t,n){e.translate=FM(t.translate,0,n),e.scale=FM(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mV(e,t,n,r){e.min=FM(t.min,n.min,r),e.max=FM(t.max,n.max,r)}function yV(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var gV={duration:.45,ease:[.4,0,.1,1]},kV=function(e){return"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e)},bV=kV("applewebkit/")&&!kV("chrome/")?Math.round:vL;function wV(e){e.min=bV(e.min),e.max=bV(e.max)}function xV(e,t,n){return"position"===e||"preserve-aspect"===e&&!Uj(WU(t),WU(n),.2)}var EV=tV({attachResizeListener:function(e,t){return SL(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),TV={current:void 0},SV=tV({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!TV.current){var e=new EV({});e.mount(window),e.setOptions({layoutScroll:!0}),TV.current=e}return TV.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),_V={pan:{Feature:wU},drag:{Feature:kU,ProjectionNode:SV,MeasureLayout:IU}};var IV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var CV=4;function AV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;rM(n<=CV,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=IV.exec(e);if(!t)return[,];var n=d(t,3);return[n[1],n[2]]}(e),i=d(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);if(s){var u=s.trim();return ej(u)?parseFloat(u):u}return mO(o)?AV(o,t,n+1):o}}function NV(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=Tr({},n)),e.values.forEach((function(e){var t=e.get();if(mO(t)){var n=AV(t,i);n&&e.set(n)}})),r){var o=r[a];if(mO(o)){var s=AV(o,i);s&&(r[a]=s,n||(n={}),void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var PV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RV=function(e){return PV.has(e)},DV=function(e){return e===kO||e===NO},OV=function(e,t){return parseFloat(e.split(", ")[t])},LV=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return OV(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?OV(o[1],e):0}},MV=new Set(["x","y","z"]),FV=uO.filter((function(e){return!MV.has(e)}));var jV={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:LV(4,13),y:LV(5,14)};jV.translateX=jV.x,jV.translateY=jV.y;var UV=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Tr({},t),r=Tr({},r);var i=Object.keys(t).filter(RV),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=cj(l),h=t[i];if(uL(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=cj(l);for(var v=p;v<d&&null!==h[v];v++)c?rM(cj(h[v])===c,"All keyframes must be of the same type"):(c=cj(h[v]),rM(c===f||DV(f)&&DV(c),"Keyframes must be of the same dimension as the current value"))}else c=cj(h);if(f!==c)if(DV(f)&&DV(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===NO&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return FV.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=jV[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=jV[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=d(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),FD&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function VV(e,t,n,r){return function(e){return Object.keys(e).some(RV)}(t)?UV(e,t,n,r):{target:t,transitionEnd:r}}var BV={current:null},zV={current:!1};var qV=new WeakMap,GV=["willChange"],HV=["children"],KV=Object.keys(XD),WV=KV.length,QV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],YV=GD.length,XV=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bn(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return kL.render(n.render,!1,!0)};var c=s.latestValues,l=s.renderState;this.latestValues=c,this.baseTarget=Tr({},c),this.initialValues=i.initial?Tr({},c):{},this.renderState=l,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=HD(i),this.isVariantNode=KD(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var f=this.scrapeMotionValuesFromProps(i,{}),h=f.willChange,d=HO(f,GV);for(var p in d){var v=d[p];void 0!==c[p]&&fO(v)&&(v.set(c[p],!1),$F(h)&&h.add(p))}}return xn(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,qV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),zV.current||function(){if(zV.current=!0,FD)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return BV.current=e.matches};e.addListener(t),t()}else BV.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||BV.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in qV.delete(this.current),this.projection&&this.projection.unmount(),bL(this.notifyUpdate),bL(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=cO.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&kL.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,a,o=this,s=(e.children,HO(e,HV)),u=0;u<WV;u++){var c=KV[u],l=XD[c],f=l.isEnabled,h=l.Feature,d=l.ProjectionNode,p=l.MeasureLayout;d&&(i=d),f(s)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,m=s.layout,y=s.drag,g=s.dragConstraints,k=s.layoutScroll,b=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(y)||g&&VD(g),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:r,layoutScroll:k,layoutRoot:b})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jj()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<QV.length;n++){var r=QV[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(fO(a))e.addValue(i,a),$F(r)&&r.add(i);else if(fO(o))e.addValue(i,oj(a,{owner:e})),$F(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,oj(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<YV;n++){var r=GD[n],i=this.props[r];(BD(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=oj(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=sL(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||fO(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new rj),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),JV=["transition","transitionEnd"],ZV=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=HO(e,JV),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=vj(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(ej(l)||QF(l))?l=parseFloat(l):!fj(l)&&JM.test(c)&&(l=WF(u,c)),e.addValue(u,oj(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var u=function(e,t,n,r){var i=NV(e,t,r);return VV(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=u.transitionEnd,a=u.target}return Tr({transition:r,transitionEnd:i},a)}}]),n}(XV);var $V=function(e){Sn(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return xn(n,[{key:"readValueFromInstance",value:function(e,t){if(cO.has(t)){var n=KF(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(vO(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return vU(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){MO(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return aL(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;fO(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){nL(e,t,n,r)}}]),n}(ZV),eB=function(e){Sn(n,e);var t=Cn(n);function n(){var e;return bn(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return xn(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(cO.has(t)){var n=KF(t);return n&&n.default||0}return t=rL.has(t)?t:tL(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return Jj()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return oL(e,t)}},{key:"build",value:function(e,t,n,r){XO(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){iL(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=ZO(e.tagName),Bi(_n(n.prototype),"mount",this).call(this,e)}}]),n}(ZV),tB=function(e,t){return oO(e)?new eB(t,{enableHardwareAcceleration:!1}):new $V(t,{enableHardwareAcceleration:!0})},nB={layout:{ProjectionNode:SV,MeasureLayout:IU}},rB=Tr(Tr(Tr(Tr({},Aj),ZL),_V),nB),iB=iO((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return Tr(Tr({},oO(e)?EL:TL),{},{preloadedFeatures:n,useRender:eL(a),createVisualElement:r,Component:e})}(e,t,rB,tB)}));var aB=function(e){var n=d((0,t.useState)(0),2),r=n[0],i=n[1],a=d((0,t.useState)(null),2),s=a[0],c=a[1];return(0,t.useState)((function(){var t=WP.ref(e.itemImage.name),n=KP.collection("auctions");t.put(e.itemImage).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){console.log(e)}),u(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getDownloadURL();case 2:return i=r.sent,a=HP(),delete e.itemImage,r.next=7,n.add(Tr(Tr({},e),{},{createdAt:a,imgUrl:i}));case 7:c(!0);case 8:case"end":return r.stop()}}),r)}))))}),[e]),{progress:r,isCompleted:s}},oB=function(e){var n=e.auction,r=e.setAuction,i=aB(n),a=i.progress,o=i.isCompleted;return(0,t.useEffect)((function(){o&&r(null)}),[o,r]),(0,YP.jsx)(iB.div,{style:{height:"5px",background:"black"},initial:{width:0},animate:{width:"".concat(a,"%")}})},sB=["bsPrefix","fluid","as","className"],uB=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.fluid,a=e.as,o=void 0===a?"div":a,s=e.className,u=p(e,sB),c=De(r,"container"),l="string"===typeof i?"-"+i:"-fluid";return t.createElement(o,v({ref:n},u,{className:y()(s,i?""+c+l:c)}))}));uB.displayName="Container",uB.defaultProps={fluid:!1};var cB=uB,lB=t.createContext(null);lB.displayName="CardContext";var fB=lB,hB=["bsPrefix","className","variant","as"],dB=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.variant,o=e.as,s=void 0===o?"img":o,u=p(e,hB),c=De(r,"card-img");return t.createElement(s,v({ref:n,className:y()(a?c+"-"+a:c,i)},u))}));dB.displayName="CardImg",dB.defaultProps={variant:null};var pB=dB,vB=["bsPrefix","className","bg","text","border","body","children","as"],mB=Je("h5"),yB=Je("h6"),gB=Me("card-body"),kB=Me("card-title",{Component:mB}),bB=Me("card-subtitle",{Component:yB}),wB=Me("card-link",{Component:"a"}),xB=Me("card-text",{Component:"p"}),EB=Me("card-header"),TB=Me("card-footer"),SB=Me("card-img-overlay"),_B=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.bg,o=e.text,s=e.border,u=e.body,c=e.children,l=e.as,f=void 0===l?"div":l,h=p(e,vB),d=De(r,"card"),m=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:d+"-header"}}),[d]);return t.createElement(fB.Provider,{value:m},t.createElement(f,v({ref:n},h,{className:y()(i,d,a&&"bg-"+a,o&&"text-"+o,s&&"border-"+s)}),u?t.createElement(gB,null,c):c))}));_B.displayName="Card",_B.defaultProps={body:!1},_B.Img=pB,_B.Title=kB,_B.Subtitle=bB,_B.Body=gB,_B.Link=wB,_B.Text=xB,_B.Header=EB,_B.Footer=TB,_B.ImgOverlay=SB;var IB=_B;function CB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NB(e,t,n){return t&&AB(e.prototype,t),n&&AB(e,n),e}function PB(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DB(e,t)}function RB(e){return RB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},RB(e)}function DB(e,t){return DB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DB(e,t)}function OB(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(tz){return!1}}();return function(){var n,r=RB(e);if(t){var i=RB(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OB(this,n)}}function MB(e){return function(e){if(Array.isArray(e))return FB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return FB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(e);if(0===t)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",a=r?r[3]:"",o=r?r[2]:n,s=o.length>=t?o:(MB(Array(t)).map((function(){return"0"})).join("")+o).slice(-1*t);return"".concat(i).concat(s).concat(a)}var UB={daysInHours:!1,zeroPadTime:2};function VB(e,t){var n=e.days,r=e.hours,i=e.minutes,a=e.seconds,o=Object.assign(Object.assign({},UB),t),s=o.daysInHours,u=o.zeroPadTime,c=o.zeroPadDays,l=void 0===c?u:c,f=Math.min(2,u),h=s?jB(r+24*n,u):jB(r,f);return{days:s?"":jB(n,l),hours:h,minutes:jB(i,f),seconds:jB(a,f)}}var BB=function(e){PB(r,e);var n=LB(r);function r(){var e;return CB(this,r),(e=n.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return NB(r,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,t.cloneElement)(this.props.children,{count:this.state.count}):null}}]),r}(t.Component);BB.propTypes={count:B.number,children:B.element,onComplete:B.func};var zB=function(e){PB(r,e);var n=LB(r);function r(e){var i;if(CB(this,r),(i=n.call(this,e)).mounted=!1,i.initialTimestamp=i.calcOffsetStartTimestamp(),i.offsetStartTimestamp=i.props.autoStart?0:i.initialTimestamp,i.offsetTime=0,i.legacyMode=!1,i.legacyCountdownRef=(0,t.createRef)(),i.tick=function(){var e=i.calcTimeDelta(),t=e.completed&&!i.props.overtime?void 0:i.props.onTick;i.setTimeDeltaState(e,void 0,t)},i.start=function(){if(!i.isStarted()){var e=i.offsetStartTimestamp;i.offsetStartTimestamp=0,i.offsetTime+=e?i.calcOffsetStartTimestamp()-e:0;var t=i.calcTimeDelta();i.setTimeDeltaState(t,"STARTED",i.props.onStart),i.props.controlled||t.completed&&!i.props.overtime||(i.clearTimer(),i.interval=window.setInterval(i.tick,i.props.intervalDelay))}},i.pause=function(){i.isPaused()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.setTimeDeltaState(i.state.timeDelta,"PAUSED",i.props.onPause))},i.stop=function(){i.isStopped()||(i.clearTimer(),i.offsetStartTimestamp=i.calcOffsetStartTimestamp(),i.offsetTime=i.offsetStartTimestamp-i.initialTimestamp,i.setTimeDeltaState(i.calcTimeDelta(),"STOPPED",i.props.onStop))},i.isStarted=function(){return i.isStatus("STARTED")},i.isPaused=function(){return i.isStatus("PAUSED")},i.isStopped=function(){return i.isStatus("STOPPED")},i.isCompleted=function(){return i.isStatus("COMPLETED")},e.date){var a=i.calcTimeDelta();i.state={timeDelta:a,status:a.completed?"COMPLETED":"STOPPED"}}else i.legacyMode=!0;return i}return NB(r,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,n=e.now,r=e.precision,i=e.controlled,a=e.overtime;return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.now,i=void 0===r?Date.now:r,a=n.precision,o=void 0===a?0:a,s=n.controlled,u=n.offsetTime,c=void 0===u?0:u,l=n.overtime;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,s||(t+=c);var f=s?t:t-i(),h=Math.min(20,Math.max(0,o)),d=Math.round(1e3*parseFloat(((l?f:Math.max(0,f))/1e3).toFixed(h))),p=Math.abs(d)/1e3;return{total:d,days:Math.floor(p/86400),hours:Math.floor(p/3600%24),minutes:Math.floor(p/60%60),seconds:Math.floor(p%60),milliseconds:Number((p%1*1e3).toFixed()),completed:d<=0}}(t,{now:n,precision:r,controlled:i,offsetTime:this.offsetTime,overtime:a})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,n){var r=this;if(this.mounted){var i=e.completed&&!this.state.timeDelta.completed,a=e.completed&&"STARTED"===t;i&&!this.props.overtime&&this.clearTimer();return this.setState((function(n){var i=t||n.status;return e.completed&&!r.props.overtime?i="COMPLETED":t||"COMPLETED"!==i||(i="STOPPED"),{timeDelta:e,status:i}}),(function(){n&&n(r.state.timeDelta),r.props.onComplete&&(i||a)&&r.props.onComplete(e,a)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,n=e.zeroPadTime,r=e.zeroPadDays,i=this.state.timeDelta;return Object.assign(Object.assign({},i),{api:this.getApi(),props:this.props,formatted:VB(i,{daysInHours:t,zeroPadTime:n,zeroPadDays:r})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,n=e.count,r=e.children,i=e.onComplete;return(0,t.createElement)(BB,{ref:this.legacyCountdownRef,count:n,onComplete:i},r)}var a=this.props,o=a.className,s=a.overtime,u=a.children,c=a.renderer,l=this.getRenderProps();if(c)return c(l);if(u&&this.state.timeDelta.completed&&!s)return(0,t.cloneElement)(u,{countdown:l});var f=l.formatted,h=f.days,d=f.hours,p=f.minutes,v=f.seconds;return(0,t.createElement)("span",{className:o},l.total<0?"-":"",h,h?":":"",d,":",p,":",v)}}]),r}(t.Component);zB.defaultProps=Object.assign(Object.assign({},UB),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),zB.propTypes={date:(0,B.oneOfType)([(0,B.instanceOf)(Date),B.string,B.number]),daysInHours:B.bool,zeroPadTime:B.number,zeroPadDays:B.number,controlled:B.bool,intervalDelay:B.number,precision:B.number,autoStart:B.bool,overtime:B.bool,className:B.string,children:B.element,renderer:B.func,now:B.func,onMount:B.func,onStart:B.func,onPause:B.func,onStop:B.func,onTick:B.func,onComplete:B.func};var qB=zB,GB=function(e){var r=e.item,i=r.duration,a=(0,t.useContext)(XP),s=a.currentUser,c=a.bidAuction,l=a.endAuction,f=a.addBid,h=a.checkBid,p=a.addComment,v=d((0,t.useState)(!1),2),m=v[0],y=v[1],g=d((0,t.useState)({priceForm:"",amountForm:""}),2),k=(g[0],g[1],n(329)),b=["#e6261f","#eb7532","#f7d038","#a3e048","#49da9a","#34bbe6","#4355db","#d23be7","#77D64D","#4D830D","#E5FFB3","#42890A","#C55013","#6F0B19","#EC8688","#3389DE","#93B8C2","#A48FCB","#4A9B51","#A980DE","#3FCEF8","#3D38F9","#089C28","#0085E9","#BE1306","#839D89","#C65C13","#F225F5","#D11B71","#BD6B55","#E0CF69","#838AE9","#DC1139","#FDA527","#EE4257","#A1FFF9","#4CFEFB","#533500","#FBAE06","#486BDC","#F94D11","#E94E6A","#6065DD","#981757","#6A7ABB","#25A290","#BE6188","#EFB602","#4FCE16","#7E1A9C","#EABACC","#DC16CC","#365E44","#2E7FD0","#C0455F","#5F2782","#4BF1D0"],w=function(e){var t=k(e).slice(0,6),n=parseInt(t,16);return b[n%b.length]},x=(0,t.useRef)(),E=(0,t.useRef)(),T=(0,t.useRef)(),S=function(){y(!0)},_=function(){y(!1)},I=function(e,t){for(var n=[],r=1,i=0;i<t.length;i++)for(var a=t[i],o=a.email,s=a.amount,u=w(o),c=0;c<s;c++){var l="box-".concat(r);n.push((0,YP.jsx)("div",{className:"amount-box",style:{backgroundColor:u}},l)),r++}for(;r-1<e;){var f="box-".concat(r);n.push((0,YP.jsx)("div",{className:"amount-box",style:{backgroundColor:"#808080"}},f)),r++}return(0,YP.jsx)("div",{className:"amount-row",children:n})},C=function(e){var t=new Date(1970,0,1);t.setSeconds(e);var n=t.toString().split(" ");return"-"+n[4]+" "+n[2]+" "+n[1]+" "},A=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p(r,T.current.value,s.email),T.current.value="";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YP.jsx)("div",{children:(0,YP.jsx)(qB,{owner:s,date:i,addBid:f,bidAuction:c,endAuction:l,checkBid:h,item:r,renderer:function(e){var t=e.days,n=e.hours,i=e.minutes,a=e.seconds,o=e.completed,u=e.props;return(0,YP.jsxs)("div",{children:[(0,YP.jsxs)(it,{show:m,onHide:_,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,YP.jsxs)(it.Header,{style:{backgroundColor:"#F0F2F5"},children:[(0,YP.jsxs)(it.Title,{children:[u.item.title," x ",u.item.amount]}),(0,YP.jsx)(yn,{variant:"danger",onClick:_,children:"Close"})]}),(0,YP.jsx)(it.Body,{style:{backgroundColor:"#F0F2F5"},children:(0,YP.jsxs)(cB,{children:[(0,YP.jsx)(iR,{children:(0,YP.jsx)("div",{style:{height:"320px",backgroundImage:"url(".concat(u.item.imgUrl,")"),backgroundSize:"contain",backgroundColor:"#FFFFFF",border:"1px solid black",backgroundRepeat:"no-repeat",backgroundPosition:"center",marginBottom:"1rem"},className:"w-100"})}),(0,YP.jsxs)(iR,{children:[(0,YP.jsxs)(tn,{children:[(0,YP.jsx)("h4",{children:"Details"}),(0,YP.jsx)("p",{children:r.desc}),(0,YP.jsx)("h4",{children:"Comments"}),s?(0,YP.jsx)("form",{onSubmit:A,children:(0,YP.jsx)(pn.Group,{children:(0,YP.jsxs)(tn,{children:[(0,YP.jsx)(pn.Control,{as:"textarea",rows:1,required:!0,ref:T}),(0,YP.jsx)(yn,{variant:"primary",type:"submit",children:"Submit"})]})})}):(0,YP.jsx)("p",{}),(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:u.item.comment&&u.item.comment.map((function(e,t){return(0,YP.jsx)("div",{children:(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:[e.email,": ",e.comment]})},t)}))})]}),(0,YP.jsxs)(tn,{children:[(0,YP.jsx)("div",{className:"displayitemsfromamount",children:u.item.powerBuyActive?I(u.item.amount,u.item.currentCatchup):I(u.item.amount,u.item.currentWinner)}),(0,YP.jsx)(IB,{style:{width:"100%",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.2)",marginTop:"10px"},children:(0,YP.jsxs)(IB.Body,{className:"justify-content-center",children:[(0,YP.jsx)(IB.Title,{className:"text-center",children:"Current Winner"}),(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:u.item.currentWinner&&u.item.currentWinner.map((function(e,t){return(0,YP.jsxs)("div",{children:[(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:[e.amount," x $",e.price]}),(0,YP.jsx)("p",{style:{margin:"0",float:"right"},children:C(e.date.seconds).toString()}),(0,YP.jsx)("p",{style:{margin:"0",float:"right"},children:e.email})]},t)}))})]})}),u.item.powerBuyActive?(0,YP.jsx)(IB,{style:{width:"100%",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.2)",marginTop:"10px"},children:(0,YP.jsxs)(IB.Body,{className:"justify-content-center",children:[(0,YP.jsx)(IB.Title,{className:"text-center",children:"Current Catchup"}),(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:u.item.currentCatchup&&u.item.currentCatchup.map((function(e,t){return(0,YP.jsxs)("div",{children:[(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:[e.amount," x $",e.price]}),(0,YP.jsx)("p",{style:{margin:"0",float:"right"},children:C(e.date.seconds).toString()}),(0,YP.jsx)("p",{style:{margin:"0",float:"right"},children:e.email})]},t)}))})]})}):(0,YP.jsx)("div",{}),!o&&s?(0,YP.jsx)(IB,{style:{width:"100%",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.2)",marginTop:"10px"},children:(0,YP.jsxs)(IB.Body,{className:"justify-content-center",children:[(0,YP.jsx)(iR,{xs:"auto"}),(0,YP.jsxs)(iR,{xs:"auto",children:[(0,YP.jsx)(tn,{xs:5,children:(0,YP.jsx)(pn.Control,{type:"number",required:!0,ref:E})}),(0,YP.jsx)(tn,{children:(0,YP.jsx)("h4",{style:{margin:"0",textAlign:"center"},children:"X"})}),(0,YP.jsx)(tn,{xs:5,children:(0,YP.jsx)(pn.Control,{type:"number",placeholder:"$",required:!0,ref:x})})]}),(0,YP.jsxs)("div",{className:"d-flex justify-content-center mt-1 mx-2",children:[(0,YP.jsx)("div",{onClick:function(){return u.addBid(u.item.id,u.owner.email,x.current.value,E.current.value)},className:"btn btn-primary",children:"Place Bid"}),(0,YP.jsx)("div",{onClick:function(){return u.addBid(u.item.id,u.owner.email,x.current.value,E.current.value,!0)},className:"btn btn-success",children:"Power Bid"})]})]})}):(0,YP.jsx)("h5",{className:"d-flex justify-content-center mt-1"}),(0,YP.jsx)(IB,{style:{width:"100%",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.2)",marginTop:"10px"},children:(0,YP.jsxs)(IB.Body,{children:[(0,YP.jsx)(IB.Title,{className:"text-center",children:"Current Bids"}),(0,YP.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:u.item.bidsList&&u.item.bidsList.map((function(e,t){return(0,YP.jsxs)("div",{children:[(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:[e.amount," x $",e.price]}),(0,YP.jsx)("p",{style:{margin:"0",float:"right"},children:e.email})]},t)}))})]})})]})]})]})}),(0,YP.jsx)(it.Footer,{style:{backgroundColor:"#F0F2F5"}})]}),(0,YP.jsx)("div",{className:"col",onClick:S,children:(0,YP.jsxs)("div",{className:"card shadow-sm ",children:[(0,YP.jsx)("div",{style:{height:"300px",backgroundImage:"url(".concat(u.item.imgUrl,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"w-100 bg-light"}),(0,YP.jsxs)("div",{className:"card-body",children:[(0,YP.jsx)("div",{className:"",children:u.item.hashTag&&u.item.hashTag.map((function(e,t){return(0,YP.jsx)("div",{children:(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:["#",e]})},t)}))}),(0,YP.jsx)("br",{}),(0,YP.jsxs)("h4",{className:"my-0",children:[u.item.title," X ",u.item.amount]}),o?(0,YP.jsx)("h5",{className:"my-1",children:"Completed"}):(0,YP.jsx)("div",{className:"d-flex justify-content-between align-item-center",children:(0,YP.jsxs)("h5",{className:"my-1",children:[24*t+n," hr: ",i," min: ",a," sec"]})}),(0,YP.jsx)("p",{className:"card-text my-0",children:u.item.desc.substring(0,43)+"..."}),(0,YP.jsx)("div",{className:"d-flex justify-content-between align-item-center",children:o?(0,YP.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,YP.jsx)("h5",{className:"my-1",children:"Winner"}),u.item.bidsList&&u.item.currentWinner.map((function(e,t){return(0,YP.jsx)("div",{children:(0,YP.jsxs)("p",{style:{margin:"0",float:"left"},children:[e.amount," x $",e.price," ",e.email]})},t)}))]}):(0,YP.jsxs)("h5",{className:"my-1",children:["Highest Bid: $",u.item.curPrice]})})]})]})})]})}})})},HB=["bsPrefix","size","hasValidation","className","as"],KB=Me("input-group-append"),WB=Me("input-group-prepend"),QB=Me("input-group-text",{Component:"span"}),YB=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.hasValidation,o=e.className,s=e.as,u=void 0===s?"div":s,c=p(e,HB);return r=De(r,"input-group"),t.createElement(u,v({ref:n},c,{className:y()(o,r,i&&r+"-"+i,a&&"has-validation")}))}));YB.displayName="InputGroup",YB.Text=QB,YB.Radio=function(e){return t.createElement(QB,null,t.createElement("input",v({type:"radio"},e)))},YB.Checkbox=function(e){return t.createElement(QB,null,t.createElement("input",v({type:"checkbox"},e)))},YB.Append=KB,YB.Prepend=WB;var XB=YB,JB=function(e){var n=e.setSearchItem,r=(0,t.useRef)();return(0,YP.jsxs)(XB,{className:"mb-3",children:[(0,YP.jsx)(pn.Control,{placeholder:"Search for items","aria-label":"Search for items","aria-describedby":"search bar",required:!0,ref:r}),(0,YP.jsx)(yn,{variant:"info",id:"searchbutton",onClick:function(){var e=r.current.value;n(e)},children:"Search"})]})},ZB=function(){var e=d((0,t.useState)(null),2),n=e[0],r=e[1],i=d((0,t.useState)(""),2),a=i[0],o=i[1],s=(0,t.useContext)(XP),u=s.currentUser,c=s.globalMsg,l=aR("auctions").docs,f=function(e){if(""===a)return e;for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].hashTag.length;r++)a.toLowerCase()===e[n].hashTag[r]&&t.push(e[n]);return t};return(0,YP.jsx)("div",{className:"py-5 ",children:(0,YP.jsxs)("div",{className:"container ",children:[(0,YP.jsx)(JB,{setSearchItem:function(e){o(e)}}),n&&(0,YP.jsx)(oB,{auction:n,setAuction:r}),c&&(0,YP.jsx)(xt,{variant:"info",children:c}),u&&(0,YP.jsx)(DD,{setAuction:r}),f(l)&&(0,YP.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4",children:f(l).map((function(e){return(0,YP.jsx)(GB,{item:e},e.id)}))})]})})},$B=function(){return(0,YP.jsx)("div",{children:"auction"})},ez=function(){return(0,YP.jsx)(_D,{children:(0,YP.jsxs)(JP,{children:[(0,YP.jsx)(RD,{}),(0,YP.jsxs)(gD,{children:[(0,YP.jsx)(mD,{exact:!0,path:"/",element:(0,YP.jsx)(ZB,{})}),(0,YP.jsx)(mD,{path:"/auction",element:(0,YP.jsx)($B,{})})]})]})})};(0,i.s)(document.getElementById("root")).render((0,YP.jsx)(ez,{}))}()}();
//# sourceMappingURL=main.001181fd.js.map